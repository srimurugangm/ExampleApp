if(function(){function t(t){return h.call(t)}function e(t,e,n){try{c.call(t,e,n)}catch(r){}}function n(t,e){l.call(t,e)}function r(t){return d.call(t)}function i(t){for(;t.childNodes.length;)t.removeChild(t.lastChild)}function o(t,e,n){f.value.call(t,e,n)}function s(){var t=!0;try{p.innerHTML="<test/>"}catch(e){t=!1}return t}function a(s,a){function u(i){var o=t(i);if(o&&o.length){for(var s,a=0,c=o.length;a<c;a++){var l=o[a],f=l.name;"o"!==f[0]&&"O"!==f[0]||"n"!==f[1]&&"N"!==f[1]||(s=s||[],s.push({name:l.name,value:l.value}))}if(s)for(var a=0,c=s.length;a<c;a++){var l=s[a];n(i,l.name),e(i,"x-"+l.name,l.value)}}for(var h=r(i),a=0,c=h.length;a<c;a++)u(h[a])}var c=document.implementation.createHTMLDocument("cleaner");i(c.documentElement),MSApp.execUnsafeLocalFunction(function(){o(c.documentElement,"afterbegin",s)});var l=c.documentElement.querySelectorAll("script");Array.prototype.forEach.call(l,function(t){switch(t.type.toLowerCase()){case"":t.type="text/inert";break;case"text/javascript":case"text/ecmascript":case"text/x-javascript":case"text/jscript":case"text/livescript":case"text/javascript1.1":case"text/javascript1.2":case"text/javascript1.3":t.type="text/inert-"+t.type.slice("text/".length);break;case"application/javascript":case"application/ecmascript":case"application/x-javascript":t.type="application/inert-"+t.type.slice("application/".length)}}),u(c.documentElement);var f=[];return"HTML"===a.tagName?f=Array.prototype.slice.call(document.adoptNode(c.documentElement).childNodes):(c.head&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.head).childNodes))),c.body&&(f=f.concat(Array.prototype.slice.call(document.adoptNode(c.body).childNodes)))),f}function u(t,e){var n=Object.getOwnPropertyDescriptor(HTMLElement.prototype,t),r=n.set;Object.defineProperty(HTMLElement.prototype,t,{get:n.get,set:function(t){if(window.WinJS&&window.WinJS._execUnsafe&&s())r.call(this,t);else{var i=this,o=a(t,i);MSApp.execUnsafeLocalFunction(function(){e(n,i,o)})}},enumerable:n.enumerable,configurable:n.configurable})}if(window.MSApp&&MSApp.execUnsafeLocalFunction){var c=Object.getOwnPropertyDescriptor(Element.prototype,"setAttribute").value,l=Object.getOwnPropertyDescriptor(Element.prototype,"removeAttribute").value,f=Object.getOwnPropertyDescriptor(HTMLElement.prototype,"insertAdjacentHTML"),h=Object.getOwnPropertyDescriptor(Node.prototype,"attributes").get,d=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes").get,p=document.createElement("div");u("innerHTML",function(t,e,n){i(e);for(var r=0,o=n.length;r<o;r++)e.appendChild(n[r])}),u("outerHTML",function(t,e,n){for(var r=0,i=n.length;r<i;r++)e.insertAdjacentElement("afterend",n[r]);e.parentNode.removeChild(e)})}}(),window.WebComponents=window.WebComponents||{},function(t){var e=t.flags||{},n="webcomponents-lite.js",r=document.querySelector('script[src*="'+n+'"]');if(!e.noOpts){if(location.search.slice(1).split("&").forEach(function(t){var n,r=t.split("=");r[0]&&(n=r[0].match(/wc-(.+)/))&&(e[n[1]]=r[1]||!0)}),r)for(var i,o=0;i=r.attributes[o];o++)"src"!==i.name&&(e[i.name]=i.value||!0);if(e.log){var s=e.log.split(",");e.log={},s.forEach(function(t){e.log[t]=!0})}else e.log={}}e.shadow=e.shadow||e.shadowdom||e.polyfill,e.shadow="native"!==e.shadow&&(e.shadow||!HTMLElement.prototype.createShadowRoot),e.register&&(window.CustomElements=window.CustomElements||{flags:{}},window.CustomElements.flags.register=e.register),t.flags=e}(window.WebComponents),function(t){"use strict";function e(t){return void 0!==h[t]}function n(){a.call(this),this._isInvalid=!0}function r(t){return""==t&&n.call(this),t.toLowerCase()}function i(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,63,96].indexOf(e)?t:encodeURIComponent(t)}function o(t){var e=t.charCodeAt(0);return e>32&&127>e&&-1==[34,35,60,62,96].indexOf(e)?t:encodeURIComponent(t)}function s(t,s,a){function u(t){y.push(t)}var c=s||"scheme start",l=0,f="",g=!1,b=!1,y=[];t:for(;(t[l-1]!=p||0==l)&&!this._isInvalid;){var _=t[l];switch(c){case"scheme start":if(!_||!v.test(_)){if(s){u("Invalid scheme.");break t}f="",c="no scheme";continue}f+=_.toLowerCase(),c="scheme";break;case"scheme":if(_&&m.test(_))f+=_.toLowerCase();else{if(":"!=_){if(s){if(p==_)break t;u("Code point not allowed in scheme: "+_);break t}f="",l=0,c="no scheme";continue}if(this._scheme=f,f="",s)break t;e(this._scheme)&&(this._isRelative=!0),c="file"==this._scheme?"relative":this._isRelative&&a&&a._scheme==this._scheme?"relative or authority":this._isRelative?"authority first slash":"scheme data"}break;case"scheme data":"?"==_?(this._query="?",c="query"):"#"==_?(this._fragment="#",c="fragment"):p!=_&&"\t"!=_&&"\n"!=_&&"\r"!=_&&(this._schemeData+=i(_));break;case"no scheme":if(a&&e(a._scheme)){c="relative";continue}u("Missing scheme."),n.call(this);break;case"relative or authority":if("/"!=_||"/"!=t[l+1]){u("Expected /, got: "+_),c="relative";continue}c="authority ignore slashes";break;case"relative":if(this._isRelative=!0,"file"!=this._scheme&&(this._scheme=a._scheme),p==_){this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._username=a._username,this._password=a._password;break t}if("/"==_||"\\"==_)"\\"==_&&u("\\ is an invalid code point."),c="relative slash";else if("?"==_)this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query="?",this._username=a._username,this._password=a._password,c="query";else{if("#"!=_){var w=t[l+1],S=t[l+2];("file"!=this._scheme||!v.test(_)||":"!=w&&"|"!=w||p!=S&&"/"!=S&&"\\"!=S&&"?"!=S&&"#"!=S)&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password,this._path=a._path.slice(),this._path.pop()),c="relative path";continue}this._host=a._host,this._port=a._port,this._path=a._path.slice(),this._query=a._query,this._fragment="#",this._username=a._username,this._password=a._password,c="fragment"}break;case"relative slash":if("/"!=_&&"\\"!=_){"file"!=this._scheme&&(this._host=a._host,this._port=a._port,this._username=a._username,this._password=a._password),c="relative path";continue}"\\"==_&&u("\\ is an invalid code point."),c="file"==this._scheme?"file host":"authority ignore slashes";break;case"authority first slash":if("/"!=_){u("Expected '/', got: "+_),c="authority ignore slashes";continue}c="authority second slash";break;case"authority second slash":if(c="authority ignore slashes","/"!=_){u("Expected '/', got: "+_);continue}break;case"authority ignore slashes":if("/"!=_&&"\\"!=_){c="authority";continue}u("Expected authority, got: "+_);break;case"authority":if("@"==_){g&&(u("@ already seen."),f+="%40"),g=!0;for(var x=0;x<f.length;x++){var E=f[x];if("\t"!=E&&"\n"!=E&&"\r"!=E)if(":"!=E||null!==this._password){var C=i(E);null!==this._password?this._password+=C:this._username+=C}else this._password="";else u("Invalid whitespace in authority.")}f=""}else{if(p==_||"/"==_||"\\"==_||"?"==_||"#"==_){l-=f.length,f="",c="host";continue}f+=_}break;case"file host":if(p==_||"/"==_||"\\"==_||"?"==_||"#"==_){2!=f.length||!v.test(f[0])||":"!=f[1]&&"|"!=f[1]?0==f.length?c="relative path start":(this._host=r.call(this,f),f="",c="relative path start"):c="relative path";continue}"\t"==_||"\n"==_||"\r"==_?u("Invalid whitespace in file host."):f+=_;break;case"host":case"hostname":if(":"!=_||b){if(p==_||"/"==_||"\\"==_||"?"==_||"#"==_){if(this._host=r.call(this,f),f="",c="relative path start",s)break t;continue}"\t"!=_&&"\n"!=_&&"\r"!=_?("["==_?b=!0:"]"==_&&(b=!1),f+=_):u("Invalid code point in host/hostname: "+_)}else if(this._host=r.call(this,f),f="",c="port","hostname"==s)break t;break;case"port":if(/[0-9]/.test(_))f+=_;else{if(p==_||"/"==_||"\\"==_||"?"==_||"#"==_||s){if(""!=f){var k=parseInt(f,10);k!=h[this._scheme]&&(this._port=k+""),f=""}if(s)break t;c="relative path start";continue}"\t"==_||"\n"==_||"\r"==_?u("Invalid code point in port: "+_):n.call(this)}break;case"relative path start":if("\\"==_&&u("'\\' not allowed in path."),c="relative path","/"!=_&&"\\"!=_)continue;break;case"relative path":if(p!=_&&"/"!=_&&"\\"!=_&&(s||"?"!=_&&"#"!=_))"\t"!=_&&"\n"!=_&&"\r"!=_&&(f+=i(_));else{"\\"==_&&u("\\ not allowed in relative path.");var A;(A=d[f.toLowerCase()])&&(f=A),".."==f?(this._path.pop(),"/"!=_&&"\\"!=_&&this._path.push("")):"."==f&&"/"!=_&&"\\"!=_?this._path.push(""):"."!=f&&("file"==this._scheme&&0==this._path.length&&2==f.length&&v.test(f[0])&&"|"==f[1]&&(f=f[0]+":"),this._path.push(f)),f="","?"==_?(this._query="?",c="query"):"#"==_&&(this._fragment="#",c="fragment")}break;case"query":s||"#"!=_?p!=_&&"\t"!=_&&"\n"!=_&&"\r"!=_&&(this._query+=o(_)):(this._fragment="#",c="fragment");break;case"fragment":p!=_&&"\t"!=_&&"\n"!=_&&"\r"!=_&&(this._fragment+=_)}l++}}function a(){this._scheme="",this._schemeData="",this._username="",this._password=null,this._host="",this._port="",this._path=[],this._query="",this._fragment="",this._isInvalid=!1,this._isRelative=!1}function u(t,e){void 0===e||e instanceof u||(e=new u(String(e))),this._url=t,a.call(this);var n=t.replace(/^[ \t\r\n\f]+|[ \t\r\n\f]+$/g,"");s.call(this,n,null,e)}var c=!1;if(!t.forceJURL)try{var l=new URL("b","http://a");l.pathname="c%20d",c="http://a/c%20d"===l.href}catch(f){}if(!c){var h=Object.create(null);h.ftp=21,h.file=0,h.gopher=70,h.http=80,h.https=443,h.ws=80,h.wss=443;var d=Object.create(null);d["%2e"]=".",d[".%2e"]="..",d["%2e."]="..",d["%2e%2e"]="..";var p=void 0,v=/[a-zA-Z]/,m=/[a-zA-Z0-9\+\-\.]/;u.prototype={toString:function(){return this.href},get href(){if(this._isInvalid)return this._url;var t="";return(""!=this._username||null!=this._password)&&(t=this._username+(null!=this._password?":"+this._password:"")+"@"),this.protocol+(this._isRelative?"//"+t+this.host:"")+this.pathname+this._query+this._fragment},set href(t){a.call(this),s.call(this,t)},get protocol(){return this._scheme+":"},set protocol(t){this._isInvalid||s.call(this,t+":","scheme start")},get host(){return this._isInvalid?"":this._port?this._host+":"+this._port:this._host},set host(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"host")},get hostname(){return this._host},set hostname(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"hostname")},get port(){return this._port},set port(t){!this._isInvalid&&this._isRelative&&s.call(this,t,"port")},get pathname(){return this._isInvalid?"":this._isRelative?"/"+this._path.join("/"):this._schemeData},set pathname(t){!this._isInvalid&&this._isRelative&&(this._path=[],s.call(this,t,"relative path start"))},get search(){return this._isInvalid||!this._query||"?"==this._query?"":this._query},set search(t){!this._isInvalid&&this._isRelative&&(this._query="?","?"==t[0]&&(t=t.slice(1)),s.call(this,t,"query"))},get hash(){return this._isInvalid||!this._fragment||"#"==this._fragment?"":this._fragment},set hash(t){this._isInvalid||(this._fragment="#","#"==t[0]&&(t=t.slice(1)),s.call(this,t,"fragment"))},get origin(){var t;if(this._isInvalid||!this._scheme)return"";switch(this._scheme){case"data":case"file":case"javascript":case"mailto":return"null"}return t=this.host,t?this._scheme+"://"+t:""}};var g=t.URL;g&&(u.createObjectURL=function(t){return g.createObjectURL.apply(g,arguments)},u.revokeObjectURL=function(t){g.revokeObjectURL(t)}),t.URL=u}}(this),"undefined"==typeof WeakMap&&!function(){var t=Object.defineProperty,e=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+(e++ +"__")};n.prototype={set:function(e,n){var r=e[this.name];return r&&r[0]===e?r[1]=n:t(e,this.name,{value:[e,n],writable:!0}),this},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){var e=t[this.name];return!(!e||e[0]!==t)&&(e[0]=e[1]=void 0,!0)},has:function(t){var e=t[this.name];return!!e&&e[0]===t}},window.WeakMap=n}(),function(t){function e(t){_.push(t),y||(y=!0,v(r))}function n(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function r(){y=!1;var t=_;_=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();i(t),n.length&&(t.callback_(n,t),e=!0)}),e&&r()}function i(t){t.nodes_.forEach(function(e){var n=m.get(e);n&&n.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function o(t,e){for(var n=t;n;n=n.parentNode){var r=m.get(n);if(r)for(var i=0;i<r.length;i++){var o=r[i],s=o.options;if(n===t||s.subtree){var a=e(s);a&&o.enqueue(a)}}}}function s(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++w}function a(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function u(t){var e=new a(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function c(t,e){return S=new a(t,e)}function l(t){return x?x:(x=u(S),x.oldValue=t,x)}function f(){S=x=void 0}function h(t){return t===x||t===S}function d(t,e){return t===e?t:x&&h(t)?x:null}function p(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}var v,m=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))v=setTimeout;else if(window.setImmediate)v=window.setImmediate;else{var g=[],b=String(Math.random());window.addEventListener("message",function(t){if(t.data===b){var e=g;g=[],e.forEach(function(t){t()})}}),v=function(t){g.push(t),window.postMessage(b,"*")}}var y=!1,_=[],w=0;s.prototype={observe:function(t,e){if(t=n(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var r=m.get(t);r||m.set(t,r=[]);for(var i,o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=e;break}i||(i=new p(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=m.get(t),n=0;n<e.length;n++){var r=e[n];if(r.observer===this){r.removeListeners(),e.splice(n,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}};var S,x;p.prototype={enqueue:function(t){var n=this.observer.records_,r=n.length;if(n.length>0){var i=n[r-1],o=d(i,t);if(o)return void(n[r-1]=o)}else e(this.observer);n[r]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=m.get(t);e||m.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=m.get(t),n=0;n<e.length;n++)if(e[n]===this){e.splice(n,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,r=t.target,i=new c("attributes",r);i.attributeName=e,i.attributeNamespace=n;var s=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;o(r,function(t){return!t.attributes||t.attributeFilter&&t.attributeFilter.length&&-1===t.attributeFilter.indexOf(e)&&-1===t.attributeFilter.indexOf(n)?void 0:t.attributeOldValue?l(s):i});break;case"DOMCharacterDataModified":var r=t.target,i=c("characterData",r),s=t.prevValue;o(r,function(t){return t.characterData?t.characterDataOldValue?l(s):i:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,u,h=t.target;"DOMNodeInserted"===t.type?(a=[h],u=[]):(a=[],u=[h]);var d=h.previousSibling,p=h.nextSibling,i=c("childList",t.target.parentNode);i.addedNodes=a,i.removedNodes=u,i.previousSibling=d,i.nextSibling=p,o(t.relatedNode,function(t){return t.childList?i:void 0})}f()}},t.JsMutationObserver=s,t.MutationObserver||(t.MutationObserver=s)}(this),window.HTMLImports=window.HTMLImports||{flags:{}},function(t){function e(t,e){e=e||p,r(function(){o(t,e)},e)}function n(t){return"complete"===t.readyState||t.readyState===g}function r(t,e){if(n(e))t&&t();else{var i=function(){("complete"===e.readyState||e.readyState===g)&&(e.removeEventListener(b,i),r(t,e))};e.addEventListener(b,i)}}function i(t){t.target.__loaded=!0}function o(t,e){function n(){u==c&&t&&t({allImports:a,loadedImports:l,errorImports:f})}function r(t){i(t),l.push(this),u++,n()}function o(t){f.push(this),u++,n()}var a=e.querySelectorAll("link[rel=import]"),u=0,c=a.length,l=[],f=[];if(c)for(var h,d=0;c>d&&(h=a[d]);d++)s(h)?(u++,n()):(h.addEventListener("load",r),h.addEventListener("error",o));else n()}function s(t){return f?t.__loaded||t["import"]&&"loading"!==t["import"].readyState:t.__importParsed}function a(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)u(e)&&c(e)}function u(t){return"link"===t.localName&&"import"===t.rel}function c(t){var e=t["import"];e?i({target:t}):(t.addEventListener("load",i),t.addEventListener("error",i))}var l="import",f=Boolean(l in document.createElement("link")),h=Boolean(window.ShadowDOMPolyfill),d=function(t){return h?window.ShadowDOMPolyfill.wrapIfNeeded(t):t},p=d(document),v={get:function(){var t=window.HTMLImports.currentScript||document.currentScript||("complete"!==document.readyState?document.scripts[document.scripts.length-1]:null);return d(t)},configurable:!0};Object.defineProperty(document,"_currentScript",v),Object.defineProperty(p,"_currentScript",v);var m=/Trident/.test(navigator.userAgent),g=m?"complete":"interactive",b="readystatechange";f&&(new MutationObserver(function(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)e.addedNodes&&a(e.addedNodes)}).observe(document.head,{childList:!0}),function(){if("loading"===document.readyState)for(var t,e=document.querySelectorAll("link[rel=import]"),n=0,r=e.length;r>n&&(t=e[n]);n++)c(t)}()),e(function(t){window.HTMLImports.ready=!0,window.HTMLImports.readyTime=(new Date).getTime();var e=p.createEvent("CustomEvent");e.initCustomEvent("HTMLImportsLoaded",!0,!0,t),p.dispatchEvent(e)}),t.IMPORT_LINK_TYPE=l,t.useNative=f,t.rootDocument=p,t.whenReady=e,t.isIE=m}(window.HTMLImports),function(t){var e=[],n=function(t){e.push(t)},r=function(){e.forEach(function(e){e(t)})};t.addModule=n,t.initializeModules=r}(window.HTMLImports),window.HTMLImports.addModule(function(t){var e=/(url\()([^)]*)(\))/g,n=/(@import[\s]+(?!url\())([^;]*)(;)/g,r={resolveUrlsInStyle:function(t,e){var n=t.ownerDocument,r=n.createElement("a");return t.textContent=this.resolveUrlsInCssText(t.textContent,e,r),t},resolveUrlsInCssText:function(t,r,i){var o=this.replaceUrls(t,i,r,e);return o=this.replaceUrls(o,i,r,n)},replaceUrls:function(t,e,n,r){return t.replace(r,function(t,r,i,o){var s=i.replace(/["']/g,"");return n&&(s=new URL(s,n).href),e.href=s,s=e.href,r+"'"+s+"'"+o})}};t.path=r}),window.HTMLImports.addModule(function(t){var e={async:!0,ok:function(t){return t.status>=200&&t.status<300||304===t.status||0===t.status},load:function(n,r,i){var o=new XMLHttpRequest;return(t.flags.debug||t.flags.bust)&&(n+="?"+Math.random()),o.open("GET",n,e.async),o.addEventListener("readystatechange",function(t){if(4===o.readyState){var n=o.getResponseHeader("Location"),s=null;if(n)var s="/"===n.substr(0,1)?location.origin+n:n;r.call(i,!e.ok(o)&&o,o.response||o.responseText,s)}}),o.send(),o},loadDocument:function(t,e,n){this.load(t,e,n).responseType="document"}};t.xhr=e}),window.HTMLImports.addModule(function(t){var e=t.xhr,n=t.flags,r=function(t,e){this.cache={},this.onload=t,this.oncomplete=e,this.inflight=0,this.pending={}};r.prototype={addNodes:function(t){this.inflight+=t.length;for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)this.require(e);this.checkDone()},addNode:function(t){this.inflight++,this.require(t),this.checkDone()},require:function(t){var e=t.src||t.href;t.__nodeUrl=e,this.dedupe(e,t)||this.fetch(e,t)},dedupe:function(t,e){return this.pending[t]?(this.pending[t].push(e),!0):this.cache[t]?(this.onload(t,e,this.cache[t]),this.tail(),!0):(this.pending[t]=[e],!1)},fetch:function(t,r){if(n.load&&console.log("fetch",t,r),t)if(t.match(/^data:/)){var i=t.split(","),o=i[0],s=i[1];s=o.indexOf(";base64")>-1?atob(s):decodeURIComponent(s),setTimeout(function(){this.receive(t,r,null,s)}.bind(this),0)}else{var a=function(e,n,i){this.receive(t,r,e,n,i)}.bind(this);e.load(t,a)}else setTimeout(function(){this.receive(t,r,{error:"href must be specified"},null)}.bind(this),0)},receive:function(t,e,n,r,i){this.cache[t]=r;for(var o,s=this.pending[t],a=0,u=s.length;u>a&&(o=s[a]);a++)this.onload(t,o,r,n,i),this.tail();this.pending[t]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}},t.Loader=r}),window.HTMLImports.addModule(function(t){var e=function(t){this.addCallback=t,this.mo=new MutationObserver(this.handler.bind(this))};e.prototype={handler:function(t){for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)"childList"===e.type&&e.addedNodes.length&&this.addedNodes(e.addedNodes)},addedNodes:function(t){this.addCallback&&this.addCallback(t);for(var e,n=0,r=t.length;r>n&&(e=t[n]);n++)e.children&&e.children.length&&this.addedNodes(e.children)},observe:function(t){this.mo.observe(t,{childList:!0,subtree:!0})}},t.Observer=e}),window.HTMLImports.addModule(function(t){function e(t){return"link"===t.localName&&t.rel===l}function n(t){var e=r(t);return"data:text/javascript;charset=utf-8,"+encodeURIComponent(e)}function r(t){return t.textContent+i(t)}function i(t){var e=t.ownerDocument;e.__importedScripts=e.__importedScripts||0;var n=t.ownerDocument.baseURI,r=e.__importedScripts?"-"+e.__importedScripts:"";return e.__importedScripts++,"\n//# sourceURL="+n+r+".js\n"}function o(t){var e=t.ownerDocument.createElement("style");return e.textContent=t.textContent,s.resolveUrlsInStyle(e),e}var s=t.path,a=t.rootDocument,u=t.flags,c=t.isIE,l=t.IMPORT_LINK_TYPE,f="link[rel="+l+"]",h={documentSelectors:f,importsSelectors:[f,"link[rel=stylesheet]:not([type])","style:not([type])","script:not([type])",'script[type="application/javascript"]','script[type="text/javascript"]'].join(","),map:{link:"parseLink",script:"parseScript",style:"parseStyle"},dynamicElements:[],parseNext:function(){var t=this.nextToParse();t&&this.parse(t)},parse:function(t){if(this.isParsed(t))return void(u.parse&&console.log("[%s] is already parsed",t.localName));var e=this[this.map[t.localName]];e&&(this.markParsing(t),e.call(this,t))},parseDynamic:function(t,e){this.dynamicElements.push(t),e||this.parseNext()},markParsing:function(t){u.parse&&console.log("parsing",t),this.parsingElement=t},markParsingComplete:function(t){t.__importParsed=!0,this.markDynamicParsingComplete(t),t.__importElement&&(t.__importElement.__importParsed=!0,this.markDynamicParsingComplete(t.__importElement)),this.parsingElement=null,u.parse&&console.log("completed",t)},markDynamicParsingComplete:function(t){var e=this.dynamicElements.indexOf(t);e>=0&&this.dynamicElements.splice(e,1)},parseImport:function(t){if(t["import"]=t.__doc,window.HTMLImports.__importsParsingHook&&window.HTMLImports.__importsParsingHook(t),t["import"]&&(t["import"].__importParsed=!0),this.markParsingComplete(t),t.dispatchEvent(t.__resource&&!t.__error?new CustomEvent("load",{bubbles:!1}):new CustomEvent("error",{bubbles:!1})),t.__pending)for(var e;t.__pending.length;)e=t.__pending.shift(),e&&e({target:t});this.parseNext()},parseLink:function(t){e(t)?this.parseImport(t):(t.href=t.href,this.parseGeneric(t))},parseStyle:function(t){var e=t;t=o(t),e.__appliedElement=t,t.__importElement=e,this.parseGeneric(t)},parseGeneric:function(t){this.trackElement(t),this.addElementToDocument(t)},rootImportForElement:function(t){for(var e=t;e.ownerDocument.__importLink;)e=e.ownerDocument.__importLink;return e},addElementToDocument:function(t){var e=this.rootImportForElement(t.__importElement||t);e.parentNode.insertBefore(t,e)},trackElement:function(t,e){var n=this,r=function(i){t.removeEventListener("load",r),t.removeEventListener("error",r),e&&e(i),n.markParsingComplete(t),n.parseNext()};if(t.addEventListener("load",r),t.addEventListener("error",r),c&&"style"===t.localName){var i=!1;if(-1==t.textContent.indexOf("@import"))i=!0;else if(t.sheet){i=!0;for(var o,s=t.sheet.cssRules,a=s?s.length:0,u=0;a>u&&(o=s[u]);u++)o.type===CSSRule.IMPORT_RULE&&(i=i&&Boolean(o.styleSheet))}i&&setTimeout(function(){t.dispatchEvent(new CustomEvent("load",{bubbles:!1}))})}},parseScript:function(e){var r=document.createElement("script");r.__importElement=e,r.src=e.src?e.src:n(e),t.currentScript=e,this.trackElement(r,function(e){r.parentNode&&r.parentNode.removeChild(r),t.currentScript=null}),this.addElementToDocument(r)},nextToParse:function(){return this._mayParse=[],!this.parsingElement&&(this.nextToParseInDoc(a)||this.nextToParseDynamic())},nextToParseInDoc:function(t,n){if(t&&this._mayParse.indexOf(t)<0){this._mayParse.push(t);for(var r,i=t.querySelectorAll(this.parseSelectorsForNode(t)),o=0,s=i.length;s>o&&(r=i[o]);o++)if(!this.isParsed(r))return this.hasResource(r)?e(r)?this.nextToParseInDoc(r.__doc,r):r:void 0}return n},nextToParseDynamic:function(){return this.dynamicElements[0]},parseSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===a?this.documentSelectors:this.importsSelectors},isParsed:function(t){return t.__importParsed},needsDynamicParsing:function(t){return this.dynamicElements.indexOf(t)>=0},hasResource:function(t){return!e(t)||void 0!==t.__doc}};t.parser=h,t.IMPORT_SELECTOR=f}),window.HTMLImports.addModule(function(t){function e(t){return n(t,s)}function n(t,e){return"link"===t.localName&&t.getAttribute("rel")===e}function r(t){return!!Object.getOwnPropertyDescriptor(t,"baseURI")}function i(t,e){var n=document.implementation.createHTMLDocument(s);n._URL=e;var i=n.createElement("base");i.setAttribute("href",e),n.baseURI||r(n)||Object.defineProperty(n,"baseURI",{value:e});var o=n.createElement("meta");return o.setAttribute("charset","utf-8"),n.head.appendChild(o),n.head.appendChild(i),n.body.innerHTML=t,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(n),n}var o=t.flags,s=t.IMPORT_LINK_TYPE,a=t.IMPORT_SELECTOR,u=t.rootDocument,c=t.Loader,l=t.Observer,f=t.parser,h={documents:{},documentPreloadSelectors:a,importsPreloadSelectors:[a].join(","),loadNode:function(t){d.addNode(t)},loadSubtree:function(t){var e=this.marshalNodes(t);d.addNodes(e)},marshalNodes:function(t){return t.querySelectorAll(this.loadSelectorsForNode(t))},loadSelectorsForNode:function(t){var e=t.ownerDocument||t;return e===u?this.documentPreloadSelectors:this.importsPreloadSelectors},loaded:function(t,n,r,s,a){if(o.load&&console.log("loaded",t,n),n.__resource=r,n.__error=s,e(n)){var u=this.documents[t];void 0===u&&(u=s?null:i(r,a||t),u&&(u.__importLink=n,this.bootDocument(u)),this.documents[t]=u),n.__doc=u}f.parseNext()},bootDocument:function(t){this.loadSubtree(t),this.observer.observe(t),f.parseNext()},loadedAll:function(){f.parseNext()}},d=new c(h.loaded.bind(h),h.loadedAll.bind(h));if(h.observer=new l,!document.baseURI){var p={get:function(){var t=document.querySelector("base");return t?t.href:window.location.href},configurable:!0};Object.defineProperty(document,"baseURI",p),Object.defineProperty(u,"baseURI",p)}t.importer=h,t.importLoader=d}),window.HTMLImports.addModule(function(t){var e=t.parser,n=t.importer,r={added:function(t){for(var r,i,o,s,a=0,u=t.length;u>a&&(s=t[a]);a++)r||(r=s.ownerDocument,i=e.isParsed(r)),o=this.shouldLoadNode(s),o&&n.loadNode(s),this.shouldParseNode(s)&&i&&e.parseDynamic(s,o)},shouldLoadNode:function(t){return 1===t.nodeType&&i.call(t,n.loadSelectorsForNode(t))},shouldParseNode:function(t){return 1===t.nodeType&&i.call(t,e.parseSelectorsForNode(t))}};n.observer.addCallback=r.added.bind(r);var i=HTMLElement.prototype.matches||HTMLElement.prototype.matchesSelector||HTMLElement.prototype.webkitMatchesSelector||HTMLElement.prototype.mozMatchesSelector||HTMLElement.prototype.msMatchesSelector}),function(t){function e(){window.HTMLImports.importer.bootDocument(i)}var n=t.initializeModules,r=t.isIE;if(!t.useNative){r&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype),n();var i=t.rootDocument;"complete"===document.readyState||"interactive"===document.readyState&&!window.attachEvent?e():document.addEventListener("DOMContentLoaded",e)}}(window.HTMLImports),window.CustomElements=window.CustomElements||{flags:{}},function(t){var e=t.flags,n=[],r=function(t){n.push(t)},i=function(){n.forEach(function(e){e(t)})};t.addModule=r,t.initializeModules=i,t.hasNative=Boolean(document.registerElement),t.useNative=!e.register&&t.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule(function(t){function e(t,e){n(t,function(t){return!!e(t)||void r(t,e)}),r(t,e)}function n(t,e,r){var i=t.firstElementChild;if(!i)for(i=t.firstChild;i&&i.nodeType!==Node.ELEMENT_NODE;)i=i.nextSibling;for(;i;)e(i,r)!==!0&&n(i,e,r),i=i.nextElementSibling;return null}function r(t,n){for(var r=t.shadowRoot;r;)e(r,n),r=r.olderShadowRoot}function i(t,e){o(t,e,[])}function o(t,e,n){if(t=window.wrap(t),!(n.indexOf(t)>=0)){n.push(t);for(var r,i=t.querySelectorAll("link[rel="+s+"]"),a=0,u=i.length;u>a&&(r=i[a]);a++)r["import"]&&o(r["import"],e,n);e(t)}}var s=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";t.forDocumentTree=i,t.forSubtree=e}),window.CustomElements.addModule(function(t){function e(t,e){return n(t,e)||r(t,e)}function n(e,n){return!!t.upgrade(e,n)||void(n&&s(e))}function r(t,e){y(t,function(t){return!!n(t,e)||void 0})}function i(t){x.push(t),S||(S=!0,setTimeout(o))}function o(){S=!1;for(var t,e=x,n=0,r=e.length;r>n&&(t=e[n]);n++)t();x=[]}function s(t){w?i(function(){a(t)}):a(t)}function a(t){t.__upgraded__&&!t.__attached&&(t.__attached=!0,t.attachedCallback&&t.attachedCallback())}function u(t){c(t),y(t,function(t){c(t)})}function c(t){w?i(function(){l(t)}):l(t)}function l(t){t.__upgraded__&&t.__attached&&(t.__attached=!1,t.detachedCallback&&t.detachedCallback())}function f(t){for(var e=t,n=window.wrap(document);e;){if(e==n)return!0;e=e.parentNode||e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host}}function h(t){if(t.shadowRoot&&!t.shadowRoot.__watched){b.dom&&console.log("watching shadow-root for: ",t.localName);for(var e=t.shadowRoot;e;)v(e),e=e.olderShadowRoot}}function d(t,n){if(b.dom){var r=n[0];if(r&&"childList"===r.type&&r.addedNodes&&r.addedNodes){for(var i=r.addedNodes[0];i&&i!==document&&!i.host;)i=i.parentNode;var o=i&&(i.URL||i._URL||i.host&&i.host.localName)||"";o=o.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",n.length,o||"")}var s=f(t);n.forEach(function(t){"childList"===t.type&&(E(t.addedNodes,function(t){t.localName&&e(t,s)}),E(t.removedNodes,function(t){t.localName&&u(t)}))}),b.dom&&console.groupEnd()}function p(t){for(t=window.wrap(t),t||(t=window.wrap(document));t.parentNode;)t=t.parentNode;var e=t.__observer;e&&(d(t,e.takeRecords()),o())}function v(t){if(!t.__observer){var e=new MutationObserver(d.bind(this,t));
e.observe(t,{childList:!0,subtree:!0}),t.__observer=e}}function m(t){t=window.wrap(t),b.dom&&console.group("upgradeDocument: ",t.baseURI.split("/").pop());var n=t===window.wrap(document);e(t,n),v(t),b.dom&&console.groupEnd()}function g(t){_(t,m)}var b=t.flags,y=t.forSubtree,_=t.forDocumentTree,w=!window.MutationObserver||window.MutationObserver===window.JsMutationObserver;t.hasPolyfillMutations=w;var S=!1,x=[],E=Array.prototype.forEach.call.bind(Array.prototype.forEach),C=Element.prototype.createShadowRoot;C&&(Element.prototype.createShadowRoot=function(){var t=C.call(this);return window.CustomElements.watchShadow(this),t}),t.watchShadow=h,t.upgradeDocumentTree=g,t.upgradeDocument=m,t.upgradeSubtree=r,t.upgradeAll=e,t.attached=s,t.takeRecords=p}),window.CustomElements.addModule(function(t){function e(e,r){if(!e.__upgraded__&&e.nodeType===Node.ELEMENT_NODE){var i=e.getAttribute("is"),o=t.getRegisteredDefinition(e.localName)||t.getRegisteredDefinition(i);if(o&&(i&&o.tag==e.localName||!i&&!o["extends"]))return n(e,o,r)}}function n(e,n,i){return s.upgrade&&console.group("upgrade:",e.localName),n.is&&e.setAttribute("is",n.is),r(e,n),e.__upgraded__=!0,o(e),i&&t.attached(e),t.upgradeSubtree(e,i),s.upgrade&&console.groupEnd(),e}function r(t,e){Object.__proto__?t.__proto__=e.prototype:(i(t,e.prototype,e["native"]),t.__proto__=e.prototype)}function i(t,e,n){for(var r={},i=e;i!==n&&i!==HTMLElement.prototype;){for(var o,s=Object.getOwnPropertyNames(i),a=0;o=s[a];a++)r[o]||(Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o)),r[o]=1);i=Object.getPrototypeOf(i)}}function o(t){t.createdCallback&&t.createdCallback()}var s=t.flags;t.upgrade=e,t.upgradeWithDefinition=n,t.implementPrototype=r}),window.CustomElements.addModule(function(t){function e(e,r){var u=r||{};if(!e)throw new Error("document.registerElement: first argument `name` must not be empty");if(e.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(e)+"'.");if(i(e))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(e)+"'. The type name is invalid.");if(c(e))throw new Error("DuplicateDefinitionError: a type with name '"+String(e)+"' is already registered");return u.prototype||(u.prototype=Object.create(HTMLElement.prototype)),u.__name=e.toLowerCase(),u.lifecycle=u.lifecycle||{},u.ancestry=o(u["extends"]),s(u),a(u),n(u.prototype),l(u.__name,u),u.ctor=f(u),u.ctor.prototype=u.prototype,u.prototype.constructor=u.ctor,t.ready&&g(document),u.ctor}function n(t){if(!t.setAttribute._polyfilled){var e=t.setAttribute;t.setAttribute=function(t,n){r.call(this,t,n,e)};var n=t.removeAttribute;t.removeAttribute=function(t){r.call(this,t,null,n)},t.setAttribute._polyfilled=!0}}function r(t,e,n){t=t.toLowerCase();var r=this.getAttribute(t);n.apply(this,arguments);var i=this.getAttribute(t);this.attributeChangedCallback&&i!==r&&this.attributeChangedCallback(t,r,i)}function i(t){for(var e=0;e<S.length;e++)if(t===S[e])return!0}function o(t){var e=c(t);return e?o(e["extends"]).concat([e]):[]}function s(t){for(var e,n=t["extends"],r=0;e=t.ancestry[r];r++)n=e.is&&e.tag;t.tag=n||t.__name,n&&(t.is=t.__name)}function a(t){if(!Object.__proto__){var e=HTMLElement.prototype;if(t.is){var n=document.createElement(t.tag);e=Object.getPrototypeOf(n)}for(var r,i=t.prototype,o=!1;i;)i==e&&(o=!0),r=Object.getPrototypeOf(i),r&&(i.__proto__=r),i=r;o||console.warn(t.tag+" prototype not found in prototype chain for "+t.is),t["native"]=e}}function u(t){return y(C(t.tag),t)}function c(t){return t?x[t.toLowerCase()]:void 0}function l(t,e){x[t]=e}function f(t){return function(){return u(t)}}function h(t,e,n){return t===E?d(e,n):k(t,e)}function d(t,e){t&&(t=t.toLowerCase()),e&&(e=e.toLowerCase());var n=c(e||t);if(n){if(t==n.tag&&e==n.is)return new n.ctor;if(!e&&!n.is)return new n.ctor}var r;return e?(r=d(t),r.setAttribute("is",e),r):(r=C(t),t.indexOf("-")>=0&&_(r,HTMLElement),r)}function p(t,e){var n=t[e];t[e]=function(){var t=n.apply(this,arguments);return b(t),t}}var v,m=t.isIE11OrOlder,g=t.upgradeDocumentTree,b=t.upgradeAll,y=t.upgradeWithDefinition,_=t.implementPrototype,w=t.useNative,S=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"],x={},E="http://www.w3.org/1999/xhtml",C=document.createElement.bind(document),k=document.createElementNS.bind(document);v=Object.__proto__||w?function(t,e){return t instanceof e}:function(t,e){if(t instanceof e)return!0;for(var n=t;n;){if(n===e.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),m&&!function(){var t=document.importNode;document.importNode=function(){var e=t.apply(document,arguments);if(e.nodeType==e.DOCUMENT_FRAGMENT_NODE){var n=document.createDocumentFragment();return n.appendChild(e),n}return e}}(),document.registerElement=e,document.createElement=d,document.createElementNS=h,t.registry=x,t["instanceof"]=v,t.reservedTagList=S,t.getRegisteredDefinition=c,document.register=document.registerElement}),function(t){function e(){s(window.wrap(document)),window.CustomElements.ready=!0,requestAnimationFrame(function(){setTimeout(function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))})})}var n=t.useNative,r=t.initializeModules,i=/Trident/.test(navigator.userAgent);if(n){var o=function(){};t.watchShadow=o,t.upgrade=o,t.upgradeAll=o,t.upgradeDocumentTree=o,t.upgradeSubtree=o,t.takeRecords=o,t["instanceof"]=function(t,e){return t instanceof e}}else r();var s=t.upgradeDocumentTree,a=t.upgradeDocument;if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(t){return t}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(t){t["import"]&&a(wrap(t["import"]))}),i&&"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(t,e){e=e||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,Boolean(e.bubbles),Boolean(e.cancelable),e.detail),n.preventDefault=function(){Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})},n},window.CustomEvent.prototype=window.Event.prototype),"complete"===document.readyState||t.flags.eager)e();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var u=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(u,e)}else e();t.isIE11OrOlder=i}(window.CustomElements),"undefined"==typeof HTMLTemplateElement&&!function(){function t(t){switch(t){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}function e(e){return e.replace(s,t)}var n="template",r=document.implementation.createHTMLDocument("template"),i=!0;HTMLTemplateElement=function(){},HTMLTemplateElement.prototype=Object.create(HTMLElement.prototype),HTMLTemplateElement.decorate=function(t){t.content||(t.content=t.ownerDocument.createDocumentFragment());for(var n;n=t.firstChild;)t.content.appendChild(n);if(i)try{Object.defineProperty(t,"innerHTML",{get:function(){for(var t="",n=this.content.firstChild;n;n=n.nextSibling)t+=n.outerHTML||e(n.data);return t},set:function(t){for(r.body.innerHTML=t;this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;r.body.firstChild;)this.content.appendChild(r.body.firstChild)},configurable:!0})}catch(o){i=!1}},HTMLTemplateElement.bootstrap=function(t){for(var e,r=t.querySelectorAll(n),i=0,o=r.length;o>i&&(e=r[i]);i++)HTMLTemplateElement.decorate(e)},window.addEventListener("DOMContentLoaded",function(){HTMLTemplateElement.bootstrap(document)});var o=document.createElement;document.createElement=function(){"use strict";var t=o.apply(document,arguments);return"template"==t.localName&&HTMLTemplateElement.decorate(t),t};var s=/[&\u00A0<>]/g}(),function(t){var e=document.createElement("style");e.textContent="body {transition: opacity ease-in 0.2s; } \nbody[unresolved] {opacity: 0; display: block; overflow: hidden; position: relative; } \n";var n=document.querySelector("head");n.insertBefore(e,n.firstChild)}(window.WebComponents),function(){function t(t){return function(e){e.annotations=t}}window.WebComponents=window.WebComponents||{},WebComponents.annotate=t,window.wccontainer=function(){return function(t){t.isContainer=!0}}}(),"function"!=typeof HTMLElement){var _HTMLElement=function(){};_HTMLElement.prototype=HTMLElement.prototype,HTMLElement=_HTMLElement}if(function(t,e){t.tv4=e()}(this,function(){function t(t){return encodeURI(t).replace(/%25[0-9][0-9]/g,function(t){return"%"+t.substring(3)})}function e(e){var n="";f[e.charAt(0)]&&(n=e.charAt(0),e=e.substring(1));var r="",i="",o=!0,s=!1,a=!1;"+"===n?o=!1:"."===n?(i=".",r="."):"/"===n?(i="/",r="/"):"#"===n?(i="#",o=!1):";"===n?(i=";",r=";",s=!0,a=!0):"?"===n?(i="?",r="&",s=!0):"&"===n&&(i="&",r="&",s=!0);for(var u=[],c=e.split(","),l=[],d={},p=0;p<c.length;p++){var v=c[p],m=null;if(v.indexOf(":")!==-1){var g=v.split(":");v=g[0],m=parseInt(g[1],10)}for(var b={};h[v.charAt(v.length-1)];)b[v.charAt(v.length-1)]=!0,v=v.substring(0,v.length-1);var y={truncate:m,name:v,suffices:b};l.push(y),d[v]=y,u.push(v)}var _=function(e){for(var n="",u=0,c=0;c<l.length;c++){var f=l[c],h=e(f.name);if(null===h||void 0===h||Array.isArray(h)&&0===h.length||"object"==typeof h&&0===Object.keys(h).length)u++;else if(n+=c===u?i:r||",",Array.isArray(h)){s&&(n+=f.name+"=");for(var d=0;d<h.length;d++)d>0&&(n+=f.suffices["*"]?r||",":",",f.suffices["*"]&&s&&(n+=f.name+"=")),n+=o?encodeURIComponent(h[d]).replace(/!/g,"%21"):t(h[d])}else if("object"==typeof h){s&&!f.suffices["*"]&&(n+=f.name+"=");var p=!0;for(var v in h)p||(n+=f.suffices["*"]?r||",":","),p=!1,n+=o?encodeURIComponent(v).replace(/!/g,"%21"):t(v),n+=f.suffices["*"]?"=":",",n+=o?encodeURIComponent(h[v]).replace(/!/g,"%21"):t(h[v])}else s&&(n+=f.name,a&&""===h||(n+="=")),null!=f.truncate&&(h=h.substring(0,f.truncate)),n+=o?encodeURIComponent(h).replace(/!/g,"%21"):t(h)}return n};return _.varNames=u,{prefix:i,substitution:_}}function n(t){if(!(this instanceof n))return new n(t);for(var r=t.split("{"),i=[r.shift()],o=[],s=[],a=[];r.length>0;){var u=r.shift(),c=u.split("}")[0],l=u.substring(c.length+1),f=e(c);s.push(f.substitution),o.push(f.prefix),i.push(l),a=a.concat(f.substitution.varNames)}this.fill=function(t){for(var e=i[0],n=0;n<s.length;n++){var r=s[n];e+=r(t),e+=i[n+1]}return e},this.varNames=a,this.template=t}function r(t,e){if(t===e)return!0;if("object"==typeof t&&"object"==typeof e){if(Array.isArray(t)!==Array.isArray(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!r(t[n],e[n]))return!1}else{var i;for(i in t)if(void 0===e[i]&&void 0!==t[i])return!1;for(i in e)if(void 0===t[i]&&void 0!==e[i])return!1;for(i in t)if(!r(t[i],e[i]))return!1}return!0}return!1}function i(t){var e=String(t).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(\/\/(?:[^:@]*(?::[^:@]*)?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);return e?{href:e[0]||"",protocol:e[1]||"",authority:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[5]||"",pathname:e[6]||"",search:e[7]||"",hash:e[8]||""}:null}function o(t,e){function n(t){var e=[];return t.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(t){"/.."===t?e.pop():e.push(t)}),e.join("").replace(/^\//,"/"===t.charAt(0)?"/":"")}return e=i(e||""),t=i(t||""),e&&t?(e.protocol||t.protocol)+(e.protocol||e.authority?e.authority:t.authority)+n(e.protocol||e.authority||"/"===e.pathname.charAt(0)?e.pathname:e.pathname?(t.authority&&!t.pathname?"/":"")+t.pathname.slice(0,t.pathname.lastIndexOf("/")+1)+e.pathname:t.pathname)+(e.protocol||e.authority||e.pathname?e.search:e.search||t.search)+e.hash:null}function s(t){return t.split("#")[0]}function a(t,e){if(t&&"object"==typeof t)if(void 0===e?e=t.id:"string"==typeof t.id&&(e=o(e,t.id),t.id=e),Array.isArray(t))for(var n=0;n<t.length;n++)a(t[n],e);else{"string"==typeof t.$ref&&(t.$ref=o(e,t.$ref));for(var r in t)"enum"!==r&&a(t[r],e)}}function u(t,e,n,r,i,o){if(Error.call(this),void 0===t)throw new Error("No code supplied for error: "+e);this.message=e,this.params=n,this.code=t,this.dataPath=r||"",this.schemaPath=i||"",this.subErrors=o||null;var s=new Error(this.message);if(this.stack=s.stack||s.stacktrace,!this.stack)try{throw s}catch(s){this.stack=s.stack||s.stacktrace}}function c(t,e){if(e.substring(0,t.length)===t){var n=e.substring(t.length);if(e.length>0&&"/"===e.charAt(t.length-1)||"#"===n.charAt(0)||"?"===n.charAt(0))return!0}return!1}function l(t){var e=new d,n=t||"en",r={addFormat:function(){e.addFormat.apply(e,arguments)},language:function(t){return t?(_[t]||(t=t.split("-")[0]),!!_[t]&&(n=t,t)):n},addLanguage:function(t,e){var n;for(n in m)e[n]&&!e[m[n]]&&(e[m[n]]=e[n]);var r=t.split("-")[0];if(_[r]){_[t]=Object.create(_[r]);for(n in e)"undefined"==typeof _[r][n]&&(_[r][n]=e[n]),_[t][n]=e[n]}else _[t]=e,_[r]=e;return this},freshApi:function(t){var e=l();return t&&e.language(t),e},validate:function(t,r,i,o){var s=new d(e,(!1),_[n],i,o);"string"==typeof r&&(r={$ref:r}),s.addSchema("",r);var a=s.validateAll(t,r,null,null,"");return!a&&o&&(a=s.banUnknownProperties()),this.error=a,this.missing=s.missing,this.valid=null===a,this.valid},validateResult:function(){var t={};return this.validate.apply(t,arguments),t},validateMultiple:function(t,r,i,o){var s=new d(e,(!0),_[n],i,o);"string"==typeof r&&(r={$ref:r}),s.addSchema("",r),s.validateAll(t,r,null,null,""),o&&s.banUnknownProperties();var a={};return a.errors=s.errors,a.missing=s.missing,a.valid=0===a.errors.length,a},addSchema:function(){return e.addSchema.apply(e,arguments)},getSchema:function(){return e.getSchema.apply(e,arguments)},getSchemaMap:function(){return e.getSchemaMap.apply(e,arguments)},getSchemaUris:function(){return e.getSchemaUris.apply(e,arguments)},getMissingUris:function(){return e.getMissingUris.apply(e,arguments)},dropSchemas:function(){e.dropSchemas.apply(e,arguments)},defineKeyword:function(){e.defineKeyword.apply(e,arguments)},defineError:function(t,e,n){if("string"!=typeof t||!/^[A-Z]+(_[A-Z]+)*$/.test(t))throw new Error("Code name must be a string in UPPER_CASE_WITH_UNDERSCORES");if("number"!=typeof e||e%1!==0||e<1e4)throw new Error("Code number must be an integer > 10000");if("undefined"!=typeof m[t])throw new Error("Error already defined: "+t+" as "+m[t]);if("undefined"!=typeof g[e])throw new Error("Error code already used: "+g[e]+" as "+e);m[t]=e,g[e]=t,y[t]=y[e]=n;for(var r in _){var i=_[r];i[t]&&(i[e]=i[e]||i[t])}},reset:function(){e.reset(),this.error=null,this.missing=[],this.valid=!0},missing:[],error:null,valid:!0,normSchema:a,resolveUrl:o,getDocumentUri:s,errorCodes:m};return r}Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Object.keys called on non-object");var o=[];for(var s in i)t.call(i,s)&&o.push(s);if(e)for(var a=0;a<r;a++)t.call(i,n[a])&&o.push(n[a]);return o}}()),Object.create||(Object.create=function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return t.prototype=e,new t}}()),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!==r?r=0:0!==r&&r!==1/0&&r!==-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1}),Object.isFrozen||(Object.isFrozen=function(t){for(var e="tv4_test_frozen_key";t.hasOwnProperty(e);)e+=Math.random();try{return t[e]=!0,delete t[e],!1}catch(n){return!0}});var f={"+":!0,"#":!0,".":!0,"/":!0,";":!0,"?":!0,"&":!0},h={"*":!0};n.prototype={toString:function(){return this.template},fillFromObject:function(t){return this.fill(function(e){return t[e]})}};var d=function(t,e,n,r,i){if(this.missing=[],this.missingMap={},this.formatValidators=t?Object.create(t.formatValidators):{},this.schemas=t?Object.create(t.schemas):{},this.collectMultiple=e,this.errors=[],this.handleError=e?this.collectError:this.returnError,r&&(this.checkRecursive=!0,this.scanned=[],this.scannedFrozen=[],this.scannedFrozenSchemas=[],this.scannedFrozenValidationErrors=[],this.validatedSchemasKey="tv4_validation_id",this.validationErrorsKey="tv4_validation_errors_id"),i&&(this.trackUnknownProperties=!0,this.knownPropertyPaths={},this.unknownPropertyPaths={}),this.errorMessages=n,this.definedKeywords={},t)for(var o in t.definedKeywords)this.definedKeywords[o]=t.definedKeywords[o].slice(0)};d.prototype.defineKeyword=function(t,e){this.definedKeywords[t]=this.definedKeywords[t]||[],this.definedKeywords[t].push(e)},d.prototype.createError=function(t,e,n,r,i){var o=this.errorMessages[t]||y[t];if("string"!=typeof o)return new u(t,"Unknown error code "+t+": "+JSON.stringify(e),e,n,r,i);var s=o.replace(/\{([^{}]*)\}/g,function(t,n){var r=e[n];return"string"==typeof r||"number"==typeof r?r:t});return new u(t,s,e,n,r,i)},d.prototype.returnError=function(t){return t},d.prototype.collectError=function(t){return t&&this.errors.push(t),null},d.prototype.prefixErrors=function(t,e,n){for(var r=t;r<this.errors.length;r++)this.errors[r]=this.errors[r].prefixWith(e,n);return this},d.prototype.banUnknownProperties=function(){for(var t in this.unknownPropertyPaths){var e=this.createError(m.UNKNOWN_PROPERTY,{path:t},t,""),n=this.handleError(e);if(n)return n}return null},d.prototype.addFormat=function(t,e){if("object"==typeof t){for(var n in t)this.addFormat(n,t[n]);return this}this.formatValidators[t]=e},d.prototype.resolveRefs=function(t,e){if(void 0!==t.$ref){if(e=e||{},e[t.$ref])return this.createError(m.CIRCULAR_REFERENCE,{urls:Object.keys(e).join(", ")},"","");e[t.$ref]=!0,t=this.getSchema(t.$ref,e)}return t},d.prototype.getSchema=function(t,e){var n;if(void 0!==this.schemas[t])return n=this.schemas[t],this.resolveRefs(n,e);var r=t,i="";if(t.indexOf("#")!==-1&&(i=t.substring(t.indexOf("#")+1),r=t.substring(0,t.indexOf("#"))),"object"==typeof this.schemas[r]){n=this.schemas[r];var o=decodeURIComponent(i);if(""===o)return this.resolveRefs(n,e);if("/"!==o.charAt(0))return;for(var s=o.split("/").slice(1),a=0;a<s.length;a++){var u=s[a].replace(/~1/g,"/").replace(/~0/g,"~");if(void 0===n[u]){n=void 0;break}n=n[u]}if(void 0!==n)return this.resolveRefs(n,e)}void 0===this.missing[r]&&(this.missing.push(r),this.missing[r]=r,this.missingMap[r]=r)},d.prototype.searchSchemas=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.searchSchemas(t[n],e);else if(t&&"object"==typeof t){"string"==typeof t.id&&c(e,t.id)&&void 0===this.schemas[t.id]&&(this.schemas[t.id]=t);for(var r in t)if("enum"!==r)if("object"==typeof t[r])this.searchSchemas(t[r],e);else if("$ref"===r){var i=s(t[r]);i&&void 0===this.schemas[i]&&void 0===this.missingMap[i]&&(this.missingMap[i]=i)}}},d.prototype.addSchema=function(t,e){if("string"!=typeof t||"undefined"==typeof e){if("object"!=typeof t||"string"!=typeof t.id)return;e=t,t=e.id}t===s(t)+"#"&&(t=s(t)),this.schemas[t]=e,delete this.missingMap[t],a(e,t),this.searchSchemas(e,t)},d.prototype.getSchemaMap=function(){var t={};for(var e in this.schemas)t[e]=this.schemas[e];return t},d.prototype.getSchemaUris=function(t){var e=[];for(var n in this.schemas)t&&!t.test(n)||e.push(n);return e},d.prototype.getMissingUris=function(t){var e=[];for(var n in this.missingMap)t&&!t.test(n)||e.push(n);return e},d.prototype.dropSchemas=function(){this.schemas={},this.reset()},d.prototype.reset=function(){this.missing=[],this.missingMap={},this.errors=[]},d.prototype.validateAll=function(t,e,n,r,i){var o;if(e=this.resolveRefs(e),!e)return null;if(e instanceof u)return this.errors.push(e),e;var s,a=this.errors.length,c=null,l=null;if(this.checkRecursive&&t&&"object"==typeof t){if(o=!this.scanned.length,t[this.validatedSchemasKey]){var f=t[this.validatedSchemasKey].indexOf(e);if(f!==-1)return this.errors=this.errors.concat(t[this.validationErrorsKey][f]),null}if(Object.isFrozen(t)&&(s=this.scannedFrozen.indexOf(t),s!==-1)){var h=this.scannedFrozenSchemas[s].indexOf(e);if(h!==-1)return this.errors=this.errors.concat(this.scannedFrozenValidationErrors[s][h]),null}if(this.scanned.push(t),Object.isFrozen(t))s===-1&&(s=this.scannedFrozen.length,this.scannedFrozen.push(t),this.scannedFrozenSchemas.push([])),c=this.scannedFrozenSchemas[s].length,this.scannedFrozenSchemas[s][c]=e,this.scannedFrozenValidationErrors[s][c]=[];else{if(!t[this.validatedSchemasKey])try{Object.defineProperty(t,this.validatedSchemasKey,{value:[],configurable:!0}),Object.defineProperty(t,this.validationErrorsKey,{value:[],configurable:!0})}catch(d){t[this.validatedSchemasKey]=[],t[this.validationErrorsKey]=[]}l=t[this.validatedSchemasKey].length,t[this.validatedSchemasKey][l]=e,t[this.validationErrorsKey][l]=[]}}var p=this.errors.length,v=this.validateBasic(t,e,i)||this.validateNumeric(t,e,i)||this.validateString(t,e,i)||this.validateArray(t,e,i)||this.validateObject(t,e,i)||this.validateCombinations(t,e,i)||this.validateHypermedia(t,e,i)||this.validateFormat(t,e,i)||this.validateDefinedKeywords(t,e,i)||null;if(o){for(;this.scanned.length;){var m=this.scanned.pop();delete m[this.validatedSchemasKey]}this.scannedFrozen=[],this.scannedFrozenSchemas=[]}if(v||p!==this.errors.length)for(;n&&n.length||r&&r.length;){var g=n&&n.length?""+n.pop():null,b=r&&r.length?""+r.pop():null;v&&(v=v.prefixWith(g,b)),this.prefixErrors(p,g,b)}return null!==c?this.scannedFrozenValidationErrors[s][c]=this.errors.slice(a):null!==l&&(t[this.validationErrorsKey][l]=this.errors.slice(a)),this.handleError(v)},d.prototype.validateFormat=function(t,e){if("string"!=typeof e.format||!this.formatValidators[e.format])return null;var n=this.formatValidators[e.format].call(null,t,e);return"string"==typeof n||"number"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n}).prefixWith(null,"format"):n&&"object"==typeof n?this.createError(m.FORMAT_CUSTOM,{message:n.message||"?"},n.dataPath||null,n.schemaPath||"/format"):null},d.prototype.validateDefinedKeywords=function(t,e,n){for(var r in this.definedKeywords)if("undefined"!=typeof e[r])for(var i=this.definedKeywords[r],o=0;o<i.length;o++){var s=i[o],a=s(t,e[r],e,n);if("string"==typeof a||"number"==typeof a)return this.createError(m.KEYWORD_CUSTOM,{key:r,message:a}).prefixWith(null,"format");if(a&&"object"==typeof a){var u=a.code;if("string"==typeof u){if(!m[u])throw new Error("Undefined error code (use defineError): "+u);u=m[u]}else"number"!=typeof u&&(u=m.KEYWORD_CUSTOM);var c="object"==typeof a.message?a.message:{key:r,message:a.message||"?"},l=a.schemaPath||"/"+r.replace(/~/g,"~0").replace(/\//g,"~1");return this.createError(u,c,a.dataPath||null,l)}}return null},d.prototype.validateBasic=function(t,e,n){var r;return(r=this.validateType(t,e,n))?r.prefixWith(null,"type"):(r=this.validateEnum(t,e,n))?r.prefixWith(null,"type"):null},d.prototype.validateType=function(t,e){if(void 0===e.type)return null;var n=typeof t;null===t?n="null":Array.isArray(t)&&(n="array");var r=e.type;"object"!=typeof r&&(r=[r]);for(var i=0;i<r.length;i++){var o=r[i];if(o===n||"integer"===o&&"number"===n&&t%1===0)return null}return this.createError(m.INVALID_TYPE,{type:n,expected:r.join("/")})},d.prototype.validateEnum=function(t,e){if(void 0===e["enum"])return null;for(var n=0;n<e["enum"].length;n++){var i=e["enum"][n];if(r(t,i))return null}return this.createError(m.ENUM_MISMATCH,{value:"undefined"!=typeof JSON?JSON.stringify(t):t})},d.prototype.validateNumeric=function(t,e,n){return this.validateMultipleOf(t,e,n)||this.validateMinMax(t,e,n)||this.validateNaN(t,e,n)||null};var p=Math.pow(2,-51),v=1-p;d.prototype.validateMultipleOf=function(t,e){var n=e.multipleOf||e.divisibleBy;if(void 0===n)return null;if("number"==typeof t){var r=t/n%1;if(r>=p&&r<v)return this.createError(m.NUMBER_MULTIPLE_OF,{value:t,multipleOf:n})}return null},d.prototype.validateMinMax=function(t,e){if("number"!=typeof t)return null;if(void 0!==e.minimum){if(t<e.minimum)return this.createError(m.NUMBER_MINIMUM,{value:t,minimum:e.minimum}).prefixWith(null,"minimum");if(e.exclusiveMinimum&&t===e.minimum)return this.createError(m.NUMBER_MINIMUM_EXCLUSIVE,{value:t,minimum:e.minimum}).prefixWith(null,"exclusiveMinimum")}if(void 0!==e.maximum){if(t>e.maximum)return this.createError(m.NUMBER_MAXIMUM,{value:t,maximum:e.maximum}).prefixWith(null,"maximum");if(e.exclusiveMaximum&&t===e.maximum)return this.createError(m.NUMBER_MAXIMUM_EXCLUSIVE,{value:t,maximum:e.maximum}).prefixWith(null,"exclusiveMaximum")}return null},d.prototype.validateNaN=function(t){return"number"!=typeof t?null:isNaN(t)===!0||t===1/0||t===-(1/0)?this.createError(m.NUMBER_NOT_A_NUMBER,{value:t}).prefixWith(null,"type"):null},d.prototype.validateString=function(t,e,n){return this.validateStringLength(t,e,n)||this.validateStringPattern(t,e,n)||null},d.prototype.validateStringLength=function(t,e){return"string"!=typeof t?null:void 0!==e.minLength&&t.length<e.minLength?this.createError(m.STRING_LENGTH_SHORT,{length:t.length,minimum:e.minLength}).prefixWith(null,"minLength"):void 0!==e.maxLength&&t.length>e.maxLength?this.createError(m.STRING_LENGTH_LONG,{length:t.length,maximum:e.maxLength}).prefixWith(null,"maxLength"):null},d.prototype.validateStringPattern=function(t,e){if("string"!=typeof t||void 0===e.pattern)return null;var n=new RegExp(e.pattern);return n.test(t)?null:this.createError(m.STRING_PATTERN,{pattern:e.pattern}).prefixWith(null,"pattern")},d.prototype.validateArray=function(t,e,n){return Array.isArray(t)?this.validateArrayLength(t,e,n)||this.validateArrayUniqueItems(t,e,n)||this.validateArrayItems(t,e,n)||null:null},d.prototype.validateArrayLength=function(t,e){var n;return void 0!==e.minItems&&t.length<e.minItems&&(n=this.createError(m.ARRAY_LENGTH_SHORT,{length:t.length,minimum:e.minItems}).prefixWith(null,"minItems"),this.handleError(n))?n:void 0!==e.maxItems&&t.length>e.maxItems&&(n=this.createError(m.ARRAY_LENGTH_LONG,{length:t.length,maximum:e.maxItems}).prefixWith(null,"maxItems"),this.handleError(n))?n:null},d.prototype.validateArrayUniqueItems=function(t,e){if(e.uniqueItems)for(var n=0;n<t.length;n++)for(var i=n+1;i<t.length;i++)if(r(t[n],t[i])){var o=this.createError(m.ARRAY_UNIQUE,{match1:n,match2:i}).prefixWith(null,"uniqueItems");if(this.handleError(o))return o}return null},d.prototype.validateArrayItems=function(t,e,n){if(void 0===e.items)return null;var r,i;if(Array.isArray(e.items)){for(i=0;i<t.length;i++)if(i<e.items.length){if(r=this.validateAll(t[i],e.items[i],[i],["items",i],n+"/"+i))return r}else if(void 0!==e.additionalItems)if("boolean"==typeof e.additionalItems){if(!e.additionalItems&&(r=this.createError(m.ARRAY_ADDITIONAL_ITEMS,{}).prefixWith(""+i,"additionalItems"),this.handleError(r)))return r}else if(r=this.validateAll(t[i],e.additionalItems,[i],["additionalItems"],n+"/"+i))return r}else for(i=0;i<t.length;i++)if(r=this.validateAll(t[i],e.items,[i],["items"],n+"/"+i))return r;return null},d.prototype.validateObject=function(t,e,n){return"object"!=typeof t||null===t||Array.isArray(t)?null:this.validateObjectMinMaxProperties(t,e,n)||this.validateObjectRequiredProperties(t,e,n)||this.validateObjectProperties(t,e,n)||this.validateObjectDependencies(t,e,n)||null},d.prototype.validateObjectMinMaxProperties=function(t,e){var n,r=Object.keys(t);return void 0!==e.minProperties&&r.length<e.minProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MINIMUM,{propertyCount:r.length,minimum:e.minProperties}).prefixWith(null,"minProperties"),this.handleError(n))?n:void 0!==e.maxProperties&&r.length>e.maxProperties&&(n=this.createError(m.OBJECT_PROPERTIES_MAXIMUM,{propertyCount:r.length,maximum:e.maxProperties}).prefixWith(null,"maxProperties"),this.handleError(n))?n:null},d.prototype.validateObjectRequiredProperties=function(t,e){if(void 0!==e.required)for(var n=0;n<e.required.length;n++){var r=e.required[n];if(void 0===t[r]){var i=this.createError(m.OBJECT_REQUIRED,{key:r}).prefixWith(null,""+n).prefixWith(null,"required");if(this.handleError(i))return i}}return null},d.prototype.validateObjectProperties=function(t,e,n){var r;for(var i in t){var o=n+"/"+i.replace(/~/g,"~0").replace(/\//g,"~1"),s=!1;if(void 0!==e.properties&&void 0!==e.properties[i]&&(s=!0,r=this.validateAll(t[i],e.properties[i],[i],["properties",i],o)))return r;if(void 0!==e.patternProperties)for(var a in e.patternProperties){var u=new RegExp(a);if(u.test(i)&&(s=!0,r=this.validateAll(t[i],e.patternProperties[a],[i],["patternProperties",a],o)))return r}if(s)this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]);else if(void 0!==e.additionalProperties){if(this.trackUnknownProperties&&(this.knownPropertyPaths[o]=!0,delete this.unknownPropertyPaths[o]),"boolean"==typeof e.additionalProperties){if(!e.additionalProperties&&(r=this.createError(m.OBJECT_ADDITIONAL_PROPERTIES,{}).prefixWith(i,"additionalProperties"),this.handleError(r)))return r}else if(r=this.validateAll(t[i],e.additionalProperties,[i],["additionalProperties"],o))return r}else this.trackUnknownProperties&&!this.knownPropertyPaths[o]&&(this.unknownPropertyPaths[o]=!0)}return null},d.prototype.validateObjectDependencies=function(t,e,n){var r;if(void 0!==e.dependencies)for(var i in e.dependencies)if(void 0!==t[i]){var o=e.dependencies[i];if("string"==typeof o){if(void 0===t[o]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:o}).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(Array.isArray(o))for(var s=0;s<o.length;s++){var a=o[s];if(void 0===t[a]&&(r=this.createError(m.OBJECT_DEPENDENCY_KEY,{key:i,missing:a}).prefixWith(null,""+s).prefixWith(null,i).prefixWith(null,"dependencies"),this.handleError(r)))return r}else if(r=this.validateAll(t,o,[],["dependencies",i],n))return r}return null},d.prototype.validateCombinations=function(t,e,n){return this.validateAllOf(t,e,n)||this.validateAnyOf(t,e,n)||this.validateOneOf(t,e,n)||this.validateNot(t,e,n)||null},d.prototype.validateAllOf=function(t,e,n){if(void 0===e.allOf)return null;for(var r,i=0;i<e.allOf.length;i++){var o=e.allOf[i];if(r=this.validateAll(t,o,[],["allOf",i],n))return r}return null},d.prototype.validateAnyOf=function(t,e,n){if(void 0===e.anyOf)return null;var r,i,o=[],s=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var a=!0,u=0;u<e.anyOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=e.anyOf[u],l=this.errors.length,f=this.validateAll(t,c,[],["anyOf",u],n);if(null===f&&l===this.errors.length){if(this.errors=this.errors.slice(0,s),this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var d in this.unknownPropertyPaths)i[d]||(r[d]=!0);a=!1;continue}return null}f&&o.push(f.prefixWith(null,""+u).prefixWith(null,"anyOf"))}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),a?(o=o.concat(this.errors.slice(s)),this.errors=this.errors.slice(0,s),this.createError(m.ANY_OF_MISSING,{},"","/anyOf",o)):void 0},d.prototype.validateOneOf=function(t,e,n){if(void 0===e.oneOf)return null;var r,i,o=null,s=[],a=this.errors.length;
this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths);for(var u=0;u<e.oneOf.length;u++){this.trackUnknownProperties&&(this.unknownPropertyPaths={},this.knownPropertyPaths={});var c=e.oneOf[u],l=this.errors.length,f=this.validateAll(t,c,[],["oneOf",u],n);if(null===f&&l===this.errors.length){if(null!==o)return this.errors=this.errors.slice(0,a),this.createError(m.ONE_OF_MULTIPLE,{index1:o,index2:u},"","/oneOf");if(o=u,this.trackUnknownProperties){for(var h in this.knownPropertyPaths)i[h]=!0,delete r[h];for(var d in this.unknownPropertyPaths)i[d]||(r[d]=!0)}}else f&&s.push(f)}return this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===o?(s=s.concat(this.errors.slice(a)),this.errors=this.errors.slice(0,a),this.createError(m.ONE_OF_MISSING,{},"","/oneOf",s)):(this.errors=this.errors.slice(0,a),null)},d.prototype.validateNot=function(t,e,n){if(void 0===e.not)return null;var r,i,o=this.errors.length;this.trackUnknownProperties&&(r=this.unknownPropertyPaths,i=this.knownPropertyPaths,this.unknownPropertyPaths={},this.knownPropertyPaths={});var s=this.validateAll(t,e.not,null,null,n),a=this.errors.slice(o);return this.errors=this.errors.slice(0,o),this.trackUnknownProperties&&(this.unknownPropertyPaths=r,this.knownPropertyPaths=i),null===s&&0===a.length?this.createError(m.NOT_PASSED,{},"","/not"):null},d.prototype.validateHypermedia=function(t,e,r){if(!e.links)return null;for(var i,o=0;o<e.links.length;o++){var s=e.links[o];if("describedby"===s.rel){for(var a=new n(s.href),u=!0,c=0;c<a.varNames.length;c++)if(!(a.varNames[c]in t)){u=!1;break}if(u){var l=a.fillFromObject(t),f={$ref:l};if(i=this.validateAll(t,f,[],["links",o],r))return i}}}};var m={INVALID_TYPE:0,ENUM_MISMATCH:1,ANY_OF_MISSING:10,ONE_OF_MISSING:11,ONE_OF_MULTIPLE:12,NOT_PASSED:13,NUMBER_MULTIPLE_OF:100,NUMBER_MINIMUM:101,NUMBER_MINIMUM_EXCLUSIVE:102,NUMBER_MAXIMUM:103,NUMBER_MAXIMUM_EXCLUSIVE:104,NUMBER_NOT_A_NUMBER:105,STRING_LENGTH_SHORT:200,STRING_LENGTH_LONG:201,STRING_PATTERN:202,OBJECT_PROPERTIES_MINIMUM:300,OBJECT_PROPERTIES_MAXIMUM:301,OBJECT_REQUIRED:302,OBJECT_ADDITIONAL_PROPERTIES:303,OBJECT_DEPENDENCY_KEY:304,ARRAY_LENGTH_SHORT:400,ARRAY_LENGTH_LONG:401,ARRAY_UNIQUE:402,ARRAY_ADDITIONAL_ITEMS:403,FORMAT_CUSTOM:500,KEYWORD_CUSTOM:501,CIRCULAR_REFERENCE:600,UNKNOWN_PROPERTY:1e3},g={};for(var b in m)g[m[b]]=b;var y={INVALID_TYPE:"Invalid type: {type} (expected {expected})",ENUM_MISMATCH:"No enum match for: {value}",ANY_OF_MISSING:'Data does not match any schemas from "anyOf"',ONE_OF_MISSING:'Data does not match any schemas from "oneOf"',ONE_OF_MULTIPLE:'Data is valid against more than one schema from "oneOf": indices {index1} and {index2}',NOT_PASSED:'Data matches schema from "not"',NUMBER_MULTIPLE_OF:"Value {value} is not a multiple of {multipleOf}",NUMBER_MINIMUM:"Value {value} is less than minimum {minimum}",NUMBER_MINIMUM_EXCLUSIVE:"Value {value} is equal to exclusive minimum {minimum}",NUMBER_MAXIMUM:"Value {value} is greater than maximum {maximum}",NUMBER_MAXIMUM_EXCLUSIVE:"Value {value} is equal to exclusive maximum {maximum}",NUMBER_NOT_A_NUMBER:"Value {value} is not a valid number",STRING_LENGTH_SHORT:"String is too short ({length} chars), minimum {minimum}",STRING_LENGTH_LONG:"String is too long ({length} chars), maximum {maximum}",STRING_PATTERN:"String does not match pattern: {pattern}",OBJECT_PROPERTIES_MINIMUM:"Too few properties defined ({propertyCount}), minimum {minimum}",OBJECT_PROPERTIES_MAXIMUM:"Too many properties defined ({propertyCount}), maximum {maximum}",OBJECT_REQUIRED:"Missing required property: {key}",OBJECT_ADDITIONAL_PROPERTIES:"Additional properties not allowed",OBJECT_DEPENDENCY_KEY:"Dependency failed - key must exist: {missing} (due to key: {key})",ARRAY_LENGTH_SHORT:"Array is too short ({length}), minimum {minimum}",ARRAY_LENGTH_LONG:"Array is too long ({length}), maximum {maximum}",ARRAY_UNIQUE:"Array items are not unique (indices {match1} and {match2})",ARRAY_ADDITIONAL_ITEMS:"Additional items not allowed",FORMAT_CUSTOM:"Format validation failed ({message})",KEYWORD_CUSTOM:"Keyword failed: {key} ({message})",CIRCULAR_REFERENCE:"Circular $refs: {urls}",UNKNOWN_PROPERTY:"Unknown property (not in schema)"};u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="ValidationError",u.prototype.prefixWith=function(t,e){if(null!==t&&(t=t.replace(/~/g,"~0").replace(/\//g,"~1"),this.dataPath="/"+t+this.dataPath),null!==e&&(e=e.replace(/~/g,"~0").replace(/\//g,"~1"),this.schemaPath="/"+e+this.schemaPath),null!==this.subErrors)for(var n=0;n<this.subErrors.length;n++)this.subErrors[n].prefixWith(t,e);return this};var _={},w=l();return w.addLanguage("en-gb",y),w.tv4=w,w}),function(t,e){var n={init:function(){return this},work_handler:function(t){var e=Array.prototype.slice.call(t.data,1),n=t.data[0],r=tree[n].apply(tree,e);postMessage([n,r])},setup:function(e){var r=t.URL||t.webkitURL,i="var tree = {"+this.parse(e).join(",")+"};",o=new Blob([i+'self.addEventListener("message", '+this.work_handler.toString()+", false);"],{type:"text/javascript"}),s=new Worker(r.createObjectURL(o));return s.onmessage=function(t){var e=Array.prototype.slice.call(t.data,1),r=t.data[0];n.observer.emit("x10:"+r,e)},s},call_handler:function(t,e){return function(){var r=Array.prototype.slice.call(arguments,0,-1),i=arguments[arguments.length-1];r.unshift(t),n.observer.on("x10:"+t,function(t){i(t.detail[0])}),e.postMessage(r)}},compile:function(t){var e,n=this.setup("function"==typeof t?{func:t}:t),r={};if("function"==typeof t)return r.func=this.call_handler("func",n),r.func;for(e in t)r[e]=this.call_handler(e,n);return r},parse:function(t,n){var r,i,o,s=[];for(r in t)if(o=t[r],null!==o)if(o!==e){switch(o.constructor){case Date:i="new Date("+o.valueOf()+")";break;case Object:i="{"+this.parse(o).join(",")+"}";break;case Array:i="["+this.parse(o,!0).join(",")+"]";break;case String:i='"'+o.replace(/"/g,'\\"')+'"';break;case RegExp:case Function:i=o.toString();break;default:i=o}n?s.push(i):s.push(r+":"+i)}else s.push(r+":undefined");else s.push(r+":null");return s},observer:function(){var t={};return{on:function(e,n){t[e]||(t[e]=[]),t[e].unshift(n)},off:function(e,n){if(t[e]){var r=t[e].indexOf(n);t[e].splice(r,1)}},emit:function(e,n){if(t[e])for(var r={type:e,detail:n,isCanceled:!1,cancelBubble:function(){this.isCanceled=!0}},i=t[e].length;i--;){if(r.isCanceled)return;t[e][i](r)}}}}()};"undefined"==typeof module?t.x10=n.init():module.exports=n.init()}(this),function(t,e,n){"use strict";var r={is_ie:/(msie|trident)/i.test(navigator.userAgent),is_safari:/safari/i.test(navigator.userAgent),env:"production",xml_decl:'<?xml version="1.0" encoding="utf-8"?>',namespace:'xmlns:d="defiant-namespace"',tabsize:4,render:function(t,e){var n,r,i,o,s=new XSLTProcessor,a=document.createElement("span"),u={match:"/"};switch(typeof t){case"object":this.extend(u,t),u.data||(u.data=e);break;case"string":u.template=t,u.data=e;break;default:throw"error"}if(u.data=JSON.toXML(u.data),n='//xsl:template[@name="'+u.template+'"]',this.xsl_template||this.gatherTemplates(),u.sorter&&(o=this.node.selectSingleNode(this.xsl_template,n+"//xsl:for-each//xsl:sort"),o&&(u.sorter.order&&o.setAttribute("order",u.sorter.order),u.sorter.select&&o.setAttribute("select",u.sorter.select),o.setAttribute("data-type",u.sorter.type||"text"))),i=this.node.selectSingleNode(this.xsl_template,n),i.setAttribute("match",u.match),s.importStylesheet(this.xsl_template),a.appendChild(s.transformToFragment(u.data,document)),i.removeAttribute("match"),this.is_safari){r=a.getElementsByTagName("script");for(var c=0,l=r.length;l>c;c++)r[c].defer=!0}return a.innerHTML},gatherTemplates:function(){for(var t=document.getElementsByTagName("script"),e="",n=0,r=t.length;r>n;n++)"defiant/xsl-template"===t[n].type&&(e+=t[n].innerHTML);this.xsl_template=this.xmlFromString('<xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" '+this.namespace+">"+e.replace(/defiant:(\w+)/g,"$1")+"</xsl:stylesheet>")},getSnapshot:function(t,e){return JSON.toXML(t,e||!0)},xmlFromString:function(t){var e,n;return t=t.replace(/>\s{1,}</g,"><"),null===t.trim().match(/<\?xml/)&&(t=this.xml_decl+t),this.is_ie?(n=new ActiveXObject("Msxml2.DOMDocument"),n.loadXML(t),-1===t.indexOf("xsl:stylesheet")&&n.setProperty("SelectionLanguage","XPath")):(e=new DOMParser,n=e.parseFromString(t,"text/xml")),n},extend:function(t,e){for(var n in e)t[n]&&"object"==typeof e[n]?this.extend(t[n],e[n]):t[n]=e[n];return t},node:{}};t.Defiant=e.exports=r}("undefined"!=typeof window?window:{},"undefined"!=typeof module?module:{}),"undefined"==typeof XSLTProcessor){var XSLTProcessor=function(){};XSLTProcessor.prototype={importStylesheet:function(t){this.xsldoc=t},transformToFragment:function(t,e){var n=t.transformNode(this.xsldoc),r=document.createElement("span");return r.innerHTML=n,r}}}else if("function"!=typeof XSLTProcessor&&!XSLTProcessor)throw"XSLTProcessor transformNode not implemented";String.prototype.fill||(String.prototype.fill=function(t,e){var n=this;for(e=e||" ";n.length<t;n+=e);return n}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")}),String.prototype.xTransform||(String.prototype.xTransform=function(){var t=this;return-1===this.indexOf("translate(")&&(t=this.replace(/contains\(([^,]+),([^\\)]+)\)/g,function(t,e,n){var r="abcdefghijklmnopqrstuvwxyz";return"contains(translate("+e+', "'+r.toUpperCase()+'", "'+r+'"),'+n.toLowerCase()+")"})),t.toString()}),"undefined"==typeof JSON&&(window.JSON={parse:function(sJSON){return eval("("+sJSON+")")},stringify:function(t){if(t instanceof Object){var e="";if(t.constructor===Array){for(var n=0;n<t.length;e+=this.stringify(t[n])+",",n++);return"["+e.substr(0,e.length-1)+"]"}if(t.toString!==Object.prototype.toString)return'"'+t.toString().replace(/"/g,"\\$&")+'"';for(var r in t)e+='"'+r.replace(/"/g,"\\$&")+'":'+this.stringify(t[r])+",";return"{"+e.substr(0,e.length-1)+"}"}return"string"==typeof t?'"'+t.replace(/"/g,"\\$&")+'"':String(t)}}),JSON.toXML||(JSON.toXML=function(t,e){"use strict";var n,r,i,o={map:[],rx_validate_name:/^(?!xml)[a-z_][\w\d.:]*$/i,rx_node:/<(.+?)( .*?)>/,rx_constructor:/<(.+?)( d:contr=".*?")>/,rx_namespace:/ xmlns\:d="defiant\-namespace"/,rx_data:/(<.+?>)(.*?)(<\/d:data>)/i,rx_function:/function (\w+)/i,namespace:'xmlns:d="defiant-namespace"',to_xml_str:function(t){return{str:this.hash_to_xml(null,t),map:this.map}},hash_to_xml:function(t,e,n){var r,i,o,s,a,u,c,l,f,h=e.constructor===Array,d=this,p=[],v=[],m=function(e,r){if(i=r[e],(null===i||void 0===i||"NaN"===i.toString())&&(i=null),s="@"===e.slice(0,1),a=n?t:e,a==+a&&r.constructor!==Object&&(a="d:item"),null===i?(u=null,c=!1):(u=i.constructor,c=u.toString().match(d.rx_function)[1]),s)v.push(a.slice(1)+'="'+d.escape_xml(i)+'"'),"String"!==c&&v.push("d:"+a.slice(1)+'="'+c+'"');else if(null===i)p.push(d.scalar_to_xml(a,i));else switch(u){case Function:throw"JSON data should not contain functions. Please check jour structure.";case Object:p.push(d.hash_to_xml(a,i));break;case Array:if(e===a){if(o=i.constructor===Array)for(l=i.length;l--;)null!==i[l]&&i[l]&&i[l].constructor!==Array||(o=!0),o||i[l].constructor!==Object||(o=!0);p.push(d.scalar_to_xml(a,i,o));break}case String:if("string"==typeof i&&(i=i.toString().replace(/\&/g,"&amp;").replace(/\r|\n/g,"&#13;")),"#text"===a){d.map.push(r),v.push('d:mi="'+d.map.length+'"'),v.push('d:constr="'+c+'"'),p.push(d.escape_xml(i));break}case Number:case Boolean:if("#text"===a&&"String"!==c){d.map.push(r),v.push('d:mi="'+d.map.length+'"'),v.push('d:constr="'+c+'"'),p.push(d.escape_xml(i));break}p.push(d.scalar_to_xml(a,i))}};if(e.constructor===Array)for(l=0,f=e.length;f>l;l++)m(l.toString(),e);else for(r in e)m(r,e);return t||(t="d:data",v.push(this.namespace),h&&v.push('d:constr="Array"')),null===t.match(this.rx_validate_name)&&(v.push('d:name="'+t+'"'),t="d:name"),n?p.join(""):(this.map.push(e),v.push('d:mi="'+this.map.length+'"'),"<"+t+(v.length?" "+v.join(" "):"")+(p.length?">"+p.join("")+"</"+t+">":"/>"))},scalar_to_xml:function(t,e,n){var r,i,o,s="";if(null===t.match(this.rx_validate_name)&&(s+=' d:name="'+t+'"',t="d:name",n=!1),(null===e||"NaN"===e.toString())&&(e=null),null===e)return"<"+t+' d:constr="null"/>';if(1===e.length&&e.constructor===Array&&!e[0])return"<"+t+' d:constr="null" d:type="ArrayItem"/>';if(1===e.length&&e[0].constructor===Object){r=this.hash_to_xml(!1,e[0]);var a=r.match(this.rx_node),u=r.match(this.rx_constructor);return a=null!==a?a[2].replace(this.rx_namespace,"").replace(/>/,"").replace(/"\/$/,'"'):"",u=null!==u?u[2]:"",r=r.match(this.rx_data),r=null!==r?r[2]:"","<"+t+a+" "+u+' d:type="ArrayItem">'+r+"</"+t+">"}return 0===e.length&&e.constructor===Array?"<"+t+' d:constr="Array"/>':n?this.hash_to_xml(t,e,!0):(i=e.constructor,o=i.toString().match(this.rx_function)[1],r=i===Array?this.hash_to_xml("d:item",e,!0):this.escape_xml(e),s+=' d:constr="'+o+'"',this.map.push(e),s+=' d:mi="'+this.map.length+'"',"#text"===t?this.escape_xml(e):"<"+t+s+">"+r+"</"+t+">")},escape_xml:function(t){return String(t).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&nbsp;/g,"&#160;")}};switch(typeof e){case"function":return i=x10.compile(o),void i.to_xml_str(t,function(n){e({doc:Defiant.xmlFromString(n.str),src:t,map:n.map})});case"boolean":return n=o.to_xml_str.call(o,t),{doc:Defiant.xmlFromString(n.str),src:t,map:n.map};default:return n=o.to_xml_str.call(o,t),r=Defiant.xmlFromString(n.str),this.search.map=n.map,r}}),JSON.search||(JSON.search=function(t,e,n){"use strict";var r,i,o=t.doc&&t.doc.nodeType,s=o?t.doc:JSON.toXML(t),a=o?t.map:this.search.map,u=o?t.src:t,c=Defiant.node[n?"selectSingleNode":"selectNodes"](s,e.xTransform()),l=[];for(n&&(c=[c]),i=c.length;i--;)switch(c[i].nodeType){case 2:case 3:l.unshift(c[i].nodeValue);break;default:r=+c[i].getAttribute("d:mi"),l.unshift(a[r-1])}return"development"===Defiant.env&&(this.trace=JSON.mtrace(u,l,c)),l}),JSON.mtrace||(JSON.mtrace=function(t,e,n){"use strict";for(var r,i,o,s,a,u=window,c=JSON.stringify,l=c(t,null,"\t").replace(/\t/g,""),f=[],h=0,d=n.length,p=!!d&&n[h].ownerDocument.documentElement,v=(this.search.map,0);d>h;h++){switch(n[h].nodeType){case 2:i=n[h].ownerElement?n[h].ownerElement.getAttribute("d:"+n[h].nodeName):"String",r='"@'+n[h].nodeName+'": '+u[i](e[h]),o=l.indexOf(r),a=0;break;case 3:i=n[h].parentNode.getAttribute("d:constr"),r=u[i](e[h]),r='"'+n[h].parentNode.nodeName+'": '+("Number"===r?r:'"'+r+'"'),o=l.indexOf(r),a=0;break;default:if(n[h]===p)continue;"String"===n[h].getAttribute("d:constr")||"Number"===n[h].getAttribute("d:constr")?(i=n[h].getAttribute("d:constr"),r=u[i](e[h]),o=l.indexOf(r,v),r='"'+n[h].nodeName+'": '+("Number"===i?r:'"'+r+'"'),a=0,v=o+1):(r=c(e[h],null,"\t").replace(/\t/g,""),o=l.indexOf(r),a=r.match(/\n/g).length)}s=l.substring(0,o).match(/\n/g).length+1,f.push([s,a])}return f}),Defiant.node.selectNodes=function(t,e){if(t.evaluate){for(var n=t.createNSResolver(t.documentElement),r=t.evaluate(e,t,n,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null),i=[],o=0,s=r.snapshotLength;s>o;o++)i.push(r.snapshotItem(o));return i}return t.selectNodes(e)},Defiant.node.selectSingleNode=function(t,e){if(t.evaluate){var n=this.selectNodes(t,e);return n.length>0?n[0]:null}return t.selectSingleNode(e)},Defiant.node.prettyPrint=function(t){var e,n,r=Defiant,i=r.tabsize,o=r.xml_decl.toLowerCase();r.is_ie?n=t.xml:(e=new XMLSerializer,n=e.serializeToString(t)),"development"!==r.env&&(n=n.replace(/ \w+\:d=".*?"| d\:\w+=".*?"/g,""));for(var s,a,u=n.trim().replace(/(>)\s*(<)(\/*)/g,"$1\n$2$3"),c=u.split("\n"),l=-1,f=0,h=c.length;h>f;f++)(0!==f||c[f].toLowerCase()!==o)&&(s=null!==c[f].match(/<[A-Za-z_\:]+.*?>/g),a=null!==c[f].match(/<\/[\w\:]+>/g),null!==c[f].match(/<.*?\/>/g)&&(s=a=!0),s&&l++,c[f]=String().fill(l,"\t")+c[f],s&&a&&l--,!s&&a&&l--);return c.join("\n").replace(/\t/g,String().fill(i," "))},Defiant.node.toJSON=function(t,e){"use strict";var n=function(t){var e,r,i,o,s,a,u,c,l,f,h={},d=window;switch(t.nodeType){case 1:for(s=t.getAttribute("d:constr"),"Array"===s?h=[]:"String"===s&&""===t.textContent&&(h=""),e=t.attributes,c=0,l=e.length;l>c;c++)f=e.item(c),null===f.nodeName.match(/\:d|d\:/g)&&(s=t.getAttribute("d:"+f.nodeName),a=s&&"undefined"!==s?"null"===f.nodeValue?null:d[s]("false"===f.nodeValue?"":f.nodeValue):f.nodeValue,h["@"+f.nodeName]=a);break;case 3:r=t.parentNode.getAttribute("d:type"),a=r?d[r]("false"===t.nodeValue?"":t.nodeValue):t.nodeValue,h=a}if(t.hasChildNodes())for(c=0,l=t.childNodes.length;l>c;c++)if(i=t.childNodes.item(c),o=i.nodeName,e=t.attributes,"d:name"===o&&(o=i.getAttribute("d:name")),"#text"===o)s=t.getAttribute("d:constr"),"undefined"===s&&(s=void 0),u=i.textContent||i.text,a="Boolean"===s&&"false"===u?"":u,s||e.length?s&&1===l?h=d[s](a):t.hasChildNodes()&&e.length<3?h=s?d[s](a):a:h[o]=s?d[s](a):a:h=a;else{if("null"===i.getAttribute("d:constr")){h[o]&&h[o].push?h[o].push(null):"ArrayItem"===i.getAttribute("d:type")?h[o]=[h[o]]:h[o]=null;continue}if(h[o]){h[o].push?h[o].push(n(i)):h[o]=[h[o],n(i)];continue}switch(s=i.getAttribute("d:constr")){case"null":h.push?h.push(null):h[o]=null;break;case"Array":i.parentNode.firstChild===i&&"Array"===s&&"d:item"!==o?"d:item"===o||"Array"===s?(a=n(i),h[o]=a.length?[a]:a):h[o]=n(i):h.push?h.push(n(i)):h[o]=n(i);break;case"String":case"Number":case"Boolean":u=i.textContent||i.text,a="Boolean"===s&&"false"===u?"":u,h.push?h.push(d[s](a)):h[o]=n(i);break;default:h.push?h.push(n(i)):h[o]=n(i)}}return 1===t.nodeType&&"ArrayItem"===t.getAttribute("d:type")&&(h=[h]),h},r=9===t.nodeType?t.documentElement:t,i=n(r),o=i[r.nodeName];return r===r.ownerDocument.documentElement&&o&&o.constructor===Array&&(i=o),e&&"true"===e.toString()&&(e="\t"),e?JSON.stringify(i,null,e):i},"undefined"!=typeof jQuery&&!function(t){"use strict";t.fn.defiant=function(t,e){return this.html(Defiant.render(t,e)),this}}(jQuery),function(t,e,n){"use strict";function r(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.4.7/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){e=e+(1==n?"?":"&")+"p"+(n-1)+"=";var r,i=encodeURIComponent;r=arguments[n],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,e+=i(r)}return Error(e)}}function i(t){if(null==t||$(t))return!1;var e="length"in Object(t)&&t.length;return!(t.nodeType!==cr||!e)||(x(t)||tr(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function o(t,e,n){var r,s;if(t)if(k(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(tr(t)||i(t)){var a="object"!=typeof t;for(r=0,s=t.length;r<s;r++)(a||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(S(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Hn.call(t,r)&&e.call(n,t[r],r,t);return t}function s(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function a(t){return function(e,n){t(n,e)}}function u(){return++Qn}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var s=e[i];if(w(s)||k(s))for(var a=Object.keys(s),u=0,f=a.length;u<f;u++){var h=a[u],d=s[h];n&&w(d)?C(d)?t[h]=new Date(d.valueOf()):A(d)?t[h]=new RegExp(d):(w(t[h])||(t[h]=tr(d)?[]:{}),l(t[h],[d],!0)):t[h]=d}}return c(t,r),t}function f(t){return l(t,Vn.call(arguments,1),!1)}function h(t){return l(t,Vn.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return f(Object.create(t),e)}function v(){}function m(t){return t}function g(t){return function(){return t}}function b(t){return k(t.toString)&&t.toString!==Object.prototype.toString}function y(t){return"undefined"==typeof t}function _(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"==typeof t}function S(t){return null!==t&&"object"==typeof t&&!Xn(t)}function x(t){return"string"==typeof t}function E(t){return"number"==typeof t}function C(t){return"[object Date]"===Jn.call(t)}function k(t){return"function"==typeof t}function A(t){return"[object RegExp]"===Jn.call(t)}function $(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function N(t){return"boolean"==typeof t}function O(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function M(t){return Un(t.nodeName||t[0]&&t[0].nodeName)}function R(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function D(t,e,n,r){if($(t)||T(t))throw Gn("cpws");if(er.test(Jn.call(e)))throw Gn("cpta");if(e){if(t===e)throw Gn("cpi");n=n||[],r=r||[],w(t)&&(n.push(t),r.push(e));var i;if(tr(t))for(i=e.length=0;i<t.length;i++)e.push(D(t[i],null,n,r));else{var s=e.$$hashKey;if(tr(e)?e.length=0:o(e,function(t,n){delete e[n]}),S(t))for(i in t)e[i]=D(t[i],null,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=D(t[i],null,n,r));else for(i in t)Hn.call(t,i)&&(e[i]=D(t[i],null,n,r));c(e,s)}}else if(e=t,w(t)){if(n&&-1!==(s=n.indexOf(t)))return r[s];if(tr(t))return D(t,[],n,r);if(er.test(Jn.call(t)))e=new t.constructor(t);else if(C(t))e=new Date(t.getTime());else if(A(t))e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex;else{if(!k(t.cloneNode))return i=Object.create(Xn(t)),D(t,i,n,r);e=t.cloneNode(!0)}r&&(n.push(t),r.push(e))}return e}function L(t,e){if(tr(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r=typeof t;if(r==typeof e&&"object"==r){if(!tr(t)){if(C(t))return!!C(e)&&j(t.getTime(),e.getTime());if(A(t))return!!A(e)&&t.toString()==e.toString();if(T(t)||T(e)||$(t)||$(e)||tr(e)||C(e)||A(e))return!1;r=ct();for(n in t)if("$"!==n.charAt(0)&&!k(t[n])){if(!j(t[n],e[n]))return!1;r[n]=!0}for(n in e)if(!(n in r)&&"$"!==n.charAt(0)&&_(e[n])&&!k(e[n]))return!1;return!0}if(!tr(e))return!1;if((r=t.length)==e.length){for(n=0;n<r;n++)if(!j(t[n],e[n]))return!1;return!0}}return!1}function P(t,e,n){return t.concat(Vn.call(e,n))}function q(t,e){var n=2<arguments.length?Vn.call(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,P(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function B(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:$(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":T(r)&&(i="$SCOPE"),i}function F(t,e){return"undefined"==typeof t?n:(E(e)||(e=e?2:null),JSON.stringify(t,B,e))}function U(t){return x(t)?JSON.parse(t):t}function H(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function z(t,e,n){n=n?-1:1;var r=H(e,t.getTimezoneOffset());return e=t,t=n*(r-t.getTimezoneOffset()),e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function V(t){t=Pn(t).clone();try{t.empty()}catch(e){}var n=Pn("<div>").append(t).html();try{return t[0].nodeType===lr?Un(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Un(e)})}catch(r){return Un(n)}}function W(t){try{return decodeURIComponent(t)}catch(e){}}function K(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),-1!==n&&(r=t.substring(0,n),i=t.substring(n+1)),r=W(r),_(r)&&(i=!_(i)||W(i),Hn.call(e,r)?tr(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function J(t){var e=[];return o(t,function(t,n){tr(t)?o(t,function(t){e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}):e.push(G(n,!0)+(!0===t?"":"="+G(t,!0)))}),e.length?e.join("&"):""}function X(t){return G(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function G(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Y(t,e){var n,r,i=sr.length;for(r=0;r<i;++r)if(n=sr[r]+e,x(n=t.getAttribute(n)))return n;return null}function Q(t,e){var n,r,i={};o(sr,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,r=t.getAttribute(e))}),o(sr,function(e){e+="app";var i;!n&&(i=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(e))}),n&&(i.strictDi=null!==Y(n,"strict-di"),e(n,r?[r]:[],i))}function Z(n,r,i){w(i)||(i={}),i=f({strictDi:!1},i);var s=function(){if(n=Pn(n),n.injector()){var t=n[0]===e?"document":V(n);throw Gn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng"),t=jt(r,i.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),t},a=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&a.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(a,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Yn.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(k(Yn.resumeDeferredBootstrap)&&Yn.resumeDeferredBootstrap()))}function tt(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function et(t){if(t=Yn.element(t).injector(),!t)throw Gn("test");return t.get("$$testability")}function nt(t,e){return e=e||"_",t.replace(ar,function(t,n){return(n?e:"")+t.toLowerCase()})}function rt(){var e;if(!ur){var r=or();(qn=y(r)?t.jQuery:r?t[r]:n)&&qn.fn.on?(Pn=qn,f(qn.fn,{scope:xr.scope,isolateScope:xr.isolateScope,controller:xr.controller,injector:xr.injector,inheritedData:xr.inheritedData}),e=qn.cleanData,qn.cleanData=function(t){var n;if(Zn)Zn=!1;else for(var r,i=0;null!=(r=t[i]);i++)(n=qn._data(r,"events"))&&n.$destroy&&qn(r).triggerHandler("$destroy");e(t)}):Pn=vt,Yn.element=Pn,ur=!0}}function it(t,e,n){if(!t)throw Gn("areq",e||"?",n||"required");return t}function ot(t,e,n){return n&&tr(t)&&(t=t[t.length-1]),it(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function st(t,e){if("hasOwnProperty"===t)throw Gn("badname",e)}function at(t,e,n){if(!e)return t;e=e.split(".");for(var r,i=t,o=e.length,s=0;s<o;s++)r=e[s],t&&(t=(i=t)[r]);return!n&&k(t)?q(i,t):t}function ut(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Pn(Vn.call(t,0,i))),e.push(n));return e||t}function ct(){return Object.create(null)}function lt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng");return t=e(t,"angular",Object),t.$$minErr=t.$$minErr||r,e(t,"module",function(){var t={};return function(r,o,s){if("hasOwnProperty"===r)throw i("badname","module");return o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function e(t,e){return function(n,o){return o&&k(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),l}}if(!o)throw n("nomod",r);var i=[],a=[],u=[],c=t("$injector","invoke","push",a),l={_invokeQueue:i,_configBlocks:a,_runBlocks:u,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:c,run:function(t){return u.push(t),this}};return s&&c(s),l})}})}function ft(e){f(e,{bootstrap:Z,copy:D,extend:f,merge:h,equals:j,element:Pn,forEach:o,injector:jt,noop:v,bind:q,toJson:F,fromJson:U,identity:m,isUndefined:y,isDefined:_,isString:x,isFunction:k,isObject:w,isNumber:E,isElement:O,isArray:tr,version:fr,isDate:C,lowercase:Un,uppercase:zn,callbacks:{counter:0},getTestability:et,$$minErr:r,$$csp:ir,reloadWithDebugInfo:tt}),(Bn=lt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ke}),t.provider("$compile",Wt).directive({a:wi,input:ji,textarea:ji,form:Ci,script:ko,select:To,style:Oo,option:No,ngBind:Bi,ngBindHtml:Ui,ngBindTemplate:Fi,ngClass:zi,ngClassEven:Wi,ngClassOdd:Vi,ngCloak:Ki,ngController:Ji,ngForm:ki,ngHide:_o,ngIf:Yi,ngInclude:Qi,ngInit:to,ngNonBindable:ho,ngPluralize:go,ngRepeat:bo,ngShow:yo,ngStyle:wo,ngSwitch:So,ngSwitchWhen:xo,ngSwitchDefault:Eo,ngOptions:mo,ngTransclude:Co,ngModel:co,ngList:eo,ngChange:Hi,pattern:Mo,ngPattern:Mo,required:Io,ngRequired:Io,minlength:Do,ngMinlength:Do,maxlength:Ro,ngMaxlength:Ro,ngValue:qi,ngModelOptions:fo}).directive({ngInclude:Zi}).directive(Si).directive(Xi),t.provider({$anchorScroll:Pt,$animate:Lr,$animateCss:jr,$$animateQueue:Dr,$$AnimateRunner:Rr,$browser:Ht,$cacheFactory:zt,$controller:Gt,$document:Yt,$exceptionHandler:Qt,$filter:un,$$forceReflow:Ur,$interpolate:le,$interval:fe,$http:se,$httpParamSerializer:te,$httpParamSerializerJQLike:ee,$httpBackend:ue,$xhrFactory:ae,$location:xe,$log:Ee,$parse:Fe,$rootScope:We,$q:Ue,$$q:He,$sce:Ye,$sceDelegate:Ge,$sniffer:Qe,$templateCache:Vt,$templateRequest:Ze,$$testability:tn,$timeout:en,$window:on,$$rAF:Ve,$$jqLite:Mt,$$HashMap:Ar,$$cookieReader:an})}])}function ht(t){return t.replace(pr,function(t,e,n,r){return r?n.toUpperCase():n}).replace(vr,"Moz$1")}function dt(t){return t=t.nodeType,t===cr||!t||9===t}function pt(t,e){var n,r,i=e.createDocumentFragment(),s=[];if(yr.test(t)){for(n=n||i.appendChild(e.createElement("div")),r=(_r.exec(t)||["",""])[1].toLowerCase(),r=Sr[r]||Sr._default,n.innerHTML=r[1]+t.replace(wr,"<$1></$2>")+r[2],r=r[0];r--;)n=n.lastChild;s=P(s,n.childNodes),n=i.firstChild,n.textContent=""}else s.push(e.createTextNode(t));return i.textContent="",i.innerHTML="",o(s,function(t){i.appendChild(t)}),i}function vt(t){if(t instanceof vt)return t;var n;if(x(t)&&(t=nr(t),n=!0),!(this instanceof vt)){if(n&&"<"!=t.charAt(0))throw gr("nosel");return new vt(t)}if(n){n=e;var r;t=(r=br.exec(t))?[n.createElement(r[1])]:(r=pt(t,n))?r.childNodes:[]}Ct(this,t)}function mt(t){return t.cloneNode(!0)}function gt(t,e){if(e||yt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)yt(n[r])}function bt(t,e,n,r){if(_(r))throw gr("offargs");var i=(r=_t(t))&&r.events,s=r&&r.handle;if(s)if(e)o(e.split(" "),function(e){if(_(n)){var r=i[e];if(R(r||[],n),r&&0<r.length)return}t.removeEventListener(e,s,!1),delete i[e]});else for(e in i)"$destroy"!==e&&t.removeEventListener(e,s,!1),delete i[e]}function yt(t,e){var r=t.ng339,i=r&&hr[r];i&&(e?delete i.data[e]:(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),bt(t)),delete hr[r],t.ng339=n))}function _t(t,e){var r=t.ng339,r=r&&hr[r];return e&&!r&&(t.ng339=r=++dr,r=hr[r]={events:{},data:{},handle:n}),r}function wt(t,e,n){if(dt(t)){var r=_(n),i=!r&&e&&!w(e),o=!e;if(t=(t=_t(t,!i))&&t.data,r)t[e]=n;else{if(o)return t;if(i)return t&&t[e];f(t,e)}}}function St(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function xt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",nr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+nr(e)+" "," ")))})}function Et(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=nr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",nr(n))}}function Ct(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function kt(t,e){return At(t,"$"+(e||"ngController")+"Controller")}function At(t,e,n){for(9==t.nodeType&&(t=t.documentElement),e=tr(e)?e:[e];t;){for(var r=0,i=e.length;r<i;r++)if(_(n=Pn.data(t,e[r])))return n;
t=t.parentNode||11===t.nodeType&&t.host}}function $t(t){for(gt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Tt(t,e){e||gt(t);var n=t.parentNode;n&&n.removeChild(t)}function Nt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Pn(n).on("load",e)}function Ot(t,e){var n=Er[e.toLowerCase()];return n&&Cr[M(t)]&&n}function It(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var s=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),s&&s.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},1<o&&(i=L(i));for(var a=0;a<o;a++)n.isImmediatePropagationStopped()||i[a].call(t,n)}};return n.elem=t,n}function Mt(){this.$get=function(){return f(vt,{hasClass:function(t,e){return t.attr&&(t=t[0]),St(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Et(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),xt(t,e)}})}}function Rt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||u)():n+":"+t)}function Dt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Lt(t){return(t=t.toString().replace(Or,"").match($r))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function jt(t,e){function r(t){return function(e,n){return w(e)?void o(e,a(t)):t(e,n)}}function i(t,e){if(st(t,"service"),(k(e)||tr(e))&&(e=v.instantiate(e)),!e.$get)throw Ir("pget",t);return p[t+"Provider"]=e}function s(t,e){return function(){var n=b.invoke(e,this);if(y(n))throw Ir("undef",t);return n}}function u(t,e,n){return i(t,{$get:!1!==n?s(t,e):e})}function c(t){it(y(t)||tr(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=v.get(r[0]);i[r[1]].apply(i,r[2])}}if(!d.get(t)){d.put(t,!0);try{x(t)?(e=Bn(t),n=n.concat(c(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):k(t)?n.push(v.invoke(t)):tr(t)?n.push(v.invoke(t)):ot(t,"module")}catch(i){throw tr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Ir("modulerr",t,i.stack||i.message||i)}}}),n}function l(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===f)throw Ir("cdep",e+" <- "+h.join(" <- "));return t[e]}try{return h.unshift(e),t[e]=f,t[e]=n(e,r)}catch(i){throw t[e]===f&&delete t[e],i}finally{h.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var s,a,u,c=[],l=jt.$$annotate(t,e,o);for(a=0,s=l.length;a<s;a++){if(u=l[a],"string"!=typeof u)throw Ir("itkn",u);c.push(i&&i.hasOwnProperty(u)?i[u]:r(u,o))}return tr(t)&&(t=t[s]),t.apply(n,c)}return{invoke:i,instantiate:function(t,e,n){var r=Object.create((tr(t)?t[t.length-1]:t).prototype||null);return t=i(t,r,e,n),w(t)||k(t)?t:r},get:r,annotate:jt.$$annotate,has:function(e){return p.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var f={},h=[],d=new Dt([],(!0)),p={$provide:{provider:r(i),factory:r(u),service:r(function(t,e){return u(t,["$injector",function(t){return t.instantiate(e)}])}),value:r(function(t,e){return u(t,g(e),!1)}),constant:r(function(t,e){st(t,"constant"),p[t]=e,m[t]=e}),decorator:function(t,e){var n=v.get(t+"Provider"),r=n.$get;n.$get=function(){var t=b.invoke(r,n);return b.invoke(e,null,{$delegate:t})}}}},v=p.$injector=l(p,function(t,e){throw Yn.isString(e)&&h.push(e),Ir("unpr",h.join(" <- "))}),m={},b=m.$injector=l(m,function(t,e){var r=v.get(t+"Provider",e);return b.invoke(r.$get,r,n,t)});return o(c(t),function(t){t&&b.invoke(t)}),b}function Pt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===M(t))return e=t,!0}),e}function o(t){if(t){t.scrollIntoView();var n;n=s.yOffset,k(n)?n=n():O(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):E(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function s(t){t=x(t)?t:n.hash();var e;t?(e=a.getElementById(t))?o(e):(e=i(a.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var a=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Nt(function(){r.$evalAsync(s)})}),s}]}function qt(t,e){return t||e?t?e?(tr(t)&&(t=t.join(" ")),tr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Bt(t){x(t)&&(t=t.split(" "));var e=ct();return o(t,function(t){t.length&&(e[t]=!0)}),e}function Ft(t){return w(t)?t:{}}function Ut(t,e,n,r){function i(t){try{t.apply(null,Vn.call(arguments,1))}finally{if(m--,0===m)for(;g.length;)try{g.pop()()}catch(e){n.error(e)}}}function s(){x=null,a(),u()}function a(){t:{try{b=f.state;break t}catch(t){}b=void 0}b=y(b)?null:b,j(b,k)&&(b=k),k=b}function u(){w===c.url()&&_===b||(w=c.url(),_=b,o(E,function(t){t(c.url(),b)}))}var c=this,l=t.location,f=t.history,h=t.setTimeout,d=t.clearTimeout,p={};c.isMock=!1;var m=0,g=[];c.$$completeOutstandingRequest=i,c.$$incOutstandingRequestCount=function(){m++},c.notifyWhenNoOutstandingRequests=function(t){0===m?t():g.push(t)};var b,_,w=l.href,S=e.find("base"),x=null;a(),_=b,c.url=function(e,n,i){if(y(i)&&(i=null),l!==t.location&&(l=t.location),f!==t.history&&(f=t.history),e){var o=_===i;if(w===e&&(!r.history||o))return c;var s=w&&me(w)===me(e);return w=e,_=i,!r.history||s&&o?(s&&!x||(x=e),n?l.replace(e):s?(n=l,i=e.indexOf("#"),i=-1===i?"":e.substr(i),n.hash=i):l.href=e,l.href!==e&&(x=e)):(f[n?"replaceState":"pushState"](i,"",e),a(),_=b),c}return x||l.href.replace(/%27/g,"'")},c.state=function(){return b};var E=[],C=!1,k=null;c.onUrlChange=function(e){return C||(r.history&&Pn(t).on("popstate",s),Pn(t).on("hashchange",s),C=!0),E.push(e),e},c.$$applicationDestroyed=function(){Pn(t).off("hashchange popstate",s)},c.$$checkUrlChange=u,c.baseHref=function(){var t=S.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},c.defer=function(t,e){var n;return m++,n=h(function(){delete p[n],i(t)},e||0),p[n]=!0,n},c.defer.cancel=function(t){return!!p[t]&&(delete p[t],d(t),i(v),!0)}}function Ht(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new Ut(t,r,e,n)}]}function zt(){this.$get=function(){function t(t,n){function i(t){t!=h&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid",t);var s=0,a=f({},n,{id:t}),u={},c=n&&n.capacity||Number.MAX_VALUE,l={},h=null,d=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}return t in u||s++,u[t]=e,s>c&&this.remove(d.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e==h&&(h=e.p),e==d&&(d=e.n),o(e.n,e.p),delete l[t]}delete u[t],s--},removeAll:function(){u={},s=0,l={},h=d=null},destroy:function(){l=a=u=null,delete e[t]},info:function(){return f({},a,{size:s})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Vt(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function Wt(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var s=t.match(r);if(!s)throw Pr("iscp",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:s[1][0],collection:"*"===s[2],optional:"?"===s[3],attrName:s[4]||o}}),i}function s(t){var e=t.charAt(0);if(!e||e!==Un(e))throw Pr("baddir",t);if(t!==t.trim())throw Pr("baddir",t)}var u={},c=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,l=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=I("ngSrc,ngSrcset,src,srcset"),d=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,b=/^(on[a-z]+|formaction)$/;this.directive=function E(e,n){return st(e,"directive"),x(e)?(s(e),it(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var r=[];return o(u[e],function(o,s){try{var a=t.invoke(o);k(a)?a={compile:g(a)}:!a.compile&&a.link&&(a.compile=g(a.link)),a.priority=a.priority||0,a.index=s,a.name=a.name||e,a.require=a.require||a.controller&&a.name,a.restrict=a.restrict||"EA";var u=a,c=a,l=a.name,f={isolateScope:null,bindToController:null};if(w(c.scope)&&(!0===c.bindToController?(f.bindToController=i(c.scope,l,!0),f.isolateScope={}):f.isolateScope=i(c.scope,l,!1)),w(c.bindToController)&&(f.bindToController=i(c.bindToController,l,!0)),w(f.bindToController)){var h=c.controller,d=c.controllerAs;if(!h)throw Pr("noctrl",l);var p;t:if(d&&x(d))p=d;else{if(x(h)){var v=Fr.exec(h);if(v){p=v[3];break t}}p=void 0}if(!p)throw Pr("noident",l)}var m=u.$$bindings=f;w(m.isolateScope)&&(a.$$isolateBindings=m.isolateScope),a.$$moduleName=o.$$moduleName,r.push(a)}catch(b){n(b)}}),r}])),u[e].push(n)):o(e,a(E)),this},this.aHrefSanitizationWhitelist=function(t){return _(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var S=!0;this.debugInfoEnabled=function(t){return _(t)?(S=t,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,s,a,g,_,E,C,A,$){function N(t,e){try{t.addClass(e)}catch(n){}}function O(t,e,n,r,i){t instanceof Pn||(t=Pn(t)),o(t,function(e,n){e.nodeType==lr&&e.nodeValue.match(/\S+/)&&(t[n]=Pn(e).wrap("<span></span>").parent()[0])});var s=I(t,e,t,n,r,i);O.$$addScopeClass(t);var a=null;return function(e,n,r){it(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers;if(r=r.futureParentElement,i&&i.$$boundTransclude&&(i=i.$$boundTransclude),a||(a=(r=r&&r[0])&&"foreignobject"!==M(r)&&r.toString().match(/SVG/)?"svg":"html"),r="html"!==a?Pn(G(a,Pn("<div>").append(t).html())):n?xr.clone.call(t):t,o)for(var u in o)r.data("$"+u+"Controller",o[u].instance);return O.$$addScopeInfo(r,e),n&&n(r,e),s&&s(e,r,r,i),r}}function I(t,e,r,i,o,s){function a(t,r,i,o){var s,a,u,c,l,f,p;if(h)for(p=Array(r.length),c=0;c<d.length;c+=3)s=d[c],p[s]=r[s];else p=r;for(c=0,l=d.length;c<l;)a=p[d[c++]],r=d[c++],s=d[c++],r?(r.scope?(u=t.$new(),O.$$addScopeInfo(Pn(a),u),(f=r.$$destroyBindings)&&(r.$$destroyBindings=null,u.$on("$destroyed",f))):u=t,f=r.transcludeOnThisElement?D(t,r.transclude,o):!r.templateOnThisElement&&o?o:!o&&e?D(t,e):null,r(s,u,a,i,f,r)):s&&s(t,a.childNodes,n,o)}for(var u,c,l,f,h,d=[],p=0;p<t.length;p++)u=new ot,c=L(t[p],[],u,0===p?i:n,o),(s=c.length?B(c,t[p],u,e,r,null,[],[],s):null)&&s.scope&&O.$$addScopeClass(u.$$element),u=s&&s.terminal||!(l=t[p].childNodes)||!l.length?null:I(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:e),(s||u)&&(d.push(p,s,u),f=!0,h=h||s),s=null;return f?a:null}function D(t,e,n){return function(r,i,o,s,a){return r||(r=t.$new(!1,a),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:s})}}function L(t,e,n,r,i){var o,s=n.$attr;switch(t.nodeType){case cr:U(e,Kt(M(t)),"E",r,i);for(var a,u,f,h=t.attributes,d=0,p=h&&h.length;d<p;d++){var v=!1,m=!1;a=h[d],o=a.name,u=nr(a.value),a=Kt(o),(f=lt.test(a))&&(o=o.replace(qr,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var g=a.replace(/(Start|End)$/,"");H(g)&&a===g+"Start"&&(v=o,m=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),a=Kt(o.toLowerCase()),s[a]=o,!f&&n.hasOwnProperty(a)||(n[a]=u,Ot(t,a)&&(n[a]=!0)),Q(t,e,u,a,f),U(e,a,"A",r,i,v,m)}if(t=t.className,w(t)&&(t=t.animVal),x(t)&&""!==t)for(;o=l.exec(t);)a=Kt(o[2]),U(e,a,"C",r,i)&&(n[a]=nr(o[3])),t=t.substr(o.index+o[0].length);break;case lr:if(11===jn)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===lr;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);X(e,t.nodeValue);break;case 8:try{(o=c.exec(t.nodeValue))&&(a=Kt(o[1]),U(e,a,"M",r,i)&&(n[a]=nr(o[2])))}catch(b){}}return e.sort(K),e}function P(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Pr("uterdir",e,n);t.nodeType==cr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(0<i)}else r.push(t);return Pn(r)}function q(t,e,n){return function(r,i,o,s,a){return i=P(i[0],e,n),t(r,i,o,s,a)}}function B(t,r,o,s,a,u,c,l,f){function h(t,e,n,r){t&&(n&&(t=q(t,n,r)),t.require=b.require,t.directiveName=y,($===b||b.$$isolateScope)&&(t=tt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=q(e,n,r)),e.require=b.require,e.directiveName=y,($===b||b.$$isolateScope)&&(e=tt(e,{isolateScope:!0})),l.push(e))}function p(t,e,n,r){var i;if(x(e)){var o=e.match(d);e=e.substring(o[0].length);var s=o[1]||o[3],o="?"===o[2];if("^^"===s?n=n.parent():i=(i=r&&r[e])&&i.instance,i||(r="$"+e+"Controller",i=s?n.inheritedData(r):n.data(r)),!i&&!o)throw Pr("ctreq",e,t)}else if(tr(e))for(i=[],s=0,o=e.length;s<o;s++)i[s]=p(t,e[s],n,r);return i||null}function v(t,e,n,r,i,o){var s,a=ct();for(s in r){var u=r[s],c={$scope:u===$||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},l=u.controller;"@"==l&&(l=e[u.name]),c=g(l,c,!0,u.controllerAs),a[u.name]=c,D||t.data("$"+u.name+"Controller",c.instance)}return a}function m(t,e,i,s,a,u){function f(t,e,r){var i;return T(t)||(r=e,e=t,t=n),D&&(i=b),r||(r=D?_.parent():_),a(t,e,i,r,E)}var h,d,m,g,b,y,_;if(r===i?(s=o,_=o.$$element):(_=Pn(i),s=new ot(_,o)),$&&(g=e.$new(!0)),a&&(y=f,y.$$boundTransclude=a),A&&(b=v(_,s,y,A,g,e)),$&&(O.$$addScopeInfo(_,g,!0,!(N&&(N===$||N===$.$$originalDirective))),O.$$addScopeClass(_,!0),g.$$isolateBindings=$.$$isolateBindings,rt(e,s,g,g.$$isolateBindings,$,g)),b){var w,S=$||C;S&&b[S.name]&&(d=S.$$bindings.bindToController,(m=b[S.name])&&m.identifier&&d&&(w=m,u.$$destroyBindings=rt(e,s,m.instance,d,S)));for(h in b){m=b[h];var x=m();x!==m.instance&&(m.instance=x,_.data("$"+h+"Controller",x),m===w&&(u.$$destroyBindings(),u.$$destroyBindings=rt(e,s,x,d,S)))}}for(h=0,u=c.length;h<u;h++)d=c[h],et(d,d.isolateScope?g:e,_,s,d.require&&p(d.directiveName,d.require,_,b),y);var E=e;for($&&($.template||null===$.templateUrl)&&(E=g),t&&t(E,i.childNodes,n,a),h=l.length-1;0<=h;h--)d=l[h],et(d,d.isolateScope?g:e,_,s,d.require&&p(d.directiveName,d.require,_,b),y)}f=f||{};for(var b,y,_,S,E=-Number.MAX_VALUE,C=f.newScopeDirective,A=f.controllerDirectives,$=f.newIsolateScopeDirective,N=f.templateDirective,I=f.nonTlbTranscludeDirective,M=!1,R=!1,D=f.hasElementTranscludeDirective,j=o.$$element=Pn(r),B=s,U=0,H=t.length;U<H;U++){b=t[U];var K=b.$$start,X=b.$$end;if(K&&(j=P(r,K,X)),_=n,E>b.priority)break;if((_=b.scope)&&(b.templateUrl||(w(_)?(J("new/isolated scope",$||C,b,j),$=b):J("new/isolated scope",$,b,j)),C=C||b),y=b.name,!b.templateUrl&&b.controller&&(_=b.controller,A=A||ct(),J("'"+y+"' controller",A[y],b,j),A[y]=b),(_=b.transclude)&&(M=!0,b.$$tlb||(J("transclusion",I,b,j),I=b),"element"==_?(D=!0,E=b.priority,_=j,j=o.$$element=Pn(e.createComment(" "+y+": "+o[y]+" ")),r=j[0],Z(a,Vn.call(_,0),r),B=O(_,s,E,u&&u.name,{nonTlbTranscludeDirective:I})):(_=Pn(mt(r)).contents(),j.empty(),B=O(_,s))),b.template)if(R=!0,J("template",N,b,j),N=b,_=k(b.template)?b.template(j,o):b.template,_=ut(_),b.replace){if(u=b,_=yr.test(_)?Xt(G(b.templateNamespace,nr(_))):[],r=_[0],1!=_.length||r.nodeType!==cr)throw Pr("tplrt",y,"");Z(a,j,r),H={$attr:{}},_=L(r,[],H);var Y=t.splice(U+1,t.length-(U+1));$&&F(_),t=t.concat(_).concat(Y),z(o,H),H=t.length}else j.html(_);if(b.templateUrl)R=!0,J("template",N,b,j),N=b,b.replace&&(u=b),m=W(t.splice(U,t.length-U),j,o,a,M&&B,c,l,{controllerDirectives:A,newScopeDirective:C!==b&&C,newIsolateScopeDirective:$,templateDirective:N,nonTlbTranscludeDirective:I}),H=t.length;else if(b.compile)try{S=b.compile(j,o,B),k(S)?h(null,S,K,X):S&&h(S.pre,S.post,K,X)}catch(Q){i(Q,V(j))}b.terminal&&(m.terminal=!0,E=Math.max(E,b.priority))}return m.scope=C&&!0===C.scope,m.transcludeOnThisElement=M,m.templateOnThisElement=R,m.transclude=B,f.hasElementTranscludeDirective=D,m}function F(t){for(var e=0,n=t.length;e<n;e++)t[e]=p(t[e],{$$isolateScope:!0})}function U(e,n,r,o,s,a,c){if(n===s)return null;if(s=null,u.hasOwnProperty(n)){var l;n=t.get(n+"Directive");for(var f=0,h=n.length;f<h;f++)try{l=n[f],(y(o)||o>l.priority)&&-1!=l.restrict.indexOf(r)&&(a&&(l=p(l,{$$start:a,$$end:c})),e.push(l),s=l)}catch(d){i(d)}}return s}function H(e){if(u.hasOwnProperty(e))for(var n=t.get(e+"Directive"),r=0,i=n.length;r<i;r++)if(e=n[r],e.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(N(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function W(t,e,n,r,i,a,u,c){var l,f,h=[],d=e[0],v=t.shift(),m=p(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=k(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,b=v.templateNamespace;return e.empty(),s(g).then(function(s){var p,y;if(s=ut(s),v.replace){if(s=yr.test(s)?Xt(G(b,nr(s))):[],p=s[0],1!=s.length||p.nodeType!==cr)throw Pr("tplrt",v.name,g);s={$attr:{}},Z(r,e,p);var _=L(p,[],s);w(v.scope)&&F(_),t=_.concat(t),z(n,s)}else p=d,e.html(s);for(t.unshift(m),l=B(t,p,n,i,e,v,a,u,c),o(r,function(t,n){t==p&&(r[n]=e[0])}),f=I(e[0].childNodes,i);h.length;){s=h.shift(),y=h.shift();var S=h.shift(),x=h.shift(),_=e[0];if(!s.$$destroyed){if(y!==d){var E=y.className;c.hasElementTranscludeDirective&&v.replace||(_=mt(p)),Z(S,Pn(y),_),N(Pn(_),E)}y=l.transcludeOnThisElement?D(s,l.transclude,x):x,l(f,s,_,r,y,l)}}h=null}),function(t,e,n,r,i){t=i,e.$$destroyed||(h?h.push(e,n,r,t):(l.transcludeOnThisElement&&(t=D(e,l.transclude,i)),l(f,e,n,r,t,l)))}}function K(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function J(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Pr("multidir",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,V(r))}function X(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&O.$$addBindingClass(t),function(t,r){var i=r.parent();e||O.$$addBindingClass(i),O.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){r[0].nodeValue=t})}}})}function G(t,n){switch(t=Un(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Y(t,e){if("srcdoc"==e)return C.HTML;var n=M(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?C.RESOURCE_URL:void 0}function Q(t,e,n,i,o){var s=Y(t,i);o=h[i]||o;var a=r(n,!0,s,o);if(a){if("multiple"===i&&"select"===M(t))throw Pr("selmulti",V(t));e.push({priority:100,compile:function(){return{pre:function(t,e,u){if(e=u.$$observers||(u.$$observers=ct()),b.test(i))throw Pr("nodomevents");var c=u[i];c!==n&&(a=c&&r(c,!0,s,o),n=c),a&&(u[i]=a(t),(e[i]||(e[i]=[])).$$inter=!0,(u.$$observers&&u.$$observers[i].$$scope||t).$watch(a,function(t,e){"class"===i&&t!=e?u.$updateClass(t,e):u.$set(i,t)}))}}}})}}function Z(t,n,r){var i,o,s=n[0],a=n.length,u=s.parentNode;if(t)for(i=0,o=t.length;i<o;i++)if(t[i]==s){t[i++]=r,o=i+a-1;for(var c=t.length;i<c;i++,o++)o<c?t[i]=t[o]:delete t[i];t.length-=a-1,t.context===s&&(t.context=r);break}for(u&&u.replaceChild(r,s),t=e.createDocumentFragment(),t.appendChild(s),Pn.hasData(s)&&(Pn(r).data(Pn(s).data()),qn?(Zn=!0,qn.cleanData([s])):delete Pn.cache[s[Pn.expando]]),s=1,a=n.length;s<a;s++)u=n[s],Pn(u).remove(),t.appendChild(u),delete n[s];n[0]=r,n.length=1}function tt(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function et(t,e,n,r,o,s){try{t(e,n,r,o,s)}catch(a){i(a,V(n))}}function rt(t,e,n,i,s,u){var c;return o(i,function(i,o){var u,l,f,h,d=i.attrName,p=i.optional;switch(i.mode){case"@":p||Hn.call(e,d)||(n[o]=e[d]=void 0),e.$observe(d,function(t){x(t)&&(n[o]=t)}),e.$$observers[d].$$scope=t,x(e[d])&&(n[o]=r(e[d])(t));break;case"=":if(!Hn.call(e,d)){if(p)break;e[d]=void 0}if(p&&!e[d])break;l=a(e[d]),h=l.literal?j:function(t,e){return t===e||t!==t&&e!==e},f=l.assign||function(){throw u=n[o]=l(t),Pr("nonassign",e[d],s.name)},u=n[o]=l(t),p=function(e){return h(e,n[o])||(h(e,u)?f(t,e=n[o]):n[o]=e),u=e},p.$stateful=!0,p=i.collection?t.$watchCollection(e[d],p):t.$watch(a(e[d],p),null,l.literal),c=c||[],c.push(p);break;case"&":if(l=e.hasOwnProperty(d)?a(e[d]):v,l===v&&p)break;n[o]=function(e){return l(t,e)}}}),i=c?function(){for(var t=0,e=c.length;t<e;++t)c[t]()}:v,u&&i!==v?(u.$on("$destroy",i),v):i}var ot=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:Kt,$addClass:function(t){t&&0<t.length&&A.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&A.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Jt(t,e);n&&n.length&&A.addClass(this.$$element,n),(n=Jt(e,t))&&n.length&&A.removeClass(this.$$element,n)},$set:function(t,e,n,r){var s=Ot(this.$$element[0],t),a=kr[t],u=t;if(s?(this.$$element.prop(t,e),r=s):a&&(this[a]=e,u=a),this[t]=e,r?this.$attr[t]=r:(r=this.$attr[t])||(this.$attr[t]=r=nt(t,"-")),s=M(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=$(e,"src"===t);else if("img"===s&&"srcset"===t){for(var s="",a=nr(e),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(a)?c:/(,)/,a=a.split(c),c=Math.floor(a.length/2),l=0;l<c;l++)var f=2*l,s=s+$(nr(a[f]),!0),s=s+(" "+nr(a[f+1]));a=nr(a[2*l]).split(/\s/),s+=$(nr(a[0]),!0),2===a.length&&(s+=" "+nr(a[1])),this[t]=e=s}!1!==n&&(null===e||y(e)?this.$$element.removeAttr(r):this.$$element.attr(r,e)),(t=this.$$observers)&&o(t[u],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=ct()),i=r[t]||(r[t]=[]);return i.push(e),_.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){R(i,e)}}};var st=r.startSymbol(),at=r.endSymbol(),ut="{{"==st||"}}"==at?m:function(t){return t.replace(/\{\{/g,st).replace(/}}/g,at)},lt=/^ngAttr[A-Z]/;return O.$$addBindingInfo=S?function(t,e){var n=t.data("$binding")||[];tr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:v,O.$$addBindingClass=S?function(t){N(t,"ng-binding")}:v,O.$$addScopeInfo=S?function(t,e,n,r){t.data(n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:v,O.$$addScopeClass=S?function(t,e){N(t,e?"ng-isolate-scope":"ng-scope")}:v,O}]}function Kt(t){return ht(t.replace(qr,""))}function Jt(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/),o=0;t:for(;o<r.length;o++){for(var s=r[o],a=0;a<i.length;a++)if(s==i[a])continue t;n+=(0<n.length?" ":"")+s}return n}function Xt(t){t=Pn(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&Wn.call(t,e,1);return t}function Gt(){var t={},e=!1;this.register=function(e,n){st(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function s(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp",i,e);t.$scope[e]=n}return function(r,a,u,c){var l,h,d;if(u=!0===u,c&&x(c)&&(d=c),x(r)){if(c=r.match(Fr),!c)throw Br("ctrlfmt",r);h=c[1],d=d||c[3],r=t.hasOwnProperty(h)?t[h]:at(a.$scope,h,!0)||(e?at(o,h,!0):n),ot(r,h,!0)}return u?(u=(tr(r)?r[r.length-1]:r).prototype,l=Object.create(u||null),d&&s(a,d,l,h||r.name),f(function(){var t=i.invoke(r,l,a,h);return t!==l&&(w(t)||k(t))&&(l=t,d&&s(a,d,l,h||r.name)),l},{instance:l,identifier:d})):(l=i.instantiate(r,a,h),d&&s(a,d,l,h||r.name),l)}}]}function Yt(){this.$get=["$window",function(t){return Pn(t.document)}]}function Qt(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Zt(t){return w(t)?C(t)?t.toISOString():F(t):t}function te(){this.$get=function(){return function(t){if(!t)return"";var e=[];return s(t,function(t,n){null===t||y(t)||(tr(t)?o(t,function(t,r){e.push(G(n)+"="+G(Zt(t)))}):e.push(G(n)+"="+G(Zt(t))))}),e.join("&")}}}function ee(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(tr(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!C(t)?s(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(G(r)+"="+G(Zt(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ne(t,e){if(x(t)){var n=t.replace(Kr,"").trim();if(n){var r=e("Content-Type");(r=r&&0===r.indexOf(Hr))||(r=(r=n.match(Vr))&&Wr[r[0]].test(n)),r&&(t=U(n))}}return t}function re(t){var e,n=ct();return x(t)?o(t.split("\n"),function(t){e=t.indexOf(":");var r=Un(nr(t.substr(0,e)));t=nr(t.substr(e+1)),r&&(n[r]=n[r]?n[r]+", "+t:t)}):w(t)&&o(t,function(t,e){var r=Un(e),i=nr(t);r&&(n[r]=n[r]?n[r]+", "+i:i)}),n}function ie(t){var e;return function(n){return e||(e=re(t)),n?(n=e[Un(n)],void 0===n&&(n=null),n):e}}function oe(t,e,n,r){return k(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function se(){var t=this.defaults={transformResponse:[ne],transformRequest:[function(t){return w(t)&&"[object File]"!==Jn.call(t)&&"[object Blob]"!==Jn.call(t)&&"[object FormData]"!==Jn.call(t)?F(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:L(zr),put:L(zr),patch:L(zr)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return _(t)?(e=!!t,this):e};var i=!0;this.useLegacyPromiseExtensions=function(t){return _(t)?(i=!!t,this):i};var s=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,u,c,l,h,d){function p(e){function s(t){var e=f({},t);return e.data=t.data?oe(t.data,t.headers,t.status,u.transformResponse):t.data,t=t.status,200<=t&&300>t?e:h.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){k(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}if(!Yn.isObject(e))throw r("$http")("badreq",e);var u=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);u.headers=function(e){var n,r,i,o=t.headers,s=f({},e.headers),o=f({},o.common,o[Un(e.method)]);t:for(n in o){r=Un(n);for(i in s)if(Un(i)===r)continue t;s[n]=o[n]}return a(s,L(e))}(e),u.method=zn(u.method),u.paramSerializer=x(u.paramSerializer)?d.get(u.paramSerializer):u.paramSerializer;var c=[function(e){var r=e.headers,i=oe(e.data,ie(r),n,e.transformRequest);return y(i)&&o(r,function(t,e){"content-type"===Un(e)&&delete r[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),v(e,i).then(s,s)},n],l=h.when(u);for(o(b,function(t){(t.request||t.requestError)&&c.unshift(t.request,t.requestError),(t.response||t.responseError)&&c.push(t.response,t.responseError)});c.length;){e=c.shift();var p=c.shift(),l=l.then(e,p)}return i?(l.success=function(t){return ot(t,"fn"),l.then(function(e){t(e.data,e.status,e.headers,u)}),l},l.error=function(t){return ot(t,"fn"),l.then(null,function(e){t(e.data,e.status,e.headers,u)}),l}):(l.success=Xr("success"),l.error=Xr("error")),l}function v(r,i){function o(t,n,r,i){function o(){s(n,t,r,i)}d&&(200<=t&&300>t?d.put(E,[t,n,re(r),i]):d.remove(E)),e?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function s(t,e,n,i){e=-1<=e?e:0,(200<=e&&300>e?b.resolve:b.reject)({data:t,status:e,headers:ie(n),config:r,statusText:i})}function c(t){s(t.data,t.status,L(t.headers()),t.statusText)}function f(){var t=p.pendingRequests.indexOf(r);-1!==t&&p.pendingRequests.splice(t,1)}var d,v,b=h.defer(),S=b.promise,x=r.headers,E=m(r.url,r.paramSerializer(r.params));return p.pendingRequests.push(r),S.then(f,f),!r.cache&&!t.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(d=w(r.cache)?r.cache:w(t.cache)?t.cache:g),d&&(v=d.get(E),_(v)?v&&k(v.then)?v.then(c,c):tr(v)?s(v[1],v[0],L(v[2]),v[3]):s(v,200,{},"OK"):d.put(E,S)),y(v)&&((v=rn(r.url)?u()[r.xsrfCookieName||t.xsrfCookieName]:n)&&(x[r.xsrfHeaderName||t.xsrfHeaderName]=v),a(r.method,E,i,o,x,r.timeout,r.withCredentials,r.responseType)),S}function m(t,e){return 0<e.length&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var g=c("$http");t.paramSerializer=x(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var b=[];return o(s,function(t){b.unshift(x(t)?d.get(t):d.invoke(t))}),p.pendingRequests=[],function(t){o(arguments,function(t){p[t]=function(e,n){return p(f({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){p[t]=function(e,n,r){return p(f({},r||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function ae(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function ue(){this.$get=["$browser","$window","$document","$xhrFactory",function(t,e,n,r){return ce(t,r,t.defer,e.angular.callbacks,n[0])}]}function ce(t,e,n,r,i){function s(t,e,n){var o=i.createElement("script"),s=null;return o.type="text/javascript",o.src=t,o.async=!0,s=function(t){o.removeEventListener("load",s,!1),o.removeEventListener("error",s,!1),i.body.removeChild(o),o=null;var a=-1,u="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),u=t.type,a="error"===t.type?404:200),n&&n(a,u)},o.addEventListener("load",s,!1),o.addEventListener("error",s,!1),i.body.appendChild(o),s}return function(i,a,u,c,l,f,h,d){function p(){b&&b(),w&&w.abort()}function m(e,r,i,o,s){_(x)&&n.cancel(x),b=w=null,e(r,i,o,s),t.$$completeOutstandingRequest(v)}if(t.$$incOutstandingRequestCount(),a=a||t.url(),"jsonp"==Un(i)){var g="_"+(r.counter++).toString(36);r[g]=function(t){r[g].data=t,r[g].called=!0};var b=s(a.replace("JSON_CALLBACK","angular.callbacks."+g),g,function(t,e){m(c,t,r[g].data,"",e),r[g]=v})}else{var w=e(i,a);if(w.open(i,a,!0),o(l,function(t,e){_(t)&&w.setRequestHeader(e,t)}),w.onload=function(){var t=w.statusText||"",e="response"in w?w.response:w.responseText,n=1223===w.status?204:w.status;0===n&&(n=e?200:"file"==nn(a).protocol?404:0),m(c,n,e,w.getAllResponseHeaders(),t)},i=function(){m(c,-1,null,null,"")},w.onerror=i,w.onabort=i,h&&(w.withCredentials=!0),d)try{w.responseType=d}catch(S){if("json"!==d)throw S}w.send(y(u)?null:u)}if(0<f)var x=n(p,f);else f&&k(f.then)&&f.then(p)}}function le(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function s(n){return n.replace(l,t).replace(h,e)}function a(o,a,l,h){function d(t){try{var e=t;t=l?i.getTrusted(l,e):i.valueOf(e);var n;if(h&&!_(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}n=t}return n}catch(s){r(Gr.interr(o,s))}}h=!!h;for(var p,v,m=0,g=[],b=[],w=o.length,S=[],x=[];m<w;){if(-1==(p=o.indexOf(t,m))||-1==(v=o.indexOf(e,p+u))){m!==w&&S.push(s(o.substring(m)));break}m!==p&&S.push(s(o.substring(m,p))),m=o.substring(p+u,v),g.push(m),b.push(n(m,d)),m=v+c,x.push(S.length),S.push("")}if(l&&1<S.length&&Gr.throwNoconcat(o),!a||g.length){var E=function(t){for(var e=0,n=g.length;e<n;e++){if(h&&y(t[e]))return;S[x[e]]=t[e]}return S.join("")};return f(function(t){var e=0,n=g.length,i=Array(n);try{for(;e<n;e++)i[e]=b[e](t);return E(i)}catch(s){r(Gr.interr(o,s))}},{exp:o,expressions:g,$$watchDelegate:function(t,e){var n;return t.$watchGroup(b,function(r,i){var o=E(r);k(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,l=new RegExp(t.replace(/./g,o),"g"),h=new RegExp(e.replace(/./g,o),"g");return a.startSymbol=function(){return t},a.endSymbol=function(){return e},a}]}function fe(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,s,a,u){var c=4<arguments.length,l=c?Vn.call(arguments,4):[],f=e.setInterval,h=e.clearInterval,d=0,p=_(u)&&!u,v=(p?r:n).defer(),m=v.promise;return a=_(a)?a:0,m.then(null,null,c?function(){i.apply(null,l)}:i),m.$$intervalId=f(function(){v.notify(d++),0<a&&d>=a&&(v.resolve(d),
h(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},s),o[m.$$intervalId]=v,m}var o={};return i.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},i}]}function he(t){t=t.split("/");for(var e=t.length;e--;)t[e]=X(t[e]);return t.join("/")}function de(t,e){var n=nn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||Qr[n.protocol]||null}function pe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=nn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=K(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ve(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function me(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function ge(t){return t.replace(/(#.+)|#$/,"$1")}function be(t,e,n){this.$$html5=!0,n=n||"",de(t,this),this.$$parse=function(t){var n=ve(e,t);if(!x(n))throw Zr("ipthprfx",t,e);pe(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=J(this.$$search),n=this.$$hash?"#"+X(this.$$hash):"";this.$$url=he(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return _(o=ve(t,r))?(s=o,s=_(o=ve(n,o))?e+(ve("/",o)||o):t+s):_(o=ve(e,r))?s=e+o:e==r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function ye(t,e,n){de(t,this),this.$$parse=function(r){var i,o=ve(t,r)||ve(e,r);y(o)||"#"!==o.charAt(0)?this.$$html5?i=o:(i="",y(o)&&(t=r,this.replace())):(i=ve(n,o),y(i)&&(i=o)),pe(i,this),r=this.$$path;var o=t,s=/^\/[A-Z]:(\/.*)/;0===i.indexOf(o)&&(i=i.replace(o,"")),s.exec(i)||(r=(i=s.exec(r))?i[1]:r),this.$$path=r,this.$$compose()},this.$$compose=function(){var e=J(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=he(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return me(t)==me(e)&&(this.$$parse(e),!0)}}function _e(t,e,n){this.$$html5=!0,ye.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,s;return t==me(r)?o=r:(s=ve(e,r))?o=t+n+s:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=J(this.$$search),r=this.$$hash?"#"+X(this.$$hash):"";this.$$url=he(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function we(t){return function(){return this[t]}}function Se(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function xe(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return _(e)?(t=e,this):t},this.html5Mode=function(t){return N(t)?(e.enabled=t,this):w(t)?(N(t.enabled)&&(e.enabled=t.enabled),N(t.requireBase)&&(e.requireBase=t.requireBase),N(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,s){function a(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(s){throw c.url(i),c.$$state=o,s}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l;l=r.baseHref();var f,h=r.url();if(e.enabled){if(!l&&e.requireBase)throw Zr("nobase");f=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(l||"/"),l=i.history?be:_e}else f=me(h),l=ye;var d=f.substr(0,me(f).lastIndexOf("/")+1);c=new l(f,d,"#"+t),c.$$parseLinkUrl(h,h),c.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Pn(t.target);"a"!==M(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var a=i.prop("href"),u=i.attr("href")||i.attr("xlink:href");w(a)&&"[object SVGAnimatedString]"===a.toString()&&(a=nn(a.animVal).href),p.test(a)||!a||i.attr("target")||t.isDefaultPrevented()||!c.$$parseLinkUrl(a,u)||(t.preventDefault(),c.absUrl()!=r.url()&&(n.$apply(),s.angular["ff-684208-preventDefault"]=!0))}}),ge(c.absUrl())!=ge(h)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){y(ve(d,t))?s.location.href=t:(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,a(i,!1,o)):(v=!1,u(i,o)))}),n.$$phase||n.$digest())}),n.$watch(function(){var t=ge(r.url()),e=ge(c.absUrl()),o=r.state(),s=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&a(e,s,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function Ee(){var t=!0,e=this;this.debugEnabled=function(e){return _(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||v;t=!1;try{t=!!i.apply}catch(s){}return t?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ce(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw ei("isecfld",e);return t}function ke(t,e){if(t+="",!x(t))throw ei("iseccst",e);return t}function Ae(t,e){if(t){if(t.constructor===t)throw ei("isecfn",e);if(t.window===t)throw ei("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw ei("isecdom",e);if(t===Object)throw ei("isecobj",e)}return t}function $e(t,e){if(t){if(t.constructor===t)throw ei("isecfn",e);if(t===ni||t===ri||t===ii)throw ei("isecff",e)}}function Te(t,e){if(t&&(t===(0).constructor||t===(!1).constructor||t==="".constructor||t==={}.constructor||t===[].constructor||t===Function.constructor))throw ei("isecaf",e)}function Ne(t,e){return"undefined"!=typeof t?t:e}function Oe(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Ie(t,e){var n,r;switch(t.type){case ui.Program:n=!0,o(t.body,function(t){Ie(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case ui.Literal:t.constant=!0,t.toWatch=[];break;case ui.UnaryExpression:Ie(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case ui.BinaryExpression:Ie(t.left,e),Ie(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case ui.LogicalExpression:Ie(t.left,e),Ie(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case ui.ConditionalExpression:Ie(t.test,e),Ie(t.alternate,e),Ie(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case ui.Identifier:t.constant=!1,t.toWatch=[t];break;case ui.MemberExpression:Ie(t.object,e),t.computed&&Ie(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case ui.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,r=[],o(t.arguments,function(t){Ie(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?r:[t];break;case ui.AssignmentExpression:Ie(t.left,e),Ie(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case ui.ArrayExpression:n=!0,r=[],o(t.elements,function(t){Ie(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case ui.ObjectExpression:n=!0,r=[],o(t.properties,function(t){Ie(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case ui.ThisExpression:t.constant=!1,t.toWatch=[]}}function Me(t){if(1==t.length){t=t[0].expression;var e=t.toWatch;return 1!==e.length?e:e[0]!==t?e:n}}function Re(t){return t.type===ui.Identifier||t.type===ui.MemberExpression}function De(t){if(1===t.body.length&&Re(t.body[0].expression))return{type:ui.AssignmentExpression,left:t.body[0].expression,right:{type:ui.NGValueParameter},operator:"="}}function Le(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===ui.Literal||t.body[0].expression.type===ui.ArrayExpression||t.body[0].expression.type===ui.ObjectExpression)}function je(t,e){this.astBuilder=t,this.$filter=e}function Pe(t,e){this.astBuilder=t,this.$filter=e}function qe(t){return"constructor"==t}function Be(t){return k(t.valueOf)?t.valueOf():li.call(t)}function Fe(){var t=ct(),e=ct();this.$get=["$filter",function(r){function i(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=Be(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function s(t,e,r,o,s){var a,u=o.inputs;if(1===u.length){var c=i,u=u[0];return t.$watch(function(t){var e=u(t);return i(e,c)||(a=o(t,n,n,[e]),c=e&&Be(e)),a},e,r,s)}for(var l=[],f=[],h=0,d=u.length;h<d;h++)l[h]=i,f[h]=null;return t.$watch(function(t){for(var e=!1,r=0,s=u.length;r<s;r++){var c=u[r](t);(e||(e=!i(c,l[r])))&&(f[r]=c,l[r]=c&&Be(c))}return e&&(a=o(t,n,n,f)),a},e,r,s)}function a(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,k(e)&&e.apply(this,arguments),_(t)&&r.$$postDigest(function(){_(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){_(t)||(e=!1)}),e}var s,a;return s=t.$watch(function(t){return r(t)},function(t,n,r){a=t,k(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(a)&&s()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){k(e)&&e.apply(this,arguments),i()},n)}function l(t,e){if(!e)return t;var n=t.$$watchDelegate,n=n!==u&&n!==a?function(n,r,i,o){return i=t(n,r,i,o),e(i,n,r)}:function(n,r,i,o){return i=t(n,r,i,o),n=e(i,n,r),_(i)?n:i};return t.$$watchDelegate&&t.$$watchDelegate!==s?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=s,n.inputs=t.inputs?t.inputs:[t]),n}var f=ir().noUnsafeEval,h={csp:f,expensiveChecks:!1},d={csp:f,expensiveChecks:!0};return function(n,i,o){var f,p,m;switch(typeof n){case"string":m=n=n.trim();var g=o?e:t;return f=g[m],f||(":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2)),o=o?d:h,f=new ai(o),f=new ci(f,r,o).parse(n),f.constant?f.$$watchDelegate=c:p?f.$$watchDelegate=f.literal?u:a:f.inputs&&(f.$$watchDelegate=s),g[m]=f),l(f,i);case"function":return l(n,i);default:return v}}}]}function Ue(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return ze(function(e){t.$evalAsync(e)},e)}]}function He(){this.$get=["$browser","$exceptionHandler",function(t,e){return ze(function(e){t.defer(e)},e)}]}function ze(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function s(){this.$$state={status:0}}function a(t,e){return function(n){e.call(t,n)}}function u(r){!r.processScheduled&&r.pending&&(r.processScheduled=!0,t(function(){var t,i,o;o=r.pending,r.processScheduled=!1,r.pending=n;for(var s=0,a=o.length;s<a;++s){i=o[s][0],t=o[s][r.status];try{k(t)?i.resolve(t(r.value)):1===r.status?i.resolve(r.value):i.reject(r.value)}catch(u){i.reject(u),e(u)}}}))}function c(){this.promise=new s,this.resolve=a(this,this.resolve),this.reject=a(this,this.reject),this.notify=a(this,this.notify)}var l=r("$q",TypeError);f(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),0<this.$$state.status&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return d(e,!0,t)},function(e){return d(e,!1,t)},e)}}),f(c.prototype,{resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(l("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(w(t)||k(t))&&(n=t&&t.then),k(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;0>=this.promise.$$state.status&&r&&r.length&&t(function(){for(var t,i,o=0,s=r.length;o<s;o++){i=r[o][0],t=r[o][3];try{i.notify(k(t)?t(n):n)}catch(a){e(a)}}})}});var h=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},d=function(t,e,n){var r=null;try{k(n)&&(r=n())}catch(i){return h(i,!1)}return r&&k(r.then)?r.then(function(){return h(t,e)},function(t){return h(t,!1)}):h(t,e)},p=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},v=function m(t){if(!k(t))throw l("norslvr",t);if(!(this instanceof m))return new m(t);var e=new c;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return v.defer=function(){return new c},v.reject=function(t){var e=new c;return e.reject(t),e.promise},v.when=p,v.resolve=p,v.all=function(t){var e=new c,n=0,r=tr(t)?[]:{};return o(t,function(t,i){n++,p(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise},v}function Ve(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function We(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Qn,this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),s=null,a=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(){this.$id=++Qn,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(S.$$phase)throw n("inprog",S.$$phase);S.$$phase=t}function p(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function m(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function g(){}function b(){for(;C.length;)try{C.shift()()}catch(t){u(t)}a=null}function _(){null===a&&(a=l.defer(function(){S.$apply(b)}))}h.prototype={constructor:h,$new:function(e,n){var r;return n=n||this,e?(r=new h,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,a=o.$$watchers,u={fn:e,last:g,get:i,exp:r||t,eq:!!n};return s=null,k(e)||(u.fn=v),a||(a=o.$$watchers=[]),a.unshift(u),p(this,1),function(){0<=R(a,u)&&p(o,-1),s=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,a)):e(i,r,a)}var r=Array(t.length),i=Array(t.length),s=[],a=this,u=!1,c=!0;if(!t.length){var l=!0;return a.$evalAsync(function(){l&&e(i,i,a)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=a.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,a.$evalAsync(n))});s.push(o)}),function(){for(;s.length;)s.shift()()})},$watchCollection:function(t,e){function n(t){r=t;var e,n,s,a;if(!y(r)){if(w(r))if(i(r))for(o!==h&&(o=h,v=o.length=0,l++),t=r.length,v!==t&&(l++,o.length=v=t),e=0;e<t;e++)a=o[e],s=r[e],n=a!==a&&s!==s,n||a===s||(l++,o[e]=s);else{o!==d&&(o=d={},v=0,l++),t=0;for(e in r)Hn.call(r,e)&&(t++,s=r[e],a=o[e],e in o?(n=a!==a&&s!==s,n||a===s||(l++,o[e]=s)):(v++,o[e]=s,l++));if(v>t)for(e in l++,o)Hn.call(r,e)||(v--,delete o[e])}else o!==r&&(o=r,l++);return l}}n.$stateful=!0;var r,o,s,a=this,u=1<e.length,l=0,f=c(t,n),h=[],d={},p=!0,v=0;return this.$watch(f,function(){if(p?(p=!1,e(r,r,a)):e(r,s,a),u)if(w(r))if(i(r)){s=Array(r.length);for(var t=0;t<r.length;t++)s[t]=r[t]}else for(t in s={},r)Hn.call(r,t)&&(s[t]=r[t]);else s=r})},$digest:function(){var t,r,i,o,c,f,h,p,v,m=e,y=[];d("$digest"),l.$$checkUrlChange(),this===S&&null!==a&&(l.defer.cancel(a),b()),s=null;do{for(f=!1,h=this;x.length;){try{v=x.shift(),v.scope.$eval(v.expression,v.locals)}catch(_){u(_)}s=null}t:do{if(o=h.$$watchers)for(c=o.length;c--;)try{if(t=o[c])if((r=t.get(h))===(i=t.last)||(t.eq?j(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===s){f=!1;break t}}else f=!0,s=t,t.last=t.eq?D(r,null):r,t.fn(r,i===g?r:i,h),5>m&&(p=4-m,y[p]||(y[p]=[]),y[p].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(w){u(w)}if(!(o=h.$$watchersCount&&h.$$childHead||h!==this&&h.$$nextSibling))for(;h!==this&&!(o=h.$$nextSibling);)h=h.$parent}while(h=o);if((f||x.length)&&!m--)throw S.$$phase=null,n("infdig",e,y)}while(f||x.length);for(S.$$phase=null;E.length;)try{E.shift()()}catch(C){u(C)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&l.$$applicationDestroyed(),p(this,-this.$$watchersCount);for(var e in this.$$listenerCount)m(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=v,this.$on=this.$watch=this.$watchGroup=function(){return v},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){S.$$phase||x.length||l.defer(function(){x.length&&S.$digest()}),x.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){E.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{S.$$phase=null}}catch(e){u(e)}finally{try{S.$digest()}catch(n){throw u(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&C.push(e),_()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,m(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],s=this,a=!1,c={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=P([c],arguments,1);do{for(n=s.$$listeners[t]||o,c.currentScope=s,r=0,i=n.length;r<i;r++)if(n[r])try{n[r].apply(null,l)}catch(f){u(f)}else n.splice(r,1),r--,i--;if(a)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,r=this,i={name:t,targetScope:this,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return i;for(var o,s,a=P([i],arguments,1);n=r;){for(i.currentScope=n,r=n.$$listeners[t]||[],o=0,s=r.length;o<s;o++)if(r[o])try{r[o].apply(null,a)}catch(c){u(c)}else r.splice(o,1),o--,s--;if(!(r=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return i.currentScope=null,i}};var S=new h,x=S.$$asyncQueue=[],E=S.$$postDigestQueue=[],C=S.$$applyAsyncQueue=[];return S}]}function Ke(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return _(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return _(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=nn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Je(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw fi("iwcard",t);return t=rr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(A(t))return new RegExp("^"+t.source+"$");throw fi("imatcher")}function Xe(t){var e=[];return _(t)&&o(t,function(t){e.push(Je(t))}),e}function Ge(){this.SCE_CONTEXTS=hi;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Xe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Xe(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?rn(e):!!t.exec(e.href)}function i(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var o=function(t){throw fi("unsafe")};n.has("$sanitize")&&(o=n.get("$sanitize"));var s=i(),a={};return a[hi.HTML]=i(s),a[hi.CSS]=i(s),a[hi.URL]=i(s),a[hi.JS]=i(s),a[hi.RESOURCE_URL]=i(a[hi.URL]),{trustAs:function(t,e){var n=a.hasOwnProperty(t)?a[t]:null;if(!n)throw fi("icontext",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw fi("itype",t);return new n(e)},getTrusted:function(n,i){if(null===i||y(i)||""===i)return i;var s=a.hasOwnProperty(n)?a[n]:null;if(s&&i instanceof s)return i.$$unwrapTrustedValue();if(n===hi.RESOURCE_URL){var u,c,s=nn(i.toString()),l=!1;for(u=0,c=t.length;u<c;u++)if(r(t[u],s)){l=!0;break}if(l)for(u=0,c=e.length;u<c;u++)if(r(e[u],s)){l=!1;break}if(l)return i;throw fi("insecurl",i.toString())}if(n===hi.HTML)return o(i);throw fi("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Ye(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>jn)throw fi("iequirks");var r=L(hi);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,s=r.getTrusted,a=r.trustAs;return o(hi,function(t,e){var n=Un(e);r[ht("parse_as_"+n)]=function(e){return i(t,e)},r[ht("get_trusted_"+n)]=function(e){return s(t,e)},r[ht("trust_as_"+n)]=function(e){return a(t,e)}}),r}]}function Qe(){this.$get=["$window","$document",function(t,e){var n,r={},i=d((/android (\d+)/.exec(Un((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},a=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,l=!1;if(u){for(var f in u)if(c=a.exec(f)){n=c[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),l=!!("animation"in u||n+"Animation"in u),!i||c&&l||(c=x(u.webkitTransition),l=x(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>i||o),hasEvent:function(t){if("input"===t&&11>=jn)return!1;if(y(r[t])){var e=s.createElement("div");r[t]="on"+t in e}return r[t]},csp:ir(),vendorPrefix:n,transitions:c,animations:l,android:i}}]}function Ze(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,s){i.totalPendingRequests++,x(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var a=e.defaults&&e.defaults.transformResponse;return tr(a)?a=a.filter(function(t){return t!==ne}):a===ne&&(a=null),e.get(o,{cache:t,transformResponse:a})["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},function(t){if(!s)throw Pr("tpload",o,t.status,t.statusText);return n.reject(t)})}return i.totalPendingRequests=0,i}]}function tn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var r=[];return o(t,function(t){var i=Yn.element(t).data("$binding");i&&o(i,function(i){n?new RegExp("(^|\\s)"+rr(e)+"(\\s|\\||$)").test(i)&&r.push(t):-1!=i.indexOf(e)&&r.push(t)})}),r},findModels:function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=t.querySelectorAll("["+r[i]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function en(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,a,u){k(o)||(u=a,a=o,o=v);var c,l=Vn.call(arguments,3),f=_(u)&&!u,h=(f?r:n).defer(),d=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(e){h.reject(e),i(e)}finally{delete s[d.$$timeoutId]}f||t.$apply()},a),d.$$timeoutId=c,s[c]=h,d}var s={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in s)&&(s[t.$$timeoutId].reject("canceled"),delete s[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function nn(t){return jn&&(di.setAttribute("href",t),t=di.href),di.setAttribute("href",t),{href:di.href,protocol:di.protocol?di.protocol.replace(/:$/,""):"",host:di.host,search:di.search?di.search.replace(/^\?/,""):"",hash:di.hash?di.hash.replace(/^#/,""):"",hostname:di.hostname,port:di.port,pathname:"/"===di.pathname.charAt(0)?di.pathname:"/"+di.pathname}}function rn(t){return t=x(t)?nn(t):t,t.protocol===pi.protocol&&t.host===pi.host}function on(){this.$get=g(t)}function sn(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var n=t[0]||{},r={},i="";return function(){var t,o,s,a,u;if(t=n.cookie||"",t!==i)for(i=t,t=i.split("; "),r={},s=0;s<t.length;s++)o=t[s],a=o.indexOf("="),0<a&&(u=e(o.substring(0,a)),y(r[u])&&(r[u]=e(o.substring(a+1))));return r}}function an(){this.$get=sn}function un(t){function e(n,r){if(w(n)){var i={};return o(n,function(t,n){i[n]=e(n,t)}),i}return t.factory(n+"Filter",r)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",dn),e("date",Sn),e("filter",cn),e("json",xn),e("limitTo",En),e("lowercase",yi),e("number",pn),e("orderBy",Cn),e("uppercase",_i)}function cn(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray",t)}var o;switch(hn(e)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":e=ln(e,n,o);break;default:return t}return Array.prototype.filter.call(t,e)}}function ln(t,e,n){var r=w(t)&&"$"in t;return!0===e?e=j:k(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!b(t))&&(t=Un(""+t),e=Un(""+e),-1!==t.indexOf(e)))}),function(i){return r&&!w(i)?fn(i,t.$,e,!1):fn(i,t,e,n)}}function fn(t,e,n,r,i){var o=hn(t),s=hn(e);if("string"===s&&"!"===e.charAt(0))return!fn(t,e.substring(1),n,r);if(tr(t))return t.some(function(t){return fn(t,e,n,r)});switch(o){case"object":var a;if(r){for(a in t)if("$"!==a.charAt(0)&&fn(t[a],e,n,!0))return!0;return!i&&fn(t,e,n,!1)}if("object"===s){for(a in e)if(i=e[a],!k(i)&&!y(i)&&(o="$"===a,!fn(o?t:t[a],i,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function hn(t){return null===t?"null":typeof t}function dn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:vn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function pn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:vn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function vn(t,e,n,r,i){if(w(t))return"";var o=0>t;t=Math.abs(t);var s=1/0===t;if(!s&&!isFinite(t))return"";var a=t+"",u="",c=!1,l=[];if(s&&(u="∞"),!s&&-1!==a.indexOf("e")){var f=a.match(/([\d\.]+)e(-?)(\d+)/);f&&"-"==f[2]&&f[3]>i+1?t=0:(u=a,c=!0)}if(s||c)0<i&&1>t&&(u=t.toFixed(i),t=parseFloat(u),u=u.replace(vi,r));else{s=(a.split(vi)[1]||"").length,y(i)&&(i=Math.min(Math.max(e.minFrac,s),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var s=(""+t).split(vi),a=s[0],s=s[1]||"",f=0,h=e.lgSize,d=e.gSize;if(a.length>=h+d)for(f=a.length-h,c=0;c<f;c++)0===(f-c)%d&&0!==c&&(u+=n),u+=a.charAt(c);for(c=f;c<a.length;c++)0===(a.length-c)%h&&0!==c&&(u+=n),u+=a.charAt(c);for(;s.length<i;)s+="0";i&&"0"!==i&&(u+=r+s.substr(0,i))}return 0===t&&(o=!1),l.push(o?e.negPre:e.posPre,u,o?e.negSuf:e.posSuf),l.join("")}function mn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function gn(t,e,n,r){return n=n||0,function(i){return i=i["get"+t](),(0<n||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),mn(i,e,r)}}function bn(t,e){return function(n,r){var i=n["get"+t](),o=zn(e?"SHORT"+t:t);return r[o][i]}}function yn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function _n(t){return function(e){var n=yn(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),mn(e,t)}}function wn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function Sn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var r=0,i=0,o=e[8]?t.setUTCFullYear:t.setFullYear,s=e[8]?t.setUTCHours:t.setHours;e[9]&&(r=d(e[9]+e[10]),i=d(e[9]+e[11])),o.call(t,d(e[1]),d(e[2])-1,d(e[3])),r=d(e[4]||0)-r,i=d(e[5]||0)-i,o=d(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),s.call(t,r,i,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var s,a,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,x(n)&&(n=bi.test(n)?d(n):e(n)),E(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;r;)(a=gi.exec(r))?(c=P(c,a,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=H(i,n.getTimezoneOffset()),n=z(n,i,!0)),o(c,function(e){s=mi[e],u+=s?s(n,t.DATETIME_FORMATS,l):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function xn(){return function(t,e){return y(e)&&(e=2),F(t,e)}}function En(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):d(e),isNaN(e)?t:(E(t)&&(t=t.toString()),tr(t)||x(t)?(n=!n||isNaN(n)?0:d(n),n=0>n&&n>=-t.length?t.length+n:n,0<=e?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Cn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var r=1,i=m;if(k(e))i=e;else if(x(e)&&("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(r="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant)))var o=i(),i=function(t){return t[o]};return{get:i,descending:r*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}return function(t,r,o){if(!i(t))return t;tr(r)||(r=[r]),0===r.length&&(r=["+"]);var s=e(r,o);return s.push({get:function(){return{}},descending:o?-1:1}),t=Array.prototype.map.call(t,function(t,e){return{value:t,predicateValues:s.map(function(r){var i=r.get(t);return r=typeof i,null===i?(r="string",i="null"):"string"===r?i=i.toLowerCase():"object"===r&&("function"==typeof i.valueOf&&(i=i.valueOf(),n(i))||b(i)&&(i=i.toString(),n(i))||(i=e)),{value:i,type:r}})}}),t.sort(function(t,e){for(var n=0,r=0,i=s.length;r<i;++r){var n=t.predicateValues[r],o=e.predicateValues[r],a=0;if(n.type===o.type?n.value!==o.value&&(a=n.value<o.value?-1:1):a=n.type<o.type?-1:1,n=a*s[r].descending)break}return n}),t=t.map(function(t){return t.value})}}function kn(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",g(t)}function An(t,e,r,i,s){var a=this,u=[];a.$error={},a.$$success={},a.$pending=n,a.$name=s(e.name||e.ngForm||"")(r),a.$dirty=!1,
a.$pristine=!0,a.$valid=!0,a.$invalid=!1,a.$submitted=!1,a.$$parentForm=xi,a.$rollbackViewValue=function(){o(u,function(t){t.$rollbackViewValue()})},a.$commitViewValue=function(){o(u,function(t){t.$commitViewValue()})},a.$addControl=function(t){st(t.$name,"input"),u.push(t),t.$name&&(a[t.$name]=t),t.$$parentForm=a},a.$$renameControl=function(t,e){var n=t.$name;a[n]===t&&delete a[n],a[e]=t,t.$name=e},a.$removeControl=function(t){t.$name&&a[t.$name]===t&&delete a[t.$name],o(a.$pending,function(e,n){a.$setValidity(n,null,t)}),o(a.$error,function(e,n){a.$setValidity(n,null,t)}),o(a.$$success,function(e,n){a.$setValidity(n,null,t)}),R(u,t),t.$$parentForm=xi},Dn({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];r?-1===r.indexOf(n)&&r.push(n):t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(R(r,n),0===r.length&&delete t[e])},$animate:i}),a.$setDirty=function(){i.removeClass(t,io),i.addClass(t,oo),a.$dirty=!0,a.$pristine=!1,a.$$parentForm.$setDirty()},a.$setPristine=function(){i.setClass(t,io,oo+" ng-submitted"),a.$dirty=!1,a.$pristine=!0,a.$submitted=!1,o(u,function(t){t.$setPristine()})},a.$setUntouched=function(){o(u,function(t){t.$setUntouched()})},a.$setSubmitted=function(){i.addClass(t,"ng-submitted"),a.$submitted=!0,a.$$parentForm.$setSubmitted()}}function $n(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Tn(t,e,n,r,i,o){var s=Un(e[0].type);if(!i.android){var a=!1;e.on("compositionstart",function(t){a=!0}),e.on("compositionend",function(){a=!1,u()})}var u=function(t){if(c&&(o.defer.cancel(c),c=null),!a){var i=e.val();t=t&&t.type,"password"===s||n.ngTrim&&"false"===n.ngTrim||(i=nr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,t)}};if(i.hasEvent("input"))e.on("input",u);else{var c,l=function(t,e,n){c||(c=o.defer(function(){c=null,e&&e.value===n||u(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",u),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function Nn(t,e){return function(n,r){var i,s;if(C(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),Ai.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),s=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(s[e[n]]=+t)}),new Date(s.yyyy,s.MM-1,s.dd,s.HH,s.mm,s.ss||0,1e3*s.sss||0)}return NaN}}function On(t,e,r,i){return function(o,s,a,u,c,l,f){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return _(t)&&!C(t)?r(t)||n:t}In(o,s,a,u),Tn(o,s,a,u,c,l);var p,v=u&&u.$options&&u.$options.timezone;if(u.$$parserName=t,u.$parsers.push(function(t){return u.$isEmpty(t)?null:e.test(t)?(t=r(t,p),v&&(t=z(t,v)),t):n}),u.$formatters.push(function(t){if(t&&!C(t))throw ao("datefmt",t);return h(t)?((p=t)&&v&&(p=z(p,v,!0)),f("date")(t,i,v)):(p=null,"")}),_(a.min)||a.ngMin){var m;u.$validators.min=function(t){return!h(t)||y(m)||r(t)>=m},a.$observe("min",function(t){m=d(t),u.$validate()})}if(_(a.max)||a.ngMax){var g;u.$validators.max=function(t){return!h(t)||y(g)||r(t)<=g},a.$observe("max",function(t){g=d(t),u.$validate()})}}}function In(t,e,r,i){(i.$$hasNativeValidators=w(e[0].validity))&&i.$parsers.push(function(t){var r=e.prop("validity")||{};return r.badInput&&!r.typeMismatch?n:t})}function Mn(t,e,n,r,i){if(_(r)){if(t=t(r),!t.constant)throw ao("constexpr",n,r);return t(e)}return i}function Rn(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[],r=0;t:for(;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return tr(t)?(o(t,function(t){e=e.concat(i(t))}),e):x(t)?t.split(" "):w(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(s,a,u){function c(t,e){var n=a.data("$classCounts")||ct(),r=[];return o(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&r.push(t))}),a.data("$classCounts",n),r.join(" ")}function l(t){if(!0===e||s.$index%2===e){var o=i(t||[]);if(f){if(!j(t,f)){var l=i(f),h=r(o,l),o=r(l,o),h=c(h,1),o=c(o,-1);h&&h.length&&n.addClass(a,h),o&&o.length&&n.removeClass(a,o)}}else{var h=c(o,1);u.$addClass(h)}}f=L(t)}var f;s.$watch(u[t],l,!0),u.$observe("class",function(e){l(s.$eval(u[t]))}),"ngClass"!==t&&s.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var a=i(s.$eval(u[t]));o===e?(o=c(a,1),u.$addClass(o)):(o=c(a,-1),u.$removeClass(o))}})}}}]}function Dn(t){function e(t,e){e&&!s[t]?(c.addClass(o,t),s[t]=!0):!e&&s[t]&&(c.removeClass(o,t),s[t]=!1)}function r(t,n){t=t?"-"+nt(t,"-"):"",e(no+t,!0===n),e(ro+t,!1===n)}var i=t.ctrl,o=t.$element,s={},a=t.set,u=t.unset,c=t.$animate;s[ro]=!(s[no]=o.hasClass(no)),i.$setValidity=function(t,o,s){y(o)?(i.$pending||(i.$pending={}),a(i.$pending,t,s)):(i.$pending&&u(i.$pending,t,s),Ln(i.$pending)&&(i.$pending=n)),N(o)?o?(u(i.$error,t,s),a(i.$$success,t,s)):(a(i.$error,t,s),u(i.$$success,t,s)):(u(i.$error,t,s),u(i.$$success,t,s)),i.$pending?(e(so,!0),i.$valid=i.$invalid=n,r("",null)):(e(so,!1),i.$valid=Ln(i.$error),i.$invalid=!i.$valid,r("",i.$valid)),o=i.$pending&&i.$pending[t]?n:!i.$error[t]&&(!!i.$$success[t]||null),r(t,o),i.$$parentForm.$setValidity(t,o,i)}}function Ln(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var jn,Pn,qn,Bn,Fn=/^\/(.+)\/([a-z]*)$/,Un=function(t){return x(t)?t.toLowerCase():t},Hn=Object.prototype.hasOwnProperty,zn=function(t){return x(t)?t.toUpperCase():t},Vn=[].slice,Wn=[].splice,Kn=[].push,Jn=Object.prototype.toString,Xn=Object.getPrototypeOf,Gn=r("ng"),Yn=t.angular||(t.angular={}),Qn=0;jn=e.documentMode,v.$inject=[],m.$inject=[];var Zn,tr=Array.isArray,er=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,nr=function(t){return x(t)?t.trim():t},rr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ir=function(){if(!_(ir.rules)){var t=e.querySelector("[ng-csp]")||e.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");ir.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=ir;try{new Function(""),n=!1}catch(r){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return ir.rules},or=function(){if(_(or.name_))return or.name_;var t,n,r,i,o=sr.length;for(n=0;n<o;++n)if(r=sr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return or.name_=i},sr=["ng-","data-ng-","ng:","x-ng-"],ar=/[A-Z]/g,ur=!1,cr=1,lr=3,fr={full:"1.4.7",major:1,minor:4,dot:7,codeName:"dark-luminescence"};vt.expando="ng339";var hr=vt.cache={},dr=1;vt._data=function(t){return this.cache[t[this.expando]]||{}};var pr=/([\:\-\_]+(.))/g,vr=/^moz([A-Z])/,mr={mouseleave:"mouseout",mouseenter:"mouseover"},gr=r("jqLite"),br=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,yr=/<|&#?\w+;/,_r=/<([\w:-]+)/,wr=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Sr={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Sr.optgroup=Sr.option,Sr.tbody=Sr.tfoot=Sr.colgroup=Sr.caption=Sr.thead,Sr.th=Sr.td;var xr=vt.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),vt(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Pn(0<=t?this[t]:this[this.length+t])},length:0,push:Kn,sort:[].sort,splice:[].splice},Er={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){Er[Un(t)]=t});var Cr={};o("input select option textarea button form details".split(" "),function(t){Cr[t]=!0});var kr={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:wt,removeData:yt,hasData:function(t){for(var e in hr[t.ng339])return!0;return!1}},function(t,e){vt[e]=t}),o({data:wt,inheritedData:At,scope:function(t){return Pn.data(t,"$scope")||At(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Pn.data(t,"$isolateScope")||Pn.data(t,"$isolateScopeNoTemplate")},controller:kt,injector:function(t){return At(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:St,css:function(t,e,n){return e=ht(e),_(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==lr&&2!==i&&8!==i)if(i=Un(e),Er[i]){if(!_(r))return t[e]||(t.attributes.getNamedItem(e)||v).specified?i:n;r?(t[e]=!0,t.setAttribute(e,i)):(t[e]=!1,t.removeAttribute(i))}else if(_(r))t.setAttribute(e,r);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return _(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===cr||n===lr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===M(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(gt(t,!0),void(t.innerHTML=e))},empty:$t},function(t,e){vt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==$t&&y(2==t.length&&t!==St&&t!==kt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===wt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(r=t.$dv,o=y(r)?Math.min(o,1):o,i=0;i<o;i++){var s=t(this[i],e,n);r=r?r+s:s}return r}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:yt,on:function Lo(t,e,n,r){if(_(r))throw gr("onargs");if(dt(t)){var i=_t(t,!0);r=i.events;var o=i.handle;o||(o=i.handle=It(t,r));for(var i=0<=e.indexOf(" ")?e.split(" "):[e],s=i.length;s--;){e=i[s];var a=r[e];a||(r[e]=[],"mouseenter"===e||"mouseleave"===e?Lo(t,mr[e],function(t){var n=t.relatedTarget;n&&(n===this||this.contains(n))||o(t,e)}):"$destroy"!==e&&t.addEventListener(e,o,!1),a=r[e]),a.push(n)}}},off:bt,one:function(t,e,n){t=Pn(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;gt(t),o(new vt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===cr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===cr||11===n){e=new vt(e);for(var n=0,r=e.length;n<r;n++)t.appendChild(e[n])}},prepend:function(t,e){if(t.nodeType===cr){var n=t.firstChild;o(new vt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Pn(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Tt,detach:function(t){Tt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new vt(e);for(var i=0,o=e.length;i<o;i++){var s=e[i];r.insertBefore(s,n.nextSibling),n=s}},addClass:Et,removeClass:xt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!St(t,e)),(r?Et:xt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:mt,triggerHandler:function(t,e,n){var r,i,s=e.type||e,a=_t(t);(a=(a=a&&a.events)&&a[s])&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:v,type:s,target:t},e.type&&(r=f(r,e)),e=L(a),i=n?[r].concat(n):[r],o(e,function(e){r.isImmediatePropagationStopped()||e.apply(t,i)}))}},function(t,e){vt.prototype[e]=function(e,n,r){for(var i,o=0,s=this.length;o<s;o++)y(i)?(i=t(this[o],e,n,r),_(i)&&(i=Pn(i))):Ct(i,t(this[o],e,n,r));return _(i)?i:this},vt.prototype.bind=vt.prototype.on,vt.prototype.unbind=vt.prototype.off}),Dt.prototype={put:function(t,e){this[Rt(t,this.nextUid)]=e},get:function(t){return this[Rt(t,this.nextUid)]},remove:function(t){var e=this[t=Rt(t,this.nextUid)];return delete this[t],e}};var Ar=[function(){this.$get=[function(){return Dt}]}],$r=/^[^\(]*\(\s*([^\)]*)\)/m,Tr=/,/,Nr=/^\s*(_?)(\S+?)\1\s*$/,Or=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ir=r("$injector");jt.$$annotate=function(t,e,n){var r;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw x(n)&&n||(n=t.name||Lt(t)),Ir("strictdi",n);e=t.toString().replace(Or,""),e=e.match($r),o(e[1].split(Tr),function(t){t.replace(Nr,function(t,e,n){r.push(n)})})}t.$inject=r}}else tr(t)?(e=t.length-1,ot(t[e],"fn"),r=t.slice(0,e)):ot(t,"fn",!0);return r};var Mr=r("$animate"),Rr=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=v,n.chain=v,n.prototype={end:v,cancel:v,resume:v,pause:v,complete:v,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},Dr=function(){var t=new Dt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=x(e)?e.split(" "):tr(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function s(){o(e,function(e){var n=t.get(e);if(n){var r=Bt(e.attr("class")),i="",s="";o(n,function(t,e){t!==!!r[e]&&(t?i+=(i.length?" ":"")+e:s+=(s.length?" ":"")+e)}),o(e,function(t){i&&Et(t,i),s&&xt(t,s)}),t.remove(e)}}),e.length=0}return{enabled:v,on:v,off:v,pin:v,push:function(o,a,u,c){return c&&c(),u=u||{},u.from&&o.css(u.from),u.to&&o.css(u.to),(u.addClass||u.removeClass)&&(a=u.addClass,c=u.removeClass,u=t.get(o)||{},a=i(u,a,!0),c=i(u,c,!1),(a||c)&&(t.put(o,u),e.push(o),1===e.length&&r.$$postDigest(s))),new n}}}]},Lr=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Mr("notcsel",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Mr("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r;t:{for(r=0;r<n.length;r++){var i=n[r];if(1===i.nodeType){r=i;break t}}r=void 0}!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Pn(r),i=i&&Pn(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",Ft(o))},move:function(n,r,i,o){return r=r&&Pn(r),i=i&&Pn(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",Ft(o))},leave:function(e,n){return t.push(e,"leave",Ft(n),function(){e.remove()})},addClass:function(e,n,r){return r=Ft(r),r.addClass=qt(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=Ft(r),r.removeClass=qt(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=Ft(i),i.addClass=qt(i.addClass,n),i.removeClass=qt(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=Ft(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,o.tempClasses=qt(o.tempClasses,i||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],jr=function(){this.$get=["$$rAF","$q",function(t,e){var n=function(){};return n.prototype={done:function(t){this.defer&&this.defer[!0===t?"reject":"resolve"]()},end:function(){this.done()},cancel:function(){this.done(!0)},getPromise:function(){return this.defer||(this.defer=e.defer()),this.defer.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)}},function(e,r){function i(){return t(function(){r.addClass&&(e.addClass(r.addClass),r.addClass=null),r.removeClass&&(e.removeClass(r.removeClass),r.removeClass=null),r.to&&(e.css(r.to),r.to=null),o||s.done(),o=!0}),s}r.cleanupStyles&&(r.from=r.to=null),r.from&&(e.css(r.from),r.from=null);var o,s=new n;return{start:i,end:i}}}]},Pr=r("$compile");Wt.$inject=["$provide","$$sanitizeUriProvider"];var qr=/^((?:x|data)[\:\-_])/i,Br=r("$controller"),Fr=/^(\S+)(\s+as\s+(\w+))?$/,Ur=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Pn&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},Hr="application/json",zr={"Content-Type":Hr+";charset=utf-8"},Vr=/^\[|^\{(?!\{)/,Wr={"[":/]$/,"{":/}$/},Kr=/^\)\]\}',?\n/,Jr=r("$http"),Xr=function(t){return function(){throw Jr("legacy",t)}},Gr=Yn.$interpolateMinErr=r("$interpolate");Gr.throwNoconcat=function(t){throw Gr("noconcat",t)},Gr.interr=function(t,e){return Gr("interr",t,e.toString())};var Yr=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Qr={http:80,https:443,ftp:21},Zr=r("$location"),ti={$$html5:!1,$$replace:!1,absUrl:we("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Yr.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:we("$$protocol"),host:we("$$host"),port:we("$$port"),path:Se("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||E(t))t=t.toString(),this.$$search=K(t);else{if(!w(t))throw Zr("isrcharg");t=D(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:Se("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([_e,ye,be],function(t){t.prototype=Object.create(ti),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==be||!this.$$html5)throw Zr("nostate");return this.$$state=y(e)?null:e,this}});var ei=r("$parse"),ni=Function.prototype.call,ri=Function.prototype.apply,ii=Function.prototype.bind,oi=ct();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){oi[t]=!0});var si={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},ai=function(t){this.options=t};ai.prototype={constructor:ai,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),r=oi[e],i=oi[n];oi[t]||r||i?(t=i?n:r?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||" "===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=_(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,ei("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Un(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),r=r+o;if(i)"u"===o?(i=this.text.substring(this.index+1,this.index+5),i.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+i+"]"),this.index+=4,n+=String.fromCharCode(parseInt(i,16))):n+=si[o]||o,i=!1;else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var ui=function(t,e){this.lexer=t,this.options=e};ui.Program="Program",ui.ExpressionStatement="ExpressionStatement",ui.AssignmentExpression="AssignmentExpression",ui.ConditionalExpression="ConditionalExpression",ui.LogicalExpression="LogicalExpression",ui.BinaryExpression="BinaryExpression",ui.UnaryExpression="UnaryExpression",ui.CallExpression="CallExpression",ui.MemberExpression="MemberExpression",ui.Identifier="Identifier",ui.Literal="Literal",ui.ArrayExpression="ArrayExpression",ui.Property="Property",ui.ObjectExpression="ObjectExpression",ui.ThisExpression="ThisExpression",ui.NGValueParameter="NGValueParameter",ui.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:ui.Program,body:t}},expressionStatement:function(){return{type:ui.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:ui.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:ui.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:ui.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:ui.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:ui.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:ui.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:ui.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:ui.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:ui.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=D(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:ui.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:ui.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:ui.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:ui.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:ui.Identifier,name:t.text}},constant:function(){return{type:ui.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ui.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:ui.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:ui.ObjectExpression,properties:e}},throwError:function(t,e){throw ei("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ei("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ei("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===r||o===i||!(e||n||r||i))return t}return!1},expect:function(t,e,n,r){return!!(t=this.peek(t,e,n,r))&&(this.tokens.shift(),t)},constants:{"true":{type:ui.Literal,value:!0},"false":{type:ui.Literal,value:!1},"null":{type:ui.Literal,value:null},undefined:{type:ui.Literal,value:n},"this":{type:ui.ThisExpression}}},je.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ie(i,r.$filter);var s,a="";return this.stage="assign",(s=De(i))&&(this.state.computing="assign",a=this.nextId(),this.recurse(s,a),this.return_(a),a="fn.assign="+this.generateFunction("assign","s,v,l")),s=Me(i.body),r.stage="inputs",o(s,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i),a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+a+this.watchFns()+"return fn;",a=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",a)(this.$filter,Ce,Ae,$e,ke,Te,Ne,Oe,t),this.state=this.stage=n,a.literal=Le(i),a.constant=i.constant,a},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,s,a){var u,c,l,f,h=this;if(i=i||v,!a&&_(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,s,!0));else switch(t.type){case ui.Program:o(t.body,function(e,r){h.recurse(e.expression,n,n,function(t){c=t}),r!==t.body.length-1?h.current().body.push(c,";"):h.return_(c)});break;case ui.Literal:f=this.escape(t.value),this.assign(e,f),i(f);break;case ui.UnaryExpression:this.recurse(t.argument,n,n,function(t){c=t}),f=t.operator+"("+this.ifDefined(c,0)+")",this.assign(e,f),i(f);break;case ui.BinaryExpression:this.recurse(t.left,n,n,function(t){u=t}),this.recurse(t.right,n,n,function(t){c=t}),f="+"===t.operator?this.plus(u,c):"-"===t.operator?this.ifDefined(u,0)+t.operator+this.ifDefined(c,0):"("+u+")"+t.operator+"("+c+")",this.assign(e,f),i(f);break;case ui.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case ui.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case ui.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),Ce(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){s&&1!==s&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||qe(t.name))&&h.addEnsureSafeObject(e),i(e);break;case ui.MemberExpression:u=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,u,n,function(){h.if_(h.notNull(u),function(){t.computed?(c=h.nextId(),h.recurse(t.property,c),h.getStringValue(c),h.addEnsureSafeMemberName(c),s&&1!==s&&h.if_(h.not(h.computedMember(u,c)),h.lazyAssign(h.computedMember(u,c),"{}")),f=h.ensureSafeObject(h.computedMember(u,c)),h.assign(e,f),r&&(r.computed=!0,r.name=c)):(Ce(t.property.name),s&&1!==s&&h.if_(h.not(h.nonComputedMember(u,t.property.name)),h.lazyAssign(h.nonComputedMember(u,t.property.name),"{}")),f=h.nonComputedMember(u,t.property.name),(h.state.expensiveChecks||qe(t.property.name))&&(f=h.ensureSafeObject(f)),h.assign(e,f),r&&(r.computed=!1,r.name=t.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!s);break;case ui.CallExpression:e=e||this.nextId(),t.filter?(c=h.filter(t.callee.name),l=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),l.push(e)}),f=c+"("+l.join(",")+")",h.assign(e,f),i(e)):(c=h.nextId(),u={},l=[],h.recurse(t.callee,c,u,function(){h.if_(h.notNull(c),function(){h.addEnsureSafeFunction(c),o(t.arguments,function(t){h.recurse(t,h.nextId(),n,function(t){l.push(h.ensureSafeObject(t))})}),u.name?(h.state.expensiveChecks||h.addEnsureSafeObject(u.context),f=h.member(u.context,u.name,u.computed)+"("+l.join(",")+")"):f=c+"("+l.join(",")+")",f=h.ensureSafeObject(f),h.assign(e,f)},function(){h.assign(e,"undefined")}),i(e)}));break;case ui.AssignmentExpression:if(c=this.nextId(),u={},!Re(t.left))throw ei("lval");this.recurse(t.left,n,u,function(){h.if_(h.notNull(u.context),function(){h.recurse(t.right,c),h.addEnsureSafeObject(h.member(u.context,u.name,u.computed)),h.addEnsureSafeAssignContext(u.context),f=h.member(u.context,u.name,u.computed)+t.operator+c,h.assign(e,f),i(e||f)})},1);break;case ui.ArrayExpression:l=[],o(t.elements,function(t){h.recurse(t,h.nextId(),n,function(t){l.push(t)})}),f="["+l.join(",")+"]",this.assign(e,f),i(f);break;case ui.ObjectExpression:l=[],o(t.properties,function(t){h.recurse(t.value,h.nextId(),n,function(e){l.push(h.escape(t.key.type===ui.Identifier?t.key.name:""+t.key.value)+":"+e)})}),f="{"+l.join(",")+"}",this.assign(e,f),i(f);break;case ui.ThisExpression:this.assign(e,"s"),i("s");break;case ui.NGValueParameter:this.assign(e,"v"),
i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},addEnsureSafeAssignContext:function(t){this.current().body.push(this.ensureSafeAssignContext(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},getStringValue:function(t){this.assign(t,"getStringValue("+t+",text)")},ensureSafeAssignContext:function(t){return"ensureSafeAssignContext("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var s=this;return function(){s.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw ei("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Pe.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Ie(r,n.$filter);var i,s;(i=De(r))&&(s=this.recurse(i)),i=Me(r.body);var a;i&&(a=[],o(i,function(t,e){var r=n.recurse(t);t.input=r,a.push(r),t.watchId=e}));var u=[];return o(r.body,function(t){u.push(n.recurse(t.expression))}),i=0===r.body.length?function(){}:1===r.body.length?u[0]:function(t,e){var n;return o(u,function(r){n=r(t,e)}),n},s&&(i.assign=function(t,e,n){return s(t,n,e)}),a&&(i.inputs=a),i.literal=Le(r),i.constant=r.constant,i},recurse:function(t,e,r){var i,s,a,u=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case ui.Literal:return this.value(t.value,e);case ui.UnaryExpression:return s=this.recurse(t.argument),this["unary"+t.operator](s,e);case ui.BinaryExpression:return i=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](i,s,e);case ui.LogicalExpression:return i=this.recurse(t.left),s=this.recurse(t.right),this["binary"+t.operator](i,s,e);case ui.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case ui.Identifier:return Ce(t.name,u.expression),u.identifier(t.name,u.expensiveChecks||qe(t.name),e,r,u.expression);case ui.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(Ce(t.property.name,u.expression),s=t.property.name),t.computed&&(s=this.recurse(t.property)),t.computed?this.computedMember(i,s,e,r,u.expression):this.nonComputedMember(i,s,u.expensiveChecks,e,r,u.expression);case ui.CallExpression:return a=[],o(t.arguments,function(t){a.push(u.recurse(t))}),t.filter&&(s=this.$filter(t.callee.name)),t.filter||(s=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var u=[],c=0;c<a.length;++c)u.push(a[c](t,r,i,o));return t=s.apply(n,u,o),e?{context:n,name:n,value:t}:t}:function(t,n,r,i){var o,c=s(t,n,r,i);if(null!=c.value){Ae(c.context,u.expression),$e(c.value,u.expression),o=[];for(var l=0;l<a.length;++l)o.push(Ae(a[l](t,n,r,i),u.expression));o=Ae(c.value.apply(c.context,o),u.expression)}return e?{value:o}:o};case ui.AssignmentExpression:return i=this.recurse(t.left,!0,1),s=this.recurse(t.right),function(t,n,r,o){var a=i(t,n,r,o);return t=s(t,n,r,o),Ae(a.value,u.expression),Te(a.context),a.context[a.name]=t,e?{value:t}:t};case ui.ArrayExpression:return a=[],o(t.elements,function(t){a.push(u.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case ui.ObjectExpression:return a=[],o(t.properties,function(t){a.push({key:t.key.type===ui.Identifier?t.key.name:""+t.key.value,value:u.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case ui.ThisExpression:return function(t){return e?{value:t}:t};case ui.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){return n=t(n,r,i,o),n=_(n)?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,r,i,o){return n=t(n,r,i,o),n=_(n)?-n:0,e?{value:n}:n}},"unary!":function(t,e){return function(n,r,i,o){return n=!t(n,r,i,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s);return r=e(r,i,o,s),a=Oe(a,r),n?{value:a}:a}},"binary-":function(t,e,n){return function(r,i,o,s){var a=t(r,i,o,s);return r=e(r,i,o,s),a=(_(a)?a:0)-(_(r)?r:0),n?{value:a}:a}},"binary*":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)*e(r,i,o,s),n?{value:r}:r}},"binary/":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)/e(r,i,o,s),n?{value:r}:r}},"binary%":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)%e(r,i,o,s),n?{value:r}:r}},"binary===":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)===e(r,i,o,s),n?{value:r}:r}},"binary!==":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)!==e(r,i,o,s),n?{value:r}:r}},"binary==":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)==e(r,i,o,s),n?{value:r}:r}},"binary!=":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)!=e(r,i,o,s),n?{value:r}:r}},"binary<":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)<e(r,i,o,s),n?{value:r}:r}},"binary>":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)>e(r,i,o,s),n?{value:r}:r}},"binary<=":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)<=e(r,i,o,s),n?{value:r}:r}},"binary>=":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)>=e(r,i,o,s),n?{value:r}:r}},"binary&&":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)&&e(r,i,o,s),n?{value:r}:r}},"binary||":function(t,e,n){return function(r,i,o,s){return r=t(r,i,o,s)||e(r,i,o,s),n?{value:r}:r}},"ternary?:":function(t,e,n,r){return function(i,o,s,a){return i=t(i,o,s,a)?e(i,o,s,a):n(i,o,s,a),r?{value:i}:i}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(s,a,u,c){return s=a&&t in a?a:s,i&&1!==i&&s&&!s[t]&&(s[t]={}),a=s?s[t]:n,e&&Ae(a,o),r?{context:s,name:t,value:a}:a}},computedMember:function(t,e,n,r,i){return function(o,s,a,u){var c,l,f=t(o,s,a,u);return null!=f&&(c=e(o,s,a,u),c=ke(c),Ce(c,i),r&&1!==r&&f&&!f[c]&&(f[c]={}),l=f[c],Ae(l,i)),n?{context:f,name:c,value:l}:l}},nonComputedMember:function(t,e,r,i,o,s){return function(a,u,c,l){return a=t(a,u,c,l),o&&1!==o&&a&&!a[e]&&(a[e]={}),u=null!=a?a[e]:n,(r||qe(e))&&Ae(u,s),i?{context:a,name:e,value:u}:u}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var ci=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new ui(this.lexer),this.astCompiler=n.csp?new Pe(this.ast,e):new je(this.ast,e)};ci.prototype={constructor:ci,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}},ct(),ct();var li=Object.prototype.valueOf,fi=r("$sce"),hi={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pr=r("$compile"),di=e.createElement("a"),pi=nn(t.location.href);sn.$inject=["$document"],un.$inject=["$provide"],dn.$inject=["$locale"],pn.$inject=["$locale"];var vi=".",mi={yyyy:gn("FullYear",4),yy:gn("FullYear",2,0,!0),y:gn("FullYear",1),MMMM:bn("Month"),MMM:bn("Month",!0),MM:gn("Month",2,1),M:gn("Month",1,1),dd:gn("Date",2),d:gn("Date",1),HH:gn("Hours",2),H:gn("Hours",1),hh:gn("Hours",2,-12),h:gn("Hours",1,-12),mm:gn("Minutes",2),m:gn("Minutes",1),ss:gn("Seconds",2),s:gn("Seconds",1),sss:gn("Milliseconds",3),EEEE:bn("Day"),EEE:bn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return t=-1*n,t=(0<=t?"+":"")+(mn(Math[0<t?"floor":"ceil"](t/60),2)+mn(Math.abs(t%60),2))},ww:_n(2),w:_n(1),G:wn,GG:wn,GGG:wn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},gi=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,bi=/^\-?\d+$/;Sn.$inject=["$locale"];var yi=g(Un),_i=g(zn);Cn.$inject=["$parse"];var wi=g({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Jn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Si={};o(Er,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=Kt("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Si[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(kr,function(t,e){Si[e]=function(){return{priority:100,link:function(t,n,r){return"ngPattern"===e&&"/"==r.ngPattern.charAt(0)&&(n=r.ngPattern.match(Fn))?void r.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Kt("ng-"+t);Si[e]=function(){return{priority:99,link:function(n,r,i){var o=t,s=t;"href"===t&&"[object SVGAnimatedString]"===Jn.call(r.prop("href"))&&(s="xlinkHref",i.$attr[s]="xlink:href",o=null),i.$observe(e,function(e){e?(i.$set(s,e),jn&&o&&r.prop(o,i[s])):"href"===t&&i.$set(s,null)})}}}});var xi={$addControl:v,$$renameControl:function(t,e){t.$name=e},$removeControl:v,$setValidity:v,$setDirty:v,$setPristine:v,$setSubmitted:v};An.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ei=function(t){return["$timeout","$parse",function(e,r){function i(t){return""===t?r('this[""]').assign:r(t).assign||v}return{name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:An,compile:function(r,o){r.addClass(io).addClass(no);var s=o.name?"name":!(!t||!o.ngForm)&&"ngForm";return{pre:function(t,r,o,a){var u=a[0];if(!("action"in o)){var c=function(e){t.$apply(function(){u.$commitViewValue(),u.$setSubmitted()}),e.preventDefault()};r[0].addEventListener("submit",c,!1),r.on("$destroy",function(){e(function(){r[0].removeEventListener("submit",c,!1)},0,!1)})}(a[1]||u.$$parentForm).$addControl(u);var l=s?i(u.$name):v;s&&(l(t,u),o.$observe(s,function(e){u.$name!==e&&(l(t,n),u.$$parentForm.$$renameControl(u,e),(l=i(u.$name))(t,u))})),r.on("$destroy",function(){u.$$parentForm.$removeControl(u),l(t,n),f(u,xi)})}}}}}]},Ci=Ei(),ki=Ei(!0),Ai=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,$i=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ti=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Ni=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Oi=/^(\d{4})-(\d{2})-(\d{2})$/,Ii=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Mi=/^(\d{4})-W(\d\d)$/,Ri=/^(\d{4})-(\d\d)$/,Di=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Li={text:function(t,e,n,r,i,o){Tn(t,e,n,r,i,o),$n(r)},date:On("date",Oi,Nn(Oi,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":On("datetimelocal",Ii,Nn(Ii,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:On("time",Di,Nn(Di,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:On("week",Mi,function(t,e){if(C(t))return t;if(x(t)){Mi.lastIndex=0;var n=Mi.exec(t);if(n){var r=+n[1],i=+n[2],o=n=0,s=0,a=0,u=yn(r),i=7*(i-1);return e&&(n=e.getHours(),o=e.getMinutes(),s=e.getSeconds(),a=e.getMilliseconds()),new Date(r,0,u.getDate()+i,n,o,s,a)}}return NaN},"yyyy-Www"),month:On("month",Ri,Nn(Ri,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,r,i,o,s){if(In(t,e,r,i),Tn(t,e,r,i,o,s),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:Ni.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!E(t))throw ao("numfmt",t);t=t.toString()}return t}),_(r.min)||r.ngMin){var a;i.$validators.min=function(t){return i.$isEmpty(t)||y(a)||t>=a},r.$observe("min",function(t){_(t)&&!E(t)&&(t=parseFloat(t,10)),a=E(t)&&!isNaN(t)?t:n,i.$validate()})}if(_(r.max)||r.ngMax){var u;i.$validators.max=function(t){return i.$isEmpty(t)||y(u)||t<=u},r.$observe("max",function(t){_(t)&&!E(t)&&(t=parseFloat(t,10)),u=E(t)&&!isNaN(t)?t:n,i.$validate()})}},url:function(t,e,n,r,i,o){Tn(t,e,n,r,i,o),$n(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||$i.test(n)}},email:function(t,e,n,r,i,o){Tn(t,e,n,r,i,o),$n(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||Ti.test(n)}},radio:function(t,e,n,r){y(n.name)&&e.attr("name",++Qn),e.on("click",function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)}),r.$render=function(){e[0].checked=n.value==r.$viewValue},n.$observe("value",r.$render)},checkbox:function(t,e,n,r,i,o,s,a){var u=Mn(a,t,"ngTrueValue",n.ngTrueValue,!0),c=Mn(a,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){r.$setViewValue(e[0].checked,t&&t.type)}),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return!1===t},r.$formatters.push(function(t){return j(t,u)}),r.$parsers.push(function(t){return t?u:c})},hidden:v,button:v,submit:v,reset:v,file:v},ji=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,s,a){a[0]&&(Li[Un(s.type)]||Li.text)(i,o,s,a[0],e,t,n,r)}}}}],Pi=/^(true|false|\d+)$/,qi=function(){return{restrict:"A",priority:100,compile:function(t,e){return Pi.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Bi=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=y(t)?"":t})}}}}],Fi=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){n=t(r.attr(i.$attr.ngBindTemplate)),e.$$addBindingInfo(r,n.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],Ui=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),s=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(s,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Hi=g({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),zi=Rn("",!0),Vi=Rn("Odd",0),Wi=Rn("Even",1),Ki=kn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ji=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Xi={},Gi={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Kt("ng-"+t);Xi[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var s=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){s(e,{$event:n})};Gi[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Yi=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,s){var a,u,c;n.$watch(i.ngIf,function(n){n?u||s(function(n,o){u=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),a={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),a&&(c=ut(a.clone),t.leave(c).then(function(){c=null}),a=null))})}}}],Qi=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Yn.noop,compile:function(r,i){var o=i.ngInclude||i.src,s=i.onload||"",a=i.autoscroll;return function(r,i,u,c,l){var f,h,d,p=0,v=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(n.leave(d).then(function(){h=null}),h=d,d=null)};r.$watch(o,function(o){var u=function(){!_(a)||a&&!r.$eval(a)||e()},h=++p;o?(t(o,!0).then(function(t){if(h===p){var e=r.$new();c.template=t,t=l(e,function(t){v(),n.enter(t,null,i).then(u)}),f=e,d=t,f.$emit("$includeContentLoaded",o),r.$eval(s)}},function(){h===p&&(v(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(v(),c.template=null)})}}}}],Zi=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){/SVG/.test(r[0].toString())?(r.empty(),t(pt(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),t(r.contents())(n))}}}],to=kn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),eo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var s=e.attr(r.$attr.ngList)||", ",a="false"!==r.ngTrim,u=a?nr(s):s;i.$parsers.push(function(t){if(!y(t)){var e=[];return t&&o(t.split(u),function(t){t&&e.push(a?nr(t):t)}),e}}),i.$formatters.push(function(t){return tr(t)?t.join(s):n}),i.$isEmpty=function(t){return!t||!t.length}}}},no="ng-valid",ro="ng-invalid",io="ng-pristine",oo="ng-dirty",so="ng-pending",ao=r("ngModel"),uo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,s,a,u,c,l,f){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=f(r.name||"",!1)(t),this.$$parentForm=xi;var h,d=s(r.ngModel),p=d.assign,m=d,g=p,b=null,w=this;this.$$setOptions=function(t){if((w.$options=t)&&t.getterSetter){var e=s(r.ngModel+"()"),n=s(r.ngModel+"($$$p)");m=function(t){var n=d(t);return k(n)&&(n=e(t)),n},g=function(t,e){k(d(t))?n(t,{$$$p:w.$modelValue}):p(t,w.$modelValue)}}else if(!d.assign)throw ao("nonassign",r.ngModel,V(i))},this.$render=v,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var S=0;Dn({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},$animate:a}),this.$setPristine=function(){w.$dirty=!1,w.$pristine=!0,a.removeClass(i,oo),a.addClass(i,io)},this.$setDirty=function(){w.$dirty=!0,w.$pristine=!1,a.removeClass(i,io),a.addClass(i,oo),w.$$parentForm.$setDirty()},this.$setUntouched=function(){w.$touched=!1,w.$untouched=!0,a.setClass(i,"ng-untouched","ng-touched")},this.$setTouched=function(){w.$touched=!0,w.$untouched=!1,a.setClass(i,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){u.cancel(b),w.$viewValue=w.$$lastCommittedViewValue,w.$render()},this.$validate=function(){if(!E(w.$modelValue)||!isNaN(w.$modelValue)){var t=w.$$rawModelValue,e=w.$valid,r=w.$modelValue,i=w.$options&&w.$options.allowInvalid;w.$$runValidators(t,w.$$lastCommittedViewValue,function(o){i||e===o||(w.$modelValue=o?t:n,w.$modelValue!==r&&w.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var n=!0;return o(w.$validators,function(r,i){var o=r(t,e);n=n&&o,a(i,o)}),!!n||(o(w.$asyncValidators,function(t,e){a(e,null)}),!1)}function s(){var r=[],i=!0;o(w.$asyncValidators,function(o,s){var u=o(t,e);if(!u||!k(u.then))throw ao("$asyncValidators",u);a(s,n),r.push(u.then(function(){a(s,!0)},function(t){i=!1,a(s,!1)}))}),r.length?l.all(r).then(function(){u(i)},v):u(!0)}function a(t,e){c===S&&w.$setValidity(t,e)}function u(t){c===S&&r(t)}S++;var c=S;(function(){var t=w.$$parserName||"parse";return y(h)?(a(t,null),!0):(h||(o(w.$validators,function(t,e){a(e,null)}),o(w.$asyncValidators,function(t,e){a(e,null)})),a(t,h),h)})()&&i()?s():u(!1)},this.$commitViewValue=function(){var t=w.$viewValue;u.cancel(b),(w.$$lastCommittedViewValue!==t||""===t&&w.$$hasNativeValidators)&&(w.$$lastCommittedViewValue=t,w.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=w.$$lastCommittedViewValue;if(h=!y(e)||n)for(var r=0;r<w.$parsers.length;r++)if(e=w.$parsers[r](e),y(e)){h=!1;break}E(w.$modelValue)&&isNaN(w.$modelValue)&&(w.$modelValue=m(t));var i=w.$modelValue,o=w.$options&&w.$options.allowInvalid;w.$$rawModelValue=e,o&&(w.$modelValue=e,w.$modelValue!==i&&w.$$writeModelToScope()),w.$$runValidators(e,w.$$lastCommittedViewValue,function(t){o||(w.$modelValue=t?e:n,w.$modelValue!==i&&w.$$writeModelToScope())})},this.$$writeModelToScope=function(){g(t,w.$modelValue),o(w.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){w.$viewValue=t,w.$options&&!w.$options.updateOnDefault||w.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,r=w.$options;r&&_(r.debounce)&&(r=r.debounce,E(r)?n=r:E(r[e])?n=r[e]:E(r["default"])&&(n=r["default"])),u.cancel(b),n?b=u(function(){w.$commitViewValue()},n):c.$$phase?w.$commitViewValue():t.$apply(function(){w.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==w.$modelValue&&(w.$modelValue===w.$modelValue||e===e)){w.$modelValue=w.$$rawModelValue=e,h=n;for(var r=w.$formatters,i=r.length,o=e;i--;)o=r[i](o);w.$viewValue!==o&&(w.$viewValue=w.$$lastCommittedViewValue=o,w.$render(),w.$$runValidators(e,o,v))}return e})}],co=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:uo,priority:1,compile:function(e){return e.addClass(io).addClass("ng-untouched").addClass(no),{pre:function(t,e,n,r){var i=r[0];e=r[1]||i.$$parentForm,i.$$setOptions(r[2]&&r[2].$options),e.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],lo=/(\s+|^)default(\s+|$)/,fo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var n=this;this.$options=D(t.$eval(e.ngModelOptions)),_(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=nr(this.$options.updateOn.replace(lo,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ho=kn({terminal:!0,priority:1e3}),po=r("ngOptions"),vo=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,mo=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function s(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var a=t.match(vo);if(!a)throw po("iexp",t,V(e));var u=a[5]||a[7],c=a[6];t=/ as /.test(a[0])&&a[1];var l=a[9];e=n(a[2]?a[1]:u);var f=t&&n(t)||e,h=l&&n(l),d=l?function(t,e){return h(r,e)}:function(t){return Rt(t)},p=function(t,e){return d(t,_(t,e))},v=n(a[2]||a[1]),m=n(a[3]||""),g=n(a[4]||""),b=n(a[8]),y={},_=c?function(t,e){return y[c]=e,y[u]=t,y}:function(t){return y[u]=t,y};return{trackBy:l,getTrackByValue:p,getWatchables:n(b,function(t){var e=[];t=t||[];for(var n=s(t),i=n.length,o=0;o<i;o++){var u=t===n?o:n[o],c=_(t[u],u),u=d(t[u],c);e.push(u),(a[2]||a[1])&&(u=v(r,c),e.push(u)),a[4]&&(c=g(r,c),e.push(c))}return e}),getOptions:function(){for(var t=[],e={},n=b(r)||[],i=s(n),a=i.length,u=0;u<a;u++){var c=n===i?u:i[u],h=_(n[c],c),y=f(r,h),c=d(y,h),w=v(r,h),S=m(r,h),h=g(r,h),y=new o(c,y,w,S,h);t.push(y),e[c]=y}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[p(t)]},getViewValueFromOption:function(t){return l?Yn.copy(t.viewValue):t.viewValue}}}}}var s=e.createElement("option"),a=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,u){function c(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),t.value!==e.value&&(e.value=t.selectValue)}function l(t,e,n,r){return e&&Un(e.nodeName)===n?n=e:(n=r.cloneNode(!1),e?t.insertBefore(n,e):t.appendChild(n)),n}function f(t){for(var e;t;)e=t.nextSibling,Tt(t),t=e}function h(t){var e=m&&m[0],n=w&&w[0];if(e||n)for(;t&&(t===e||t===n||e&&8===e.nodeType);)t=t.nextSibling;return t}function d(){var t=S&&v.readValue();S=x.getOptions();var e={},r=n[0].firstChild;if(_&&n.prepend(m),r=h(r),S.items.forEach(function(t){var i,o;t.group?(i=e[t.group],i||(i=l(n[0],r,"optgroup",a),r=i.nextSibling,i.label=t.group,i=e[t.group]={groupElement:i,currentOptionElement:i.firstChild}),o=l(i.groupElement,i.currentOptionElement,"option",s),c(t,o),i.currentOptionElement=o.nextSibling):(o=l(n[0],r,"option",s),c(t,o),r=o.nextSibling)}),Object.keys(e).forEach(function(t){f(e[t].currentOptionElement)}),f(r),p.$render(),!p.$isEmpty(t)){var i=v.readValue();(x.trackBy?j(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=u[1];if(p){var v=u[0];u=i.multiple;for(var m,g=0,b=n.children(),y=b.length;g<y;g++)if(""===b[g].value){m=b.eq(g);break}var _=!!m,w=Pn(s.cloneNode(!1));w.val("?");var S,x=r(i.ngOptions,n,e);u?(p.$isEmpty=function(t){return!t||0===t.length},v.writeValue=function(t){S.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=S.getOptionFromViewValue(t))&&!t.disabled&&(t.element.selected=!0)})},v.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){(t=S.selectValueMap[t])&&!t.disabled&&e.push(S.getViewValueFromOption(t))}),e},x.trackBy&&e.$watchCollection(function(){if(tr(p.$viewValue))return p.$viewValue.map(function(t){return x.getTrackByValue(t)})},function(){p.$render()})):(v.writeValue=function(t){var e=S.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(w.remove(),_||m.remove(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||_?(w.remove(),_||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)):(_||m.remove(),n.prepend(w),n.val("?"),w.prop("selected",!0),w.attr("selected",!0))},v.readValue=function(){var t=S.selectValueMap[n.val()];return t&&!t.disabled?(_||m.remove(),w.remove(),S.getViewValueFromOption(t)):null},x.trackBy&&e.$watch(function(){return x.getTrackByValue(p.$viewValue)},function(){p.$render()})),_?(m.remove(),t(m)(e),m.removeClass("ng-scope")):m=Pn(s.cloneNode(!1)),d(),e.$watchCollection(x.getWatchables,d)}}}}],go=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(s,a,u){function c(t){a.text(t||"")}var l,f=u.count,h=u.$attr.when&&a.attr(u.$attr.when),d=u.offset||0,p=s.$eval(h)||{},m={},g=e.startSymbol(),b=e.endSymbol(),_=g+f+"-"+d+b,w=Yn.noop;o(u,function(t,e){var n=i.exec(e);n&&(n=(n[1]?"-":"")+Un(n[2]),p[n]=a.attr(u.$attr[e]))}),o(p,function(t,n){m[n]=e(t.replace(r,_))}),s.$watch(f,function(e){var r=parseFloat(e),i=isNaN(r);i||r in p||(r=t.pluralCat(r-d)),r===l||i&&E(l)&&isNaN(l)||(w(),i=m[r],y(i)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=v,c()):w=s.$watch(i,c),l=r)})}}}],bo=["$parse","$animate",function(t,s){var a=r("ngRepeat"),u=function(t,e,n,r,i,o,s){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===s-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,c){var l=c.ngRepeat,f=e.createComment(" end ngRepeat: "+l+" "),h=l.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp",l);var d=h[1],p=h[2],v=h[3],m=h[4],h=d.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!h)throw a("iidexp",d);var g=h[3]||h[1],b=h[2];if(v&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(v)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(v)))throw a("badident",v);var y,_,w,S,x={$id:Rt};return m?y=t(m):(w=function(t,e){return Rt(e)},S=function(t){return t}),function(t,e,r,c,h){y&&(_=function(e,n,r){return b&&(x[b]=e),x[g]=n,x.$index=r,y(t,x)});var d=ct();t.$watchCollection(p,function(r){var c,p,m,y,x,E,C,k,A,$,T=e[0],N=ct();if(v&&(t[v]=r),i(r))k=r,p=_||w;else for($ in p=_||S,k=[],r)Hn.call(r,$)&&"$"!==$.charAt(0)&&k.push($);for(y=k.length,$=Array(y),c=0;c<y;c++)if(x=r===k?c:k[c],E=r[x],C=p(x,E,c),d[C])A=d[C],delete d[C],N[C]=A,$[c]=A;else{if(N[C])throw o($,function(t){t&&t.scope&&(d[t.id]=t)}),a("dupes",l,C,E);$[c]={id:C,scope:n,clone:n},N[C]=!0}for(m in d){if(A=d[m],C=ut(A.clone),s.leave(C),C[0].parentNode)for(c=0,p=C.length;c<p;c++)C[c].$$NG_REMOVED=!0;A.scope.$destroy()}for(c=0;c<y;c++)if(x=r===k?c:k[c],E=r[x],A=$[c],A.scope){m=T;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);A.clone[0]!=m&&s.move(ut(A.clone),null,Pn(T)),T=A.clone[A.clone.length-1],u(A.scope,c,g,E,b,x,y)}else h(function(t,e){A.scope=e;var n=f.cloneNode(!1);t[t.length++]=n,s.enter(t,null,Pn(T)),T=n,A.clone=t,N[A.id]=A,u(A.scope,c,g,E,b,x,y)});d=N})}}}}],yo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],_o=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],wo=kn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),So=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,s){var a=[],u=[],c=[],l=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(i.ngSwitch||i.on,function(n){var r,i;for(r=0,i=c.length;r<i;++r)t.cancel(c[r]);for(r=c.length=0,i=l.length;r<i;++r){var h=ut(u[r].clone);l[r].$destroy(),(c[r]=t.leave(h)).then(f(c,r))}u.length=0,l.length=0,(a=s.cases["!"+n]||s.cases["?"])&&o(a,function(n){n.transclude(function(r,i){l.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: "),u.push({clone:r}),t.enter(r,o.parent(),o)})})})}}}],xo=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),Eo=kn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),Co=kn({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan",V(e));o(function(t){e.empty(),e.append(t)})}}),ko=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],Ao={
$setViewValue:v,$render:v},$o=["$element","$scope","$attrs",function(t,r,i){var o=this,s=new Dt;o.ngModelCtrl=Ao,o.unknownOption=Pn(e.createElement("option")),o.renderUnknownOption=function(e){e="? "+Rt(e)+" ?",o.unknownOption.val(e),t.prepend(o.unknownOption),t.val(e)},r.$on("$destroy",function(){o.renderUnknownOption=v}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){st(t,'"option value"'),""===t&&(o.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1)},o.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(o.emptyOption=n)):s.put(t,e-1))},o.hasOption=function(t){return!!s.get(t)}}],To=function(){return{restrict:"E",require:["select","?ngModel"],controller:$o,link:function(t,e,n,r){var i=r[1];if(i){var s=r[0];if(s.ngModelCtrl=i,i.$render=function(){s.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(s.readValue())})}),n.multiple){s.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},s.writeValue=function(t){var n=new Dt(t);o(e.find("option"),function(t){t.selected=_(n.get(t.value))})};var a,u=NaN;t.$watch(function(){u!==i.$viewValue||j(a,i.$viewValue)||(a=L(i.$viewValue),i.$render()),u=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},No=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){if(_(n.value))var r=t(n.value,!0);else{var i=t(e.text(),!0);i||n.$set("value",e.text())}return function(t,e,n){function o(t){a.addOption(t,e),a.ngModelCtrl.$render(),e[0].hasAttribute("selected")&&(e[0].selected=!0)}var s=e.parent(),a=s.data("$selectController")||s.parent().data("$selectController");if(a&&a.ngModelCtrl){if(r){var u;n.$observe("value",function(t){_(u)&&a.removeOption(u),u=t,o(t)})}else i?t.$watch(i,function(t,e){n.$set("value",t),e!==t&&a.removeOption(e),o(t)}):o(n.value);e.on("$destroy",function(){a.removeOption(n.value),a.ngModelCtrl.$render()})}}}}}],Oo=g({restrict:"E",terminal:!1}),Io=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Mo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var s,a=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp",a,t,V(e));s=t||n,o.$validate()}),o.$validators.pattern=function(t,e){return o.$isEmpty(e)||y(s)||s.test(e)}}}}},Ro=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){t=d(t),i=isNaN(t)?-1:t,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Do=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=d(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(rt(),ft(Yn),Yn.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return-1==e?0:t.length-e-1}t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",pluralCat:function(t,r){var i=0|t,o=r;return n===o&&(o=Math.min(e(t),3)),Math.pow(10,o),1==i&&0==o?"one":"other"}})}]),Pn(e).ready(function(){Q(e,Z)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(t,e,n){"use strict";function r(t,n,r){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(i,o,s,a,u){function c(){d&&(r.cancel(d),d=null),f&&(f.$destroy(),f=null),h&&(d=r.leave(h),d.then(function(){d=null}),h=null)}function l(){var s=t.current&&t.current.locals;if(e.isDefined(s&&s.$template)){var s=i.$new(),a=t.current;h=u(s,function(t){r.enter(t,null,h||o).then(function(){!e.isDefined(p)||p&&!i.$eval(p)||n()}),c()}),f=a.scope=s,f.$emit("$viewContentLoaded"),f.$eval(v)}else c()}var f,h,d,p=s.autoscroll,v=s.onload||"";i.$on("$routeChangeSuccess",l),l()}}}function i(t,e,n){return{restrict:"ECA",priority:-400,link:function(r,i){var o=n.current,s=o.locals;i.html(s.$template);var a=t(i.contents());o.controller&&(s.$scope=r,s=e(o.controller,s),o.controllerAs&&(r[o.controllerAs]=s),i.data("$ngControllerController",s),i.children().data("$ngControllerController",s)),a(r)}}}t=e.module("ngRoute",["ng"]).provider("$route",function(){function t(t,n){return e.extend(Object.create(t),n)}function n(t,e){var n=e.caseInsensitiveMatch,r={originalPath:t,regexp:t},i=r.keys=[];return t=t.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(t,e,n,r){return t="?"===r?r:null,r="*"===r?r:null,i.push({name:n,optional:!!t}),e=e||"",""+(t?"":e)+"(?:"+(t?e:"")+(r&&"(.+?)"||"([^/]+)")+(t||"")+")"+(t||"")}).replace(/([\/$\*])/g,"\\$1"),r.regexp=new RegExp("^"+t+"$",n?"i":""),r}var r={};this.when=function(t,i){var o=e.copy(i);if(e.isUndefined(o.reloadOnSearch)&&(o.reloadOnSearch=!0),e.isUndefined(o.caseInsensitiveMatch)&&(o.caseInsensitiveMatch=this.caseInsensitiveMatch),r[t]=e.extend(o,t&&n(t,o)),t){var s="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";r[s]=e.extend({redirectTo:t},n(s,o))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(t){return"string"==typeof t&&(t={redirectTo:t}),this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(n,i,s,a,u,c,l){function f(t){var r=b.current;(m=(v=d())&&r&&v.$$route===r.$$route&&e.equals(v.pathParams,r.pathParams)&&!v.reloadOnSearch&&!g)||!r&&!v||n.$broadcast("$routeChangeStart",v,r).defaultPrevented&&t&&t.preventDefault()}function h(){var t=b.current,r=v;m?(t.params=r.params,e.copy(t.params,s),n.$broadcast("$routeUpdate",t)):(r||t)&&(g=!1,(b.current=r)&&r.redirectTo&&(e.isString(r.redirectTo)?i.path(p(r.redirectTo,r.params)).search(r.params).replace():i.url(r.redirectTo(r.pathParams,i.path(),i.search())).replace()),a.when(r).then(function(){if(r){var t,n,i=e.extend({},r.resolve);return e.forEach(i,function(t,n){i[n]=e.isString(t)?u.get(t):u.invoke(t,null,null,n)}),e.isDefined(t=r.template)?e.isFunction(t)&&(t=t(r.params)):e.isDefined(n=r.templateUrl)&&(e.isFunction(n)&&(n=n(r.params)),e.isDefined(n)&&(r.loadedTemplateUrl=l.valueOf(n),t=c(n))),e.isDefined(t)&&(i.$template=t),a.all(i)}}).then(function(i){r==b.current&&(r&&(r.locals=i,e.copy(r.params,s)),n.$broadcast("$routeChangeSuccess",r,t))},function(e){r==b.current&&n.$broadcast("$routeChangeError",r,t,e)}))}function d(){var n,o;return e.forEach(r,function(r,s){var a;if(a=!o){var u=i.path();a=r.keys;var c={};if(r.regexp)if(u=r.regexp.exec(u)){for(var l=1,f=u.length;l<f;++l){var h=a[l-1],d=u[l];h&&d&&(c[h.name]=d)}a=c}else a=null;else a=null;a=n=a}a&&(o=t(r,{params:e.extend({},i.search(),n),pathParams:n}),o.$$route=r)}),o||r[null]&&t(r[null],{params:{},pathParams:{}})}function p(t,n){var r=[];return e.forEach((t||"").split(":"),function(t,e){if(0===e)r.push(t);else{var i=t.match(/(\w+)(?:[?*])?(.*)/),o=i[1];r.push(n[o]),r.push(i[2]||""),delete n[o]}}),r.join("")}var v,m,g=!1,b={routes:r,reload:function(){g=!0,n.$evalAsync(function(){f(),h()})},updateParams:function(t){if(!this.current||!this.current.$$route)throw o("norout");t=e.extend({},this.current.params,t),i.path(p(this.current.$$route.originalPath,t)),i.search(t)}};return n.$on("$locationChangeStart",f),n.$on("$locationChangeSuccess",h),b}]});var o=e.$$minErr("ngRoute");t.provider("$routeParams",function(){this.$get=function(){return{}}}),t.directive("ngView",r),t.directive("ngView",i),r.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular),function(t,e,n){"use strict";function r(t,n,r){i.directive(t,["$parse","$swipe",function(i,o){return function(s,a,u){function c(t){if(!l)return!1;var e=Math.abs(t.y-l.y);return t=(t.x-l.x)*n,f&&75>e&&0<t&&30<t&&.3>e/t}var l,f,h=i(u[t]),d=["touch"];e.isDefined(u.ngSwipeDisableMouse)||d.push("mouse"),o.bind(a,{start:function(t,e){l=t,f=!0},cancel:function(t){f=!1},end:function(t,e){c(t)&&s.$apply(function(){a.triggerHandler(r),h(s,{$event:e})})}},d)}}])}var i=e.module("ngTouch",[]);i.factory("$swipe",[function(){function t(t){t=t.originalEvent||t;var e=t.touches&&t.touches.length?t.touches:[t];return t=t.changedTouches&&t.changedTouches[0]||e[0],{x:t.clientX,y:t.clientY}}function n(t,n){var i=[];return e.forEach(t,function(t){(t=r[t][n])&&i.push(t)}),i.join(" ")}var r={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,r,i){var o,s,a,u,c=!1;i=i||["mouse","touch"],e.on(n(i,"start"),function(e){a=t(e),c=!0,s=o=0,u=a,r.start&&r.start(a,e)});var l=n(i,"cancel");l&&e.on(l,function(t){c=!1,r.cancel&&r.cancel(t)}),e.on(n(i,"move"),function(e){if(c&&a){var n=t(e);o+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,10>o&&10>s||(s>o?(c=!1,r.cancel&&r.cancel(e)):(e.preventDefault(),r.move&&r.move(n,e)))}}),e.on(n(i,"end"),function(e){c&&(c=!1,r.end&&r.end(t(e),e))})}}}]),i.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,r){function i(t,e,n){for(var r=0;r<t.length;r+=2){var i=t[r+1],o=n;if(25>Math.abs(t[r]-e)&&25>Math.abs(i-o))return t.splice(r,r+2),!0}return!1}function o(t){if(!(2500<Date.now()-a)){var n=t.touches&&t.touches.length?t.touches:[t],r=n[0].clientX,n=n[0].clientY;if(!(1>r&&1>n||c&&c[0]===r&&c[1]===n)){c&&(c=null);var o=t.target;"label"===e.lowercase(o.nodeName||o[0]&&o[0].nodeName)&&(c=[r,n]),i(u,r,n)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur())}}}function s(t){t=t.touches&&t.touches.length?t.touches:[t];var e=t[0].clientX,r=t[0].clientY;u.push(e,r),n(function(){for(var t=0;t<u.length;t+=2)if(u[t]==e&&u[t+1]==r){u.splice(t,t+2);break}},2500,!1)}var a,u,c;return function(n,c,l){var f,h,d,p,v=t(l.ngClick),m=!1;c.on("touchstart",function(t){m=!0,f=t.target?t.target:t.srcElement,3==f.nodeType&&(f=f.parentNode),c.addClass("ng-click-active"),h=Date.now(),t=t.originalEvent||t,t=(t.touches&&t.touches.length?t.touches:[t])[0],d=t.clientX,p=t.clientY}),c.on("touchcancel",function(t){m=!1,c.removeClass("ng-click-active")}),c.on("touchend",function(t){var n=Date.now()-h,v=t.originalEvent||t,g=(v.changedTouches&&v.changedTouches.length?v.changedTouches:v.touches&&v.touches.length?v.touches:[v])[0],v=g.clientX,g=g.clientY,b=Math.sqrt(Math.pow(v-d,2)+Math.pow(g-p,2));m&&750>n&&12>b&&(u||(r[0].addEventListener("click",o,!0),r[0].addEventListener("touchstart",s,!0),u=[]),a=Date.now(),i(u,v,g),f&&f.blur(),e.isDefined(l.disabled)&&!1!==l.disabled||c.triggerHandler("click",[t])),m=!1,c.removeClass("ng-click-active")}),c.onclick=function(t){},c.on("click",function(t,e){n.$apply(function(){v(n,{$event:e||t})})}),c.on("mousedown",function(t){c.addClass("ng-click-active")}),c.on("mousemove mouseup",function(t){c.removeClass("ng-click-active")})}}]),r("ngSwipeLeft",-1,"swipeleft"),r("ngSwipeRight",1,"swiperight")}(window,window.angular),function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(P(t)&&(t=t.join(" ")),P(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function s(t,e,n){var r="";return t=P(t)?t:t&&q(t)&&t.length?t.split(/\s+/):[],j(t,function(t,i){t&&0<t.length&&(r+=0<i?" ":"",r+=n?e+t:t+e)}),r}function a(t){if(t instanceof L)switch(t.length){case 0:return[];case 1:if(1===t[0].nodeType)return t;break;default:return L(u(t))}if(1===t.nodeType)return L(t)}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(1==n.nodeType)return n}}function c(t,e,n){j(e,function(e){t.addClass(e,n)})}function l(t,e,n){j(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(l(t,e,n.removeClass),n.removeClass=null)}}function h(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||R;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=R},t.$$prepared=!0}return t}function d(t,e){p(t,e),v(t,e)}function p(t,e){e.from&&(t.css(e.from),e.from=null)}function v(t,e){e.to&&(t.css(e.to),e.to=null)}function m(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||"");return t=g(t.attr("class"),r,i),n.preparationClasses&&(e.preparationClasses=x(n.preparationClasses,e.preparationClasses),delete n.preparationClasses),r=e.domOperation!==R?e.domOperation:null,D(e,n),r&&(e.domOperation=r),e.addClass=t.addClass?t.addClass:null,e.removeClass=t.removeClass?t.removeClass:null,e}function g(t,e,n){function r(t){q(t)&&(t=t.split(" "));var e={};return j(t,function(t){t.length&&(e[t]=!0)}),e}var i={};t=r(t),e=r(e),j(e,function(t,e){i[e]=1}),n=r(n),j(n,function(t,e){i[e]=1===i[e]?null:-1});var o={addClass:"",removeClass:""};return j(i,function(e,n){var r,i;1===e?(r="addClass",i=!t[n]):-1===e&&(r="removeClass",i=t[n]),i&&(o[r].length&&(o[r]+=" "),o[r]+=n)}),o}function b(t){return t instanceof e.element?t[0]:t}function y(t,e,n){var r="";e&&(r=s(e,"ng-",!0)),n.addClass&&(r=x(r,s(n.addClass,"-add"))),n.removeClass&&(r=x(r,s(n.removeClass,"-remove"))),r.length&&(n.preparationClasses=r,t.addClass(r))}function _(t,e){var n=e?"-"+e+"s":"";return S(t,[K,n]),[K,n]}function w(t,e){var n=e?"paused":"",r=I+"PlayState";return S(t,[r,n]),[r,n]}function S(t,e){t.style[e[0]]=e[1]}function x(t,e){return t?e?t+" "+e:t:e}function E(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return j(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=C(n)),0===n&&(n=null),r[e]=n}}),r}function C(t){var e=0;return t=t.split(/\s*,\s*/),j(t,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function k(t){return 0===t||null!=t}function A(t,e){var n=N,r=t+"s";return e?n+="Duration":r+=" linear all",[n,r]}function $(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){return(e=t[e])?e.total:0},get:function(e){return(e=t[e])&&e.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}function T(t,e,n){j(n,function(n){t[n]=U(t[n])?t[n]:e.style.getPropertyValue(n)})}var N,O,I,M,R=e.noop,D=e.extend,L=e.element,j=e.forEach,P=e.isArray,q=e.isString,B=e.isObject,F=e.isUndefined,U=e.isDefined,H=e.isFunction,z=e.isElement;F(t.ontransitionend)&&U(t.onwebkittransitionend)?(N="WebkitTransition",O="webkitTransitionEnd transitionend"):(N="transition",O="transitionend"),F(t.onanimationend)&&U(t.onwebkitanimationend)?(I="WebkitAnimation",M="webkitAnimationEnd animationend"):(I="animation",M="animationend");var V=I+"Delay",W=I+"Duration",K=N+"Delay";t=N+"Duration";var J={transitionDuration:t,transitionDelay:K,transitionProperty:N+"Property",animationDuration:W,animationDelay:V,animationIterationCount:I+"IterationCount"},X={transitionDuration:t,transitionDelay:K,animationDuration:W,animationDelay:V};e.module("ngAnimate",[]).directive("ngAnimateChildren",[function(){return function(t,n,r){t=r.ngAnimateChildren,e.isString(t)&&0===t.length?n.data("$$ngAnimateChildren",!0):r.$observe("ngAnimateChildren",function(t){n.data("$$ngAnimateChildren","on"===t||"true"===t)})}}]).factory("$$rAFScheduler",["$$rAF",function(t){function e(t){r=r.concat(t),n()}function n(){if(r.length){for(var e=r.shift(),o=0;o<e.length;o++)e[o]();i||t(function(){i||n()})}}var r,i;return r=e.queue=[],e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}]).factory("$$AnimateRunner",["$q","$sniffer","$$animateAsyncRun",function(t,e,n){function r(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=n(),this._state=0}return r.chain=function(t,e){function n(){r===t.length?e(!0):t[r](function(t){!1===t?e(!1):(r++,n())})}var r=0;n()},r.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;j(t,function(t){t.done(n)})},r.prototype={setHost:function(t){this.host=t||{}},done:function(t){2===this._state?t():this._doneCallbacks.push(t)},progress:R,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;0===e._state&&(e._state=1,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){2!==this._state&&(j(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},r}]).factory("$$animateAsyncRun",["$$rAF",function(t){function e(e){n.push(e),1<n.length||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]).provider("$$animateQueue",["$animateProvider",function(t){function e(t,e,n,r){return i[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=0<(t.addClass||"").length,r=0<(t.removeClass||"").length;return e?n&&r:n||r}var i=this.rules={skip:[],cancel:[],join:[]};i.join.push(function(t,e,r){return!e.structural&&n(e.options)}),i.skip.push(function(t,e,r){return!e.structural&&!n(e.options)}),i.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),i.skip.push(function(t,e,n){return n.structural&&2===n.state&&!e.structural}),i.cancel.push(function(t,e,n){return n.structural&&e.structural}),i.cancel.push(function(t,e,n){return 2===n.state&&e.structural}),i.cancel.push(function(t,e,n){return t=e.options,n=n.options,t.addClass&&t.addClass===n.removeClass||t.removeClass&&t.removeClass===n.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(i,o,s,c,l,p,v,g,_,w){function S(){var t=!1;return function(e){t?e():o.$$postDigest(function(){t=!0,e()})}}function x(t,e){var n=b(t),r=[],i=R[e];return i&&j(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function E(t,r,s){function u(e,n,r,o){_(function(){var e=x(t,n);e.length&&i(function(){j(e,function(e){e(t,r,o)})})}),e.progress(n,r,o)}function c(e){var n=t,r=s;r.preparationClasses&&(n.removeClass(r.preparationClasses),r.preparationClasses=null),r.activeClasses&&(n.removeClass(r.activeClasses),r.activeClasses=null),W(t,s),d(t,s),s.domOperation(),g.complete(!e)}var l,f;(t=a(t))&&(l=b(t),f=t.parent()),s=h(s);var g=new v,_=S();if(P(s.addClass)&&(s.addClass=s.addClass.join(" ")),s.addClass&&!q(s.addClass)&&(s.addClass=null),P(s.removeClass)&&(s.removeClass=s.removeClass.join(" ")),s.removeClass&&!q(s.removeClass)&&(s.removeClass=null),s.from&&!B(s.from)&&(s.from=null),s.to&&!B(s.to)&&(s.to=null),!l)return c(),g;var w=[l.className,s.addClass,s.removeClass].join(" ");if(!V(w))return c(),g;var E=0<=["enter","move","leave"].indexOf(r),A=!I||O.get(l),w=!A&&N.get(l)||{},M=!!w.state;if(A||M&&1==w.state||(A=!$(t,f,r)),A)return c(),g;if(E&&C(t),f={structural:E,element:t,event:r,close:c,options:s,runner:g},M){if(e("skip",t,f,w))return 2===w.state?(c(),g):(m(t,w.options,s),w.runner);if(e("cancel",t,f,w))if(2===w.state)w.runner.end();else{if(!w.structural)return m(t,w.options,f.options),w.runner;w.close()}else if(e("join",t,f,w)){if(2!==w.state)return y(t,E?r:null,s),r=f.event=w.event,s=m(t,w.options,f.options),w.runner;m(t,s,{})}}else m(t,s,{});if((M=f.structural)||(M="animate"===f.event&&0<Object.keys(f.options.to||{}).length||n(f.options)),!M)return c(),k(t),g;var R=(w.counter||0)+1;return f.counter=R,T(t,1,f),o.$$postDigest(function(){var e=N.get(l),i=!e,e=e||{},o=0<(t.parent()||[]).length&&("animate"===e.event||e.structural||n(e.options));i||e.counter!==R||!o?(i&&(W(t,s),d(t,s)),(i||E&&e.event!==r)&&(s.domOperation(),g.end()),o||k(t)):(r=!e.structural&&n(e.options,!0)?"setClass":e.event,T(t,2),e=p(t,r,e.options),e.done(function(e){c(!e),(e=N.get(l))&&e.counter===R&&k(b(t)),u(g,r,"close",{})}),g.setHost(e),u(g,r,"start",{}))}),g}function C(t){t=b(t).querySelectorAll("[data-ng-animate]"),j(t,function(t){var e=parseInt(t.getAttribute("data-ng-animate")),n=N.get(t);switch(e){case 2:n.runner.end();case 1:n&&N.remove(t)}})}function k(t){t=b(t),t.removeAttribute("data-ng-animate"),N.remove(t)}function A(t,e){return b(t)===b(e)}function $(t,e,n){n=L(c[0].body);var r,i=A(t,n)||"HTML"===t[0].nodeName,o=A(t,s),a=!1;for((t=t.data("$ngAnimatePin"))&&(e=t);e&&e.length&&(o||(o=A(e,s)),t=e[0],1===t.nodeType);){var u=N.get(t)||{};if(a||(a=u.structural||O.get(t)),(F(r)||!0===r)&&(t=e.data("$$ngAnimateChildren"),U(t)&&(r=t)),a&&!1===r)break;o||(o=A(e,s),o||(t=e.data("$ngAnimatePin"))&&(e=t)),i||(i=A(e,n)),e=e.parent()}return(!a||r)&&o&&i}function T(t,e,n){n=n||{},n.state=e,t=b(t),t.setAttribute("data-ng-animate",e),n=(e=N.get(t))?D(e,n):n,N.put(t,n)}var N=new l,O=new l,I=null,M=o.$watch(function(){return 0===g.totalPendingRequests},function(t){t&&(M(),o.$$postDigest(function(){o.$$postDigest(function(){null===I&&(I=!0)})}))}),R={},H=t.classNameFilter(),V=H?function(t){return H.test(t)}:function(){return!0},W=f(_);return{on:function(t,e,n){e=u(e),R[t]=R[t]||[],R[t].push({node:e,callback:n})},off:function(t,e,n){function r(t,e,n){var r=u(e);return t.filter(function(t){return!(t.node===r&&(!n||t.callback===n))})}var i=R[t];i&&(R[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(z(t),"element","not an element"),r(z(e),"parentElement","not an element"),t.data("$ngAnimatePin",e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,E(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!I;else if(z(t)){var r=b(t),i=O.get(r);1===n?e=!i:(e=!!e)?i&&O.remove(r):O.put(r,!0)}else e=I=!!t;return e}}}]}]).provider("$$animation",["$animateProvider",function(t){function e(t){return t.data("$$animationRunner")}var n=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(t,r,o,s,a,u){function c(t){function e(t){if(t.processed)return t;t.processed=!0;var n=t.domNode,o=n.parentNode;i.put(n,t);for(var s;o;){if(s=i.get(o)){s.processed||(s=e(s));break}o=o.parentNode}return(s||r).children.push(t),t}var n,r={children:[]},i=new a;for(n=0;n<t.length;n++){var o=t[n];i.put(o.domNode,t[n]={domNode:o.domNode,fn:o.fn,children:[]})}for(n=0;n<t.length;n++)e(t[n]);return function(t){var e,n=[],r=[];for(e=0;e<t.children.length;e++)r.push(t.children[e]);t=r.length;var i=0,o=[];for(e=0;e<r.length;e++){var s=r[e];0>=t&&(t=i,i=0,n.push(o),o=[]),o.push(s.fn),s.children.forEach(function(t){i++,r.push(t)}),t--}return o.length&&n.push(o),n}(r)}var l=[],p=f(t);return function(a,f,v){function m(t){t=t.hasAttribute("ng-animate-ref")?[t]:t.querySelectorAll("[ng-animate-ref]");var e=[];return j(t,function(t){var n=t.getAttribute("ng-animate-ref");n&&n.length&&e.push(t)}),e}function g(t){var e=[],n={};j(t,function(t,r){var i=b(t.element),o=0<=["enter","move"].indexOf(t.event),i=t.structural?m(i):[];if(i.length){var s=o?"to":"from";j(i,function(t){var e=t.getAttribute("ng-animate-ref");n[e]=n[e]||{},n[e][s]={animationID:r,element:L(t)}})}else e.push(t)});var r={},i={};return j(n,function(n,o){var s=n.from,a=n.to;if(s&&a){var u=t[s.animationID],c=t[a.animationID],l=s.animationID.toString();if(!i[l]){var f=i[l]={structural:!0,beforeStart:function(){u.beforeStart(),c.beforeStart()},close:function(){u.close(),c.close()},classes:y(u.classes,c.classes),from:u,to:c,anchors:[]};f.classes.length?e.push(f):(e.push(u),e.push(c))}i[l].anchors.push({out:s.element,"in":a.element})}else s=s?s.animationID:a.animationID,a=s.toString(),r[a]||(r[a]=!0,e.push(t[s]))}),e}function y(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function _(t){for(var e=n.length-1;0<=e;e--){var r=n[e];if(o.has(r)&&(r=o.get(r)(t)))return r}}function w(t,n){t.from&&t.to?(e(t.from.element).setHost(n),e(t.to.element).setHost(n)):e(t.element).setHost(n)}function S(){var t=e(a);!t||"leave"===f&&v.$$domOperationFired||t.end()}function x(e){a.off("$destroy",S),a.removeData("$$animationRunner"),p(a,v),d(a,v),v.domOperation(),A&&t.removeClass(a,A),a.removeClass("ng-animate"),C.complete(!e)}v=h(v);var E=0<=["enter","move","leave"].indexOf(f),C=new s({end:function(){x()},cancel:function(){x(!0)}});if(!n.length)return x(),C;a.data("$$animationRunner",C);var k=i(a.attr("class"),i(v.addClass,v.removeClass)),A=v.tempClasses;return A&&(k+=" "+A,v.tempClasses=null),l.push({element:a,classes:k,event:f,structural:E,options:v,beforeStart:function(){a.addClass("ng-animate"),A&&t.addClass(a,A)},close:x}),a.on("$destroy",S),1<l.length?C:(r.$$postDigest(function(){var t=[];j(l,function(n){e(n.element)?t.push(n):n.close()}),l.length=0;var n=g(t),r=[];j(n,function(t){r.push({domNode:b(t.from?t.from.element:t.element),fn:function(){t.beforeStart();var n,r=t.close;if(e(t.anchors?t.from.element||t.to.element:t.element)){var i=_(t);i&&(n=i.start)}n?(n=n(),n.done(function(t){r(!t)}),w(t,n)):r()}})}),u(c(r))}),C)}}]}]).provider("$animateCss",["$animateProvider",function(t){var e=$(),n=$();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$animate",function(t,r,i,a,u,c,l,m){function g(t,e){var n=t.parentNode;return(n.$$ngAnimateParentKey||(n.$$ngAnimateParentKey=++D))+"-"+t.getAttribute("class")+"-"+e}function y(i,o,a,u){var c;return 0<e.count(a)&&(c=n.get(a),c||(o=s(o,"-stagger"),r.addClass(i,o),c=E(t,i,u),c.animationDuration=Math.max(c.animationDuration,0),c.transitionDuration=Math.max(c.transitionDuration,0),r.removeClass(i,o),n.put(a,c))),c||{}}function x(t){L.push(t),l.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=u(),r=0;r<L.length;r++)L[r](t);L.length=0})}function C(n,r,i){return r=e.get(i),r||(r=E(t,n,J),"infinite"===r.animationIterationCount&&(r.animationIterationCount=1)),e.put(i,r),n=r,i=n.animationDelay,r=n.transitionDelay,n.maxDelay=i&&r?Math.max(i,r):i||r,n.maxDuration=Math.max(n.animationDuration*n.animationIterationCount,n.transitionDuration),n}var $=f(r),D=0,L=[];return function(t,n){function u(){f()}function l(){f(!0)}function f(e){F||H&&U||(F=!0,U=!1,n.$$skipPreparationClasses||r.removeClass(t,st),r.removeClass(t,ut),w(B,!1),_(B,!1),j(tt,function(t){B.style[t[0]]=""}),$(t,n),d(t,n),Object.keys(q).length&&j(q,function(t,e){t?B.style.setProperty(e,t):B.style.removeProperty(e)}),n.onDone&&n.onDone(),z&&z.complete(!e))}function E(t){pt.blockTransition&&_(B,t),pt.blockKeyframeAnimation&&w(B,!!t)}function D(){return z=new i({end:u,cancel:l}),x(R),f(),{$$willAnimate:!1,start:function(){return z},end:u}}function L(){function e(){if(!F){if(E(!1),j(tt,function(t){B.style[t[0]]=t[1]}),$(t,n),r.addClass(t,ut),pt.recalculateTimingStyles){if(at=B.className+" "+st,ct=g(B,at),ht=C(B,at,ct),dt=ht.maxDelay,G=Math.max(dt,0),Q=ht.maxDuration,0===Q)return void f();pt.hasTransitions=0<ht.transitionDuration,pt.hasAnimations=0<ht.animationDuration}if(pt.applyAnimationDelay&&(dt="boolean"!=typeof n.delay&&k(n.delay)?parseFloat(n.delay):dt,G=Math.max(dt,0),ht.animationDelay=dt,vt=[V,dt+"s"],tt.push(vt),B.style[vt[0]]=vt[1]),Y=1e3*G,Z=1e3*Q,n.easing){var e,c=n.easing;pt.hasTransitions&&(e=N+"TimingFunction",tt.push([e,c]),B.style[e]=c),pt.hasAnimations&&(e=I+"TimingFunction",tt.push([e,c]),B.style[e]=c)}ht.transitionDuration&&u.push(O),ht.animationDuration&&u.push(M),s=Date.now();var l=Y+1.5*Z;e=s+l;var c=t.data("$$animateCss")||[],h=!0;if(c.length){var d=c[0];(h=e>d.expectedEndTime)?a.cancel(d.timer):c.push(f)}h&&(l=a(i,l,!1),c[0]={timer:l,expectedEndTime:e},c.push(f),t.data("$$animateCss",c)),t.on(u.join(" "),o),n.to&&(n.cleanupStyles&&T(q,B,Object.keys(n.to)),v(t,n))}}function i(){var e=t.data("$$animateCss");if(e){for(var n=1;n<e.length;n++)e[n]();t.removeData("$$animateCss")}}function o(t){t.stopPropagation();var e=t.originalEvent||t;t=e.$manualTimeStamp||e.timeStamp||Date.now(),e=parseFloat(e.elapsedTime.toFixed(3)),Math.max(t-s,0)>=Y&&e>=Q&&(H=!0,f())}if(!F)if(B.parentNode){var s,u=[],c=function(t){if(H)U&&t&&(U=!1,f());else if(U=!t,ht.animationDuration)if(t=w(B,U),U)tt.push(t);else{var e=tt,n=e.indexOf(t);0<=t&&e.splice(n,1)}},l=0<ft&&(ht.transitionDuration&&0===lt.transitionDuration||ht.animationDuration&&0===lt.animationDuration)&&Math.max(lt.animationDelay,lt.transitionDelay);l?a(e,Math.floor(l*ft*1e3),!1):e(),J.resume=function(){c(!0)},J.pause=function(){c(!1)}}else f()}var q={},B=b(t);if(!B||!B.parentNode||!m.enabled())return D();n=h(n);var F,U,H,z,J,G,Y,Q,Z,tt=[],et=t.attr("class"),nt=o(n);if(0===n.duration||!c.animations&&!c.transitions)return D();var rt=n.event&&P(n.event)?n.event.join(" "):n.event,it="",ot="";rt&&n.structural?it=s(rt,"ng-",!0):rt&&(it=rt),n.addClass&&(ot+=s(n.addClass,"-add")),n.removeClass&&(ot.length&&(ot+=" "),ot+=s(n.removeClass,"-remove")),n.applyClassesEarly&&ot.length&&$(t,n);var st=[it,ot].join(" ").trim(),at=et+" "+st,ut=s(st,"-active"),et=nt.to&&0<Object.keys(nt.to).length;if(!(0<(n.keyframeStyle||"").length||et||st))return D();var ct,lt;0<n.stagger?(nt=parseFloat(n.stagger),lt={transitionDelay:nt,animationDelay:nt,transitionDuration:0,animationDuration:0}):(ct=g(B,at),lt=y(B,st,ct,X)),n.$$skipPreparationClasses||r.addClass(t,st),n.transitionStyle&&(nt=[N,n.transitionStyle],S(B,nt),tt.push(nt)),0<=n.duration&&(nt=0<B.style[N].length,nt=A(n.duration,nt),S(B,nt),tt.push(nt)),n.keyframeStyle&&(nt=[I,n.keyframeStyle],S(B,nt),tt.push(nt));var ft=lt?0<=n.staggerIndex?n.staggerIndex:e.count(ct):0;(rt=0===ft)&&!n.skipBlocking&&_(B,9999);var ht=C(B,at,ct),dt=ht.maxDelay;G=Math.max(dt,0),Q=ht.maxDuration;var pt={};if(pt.hasTransitions=0<ht.transitionDuration,pt.hasAnimations=0<ht.animationDuration,pt.hasTransitionAll=pt.hasTransitions&&"all"==ht.transitionProperty,pt.applyTransitionDuration=et&&(pt.hasTransitions&&!pt.hasTransitionAll||pt.hasAnimations&&!pt.hasTransitions),pt.applyAnimationDuration=n.duration&&pt.hasAnimations,pt.applyTransitionDelay=k(n.delay)&&(pt.applyTransitionDuration||pt.hasTransitions),pt.applyAnimationDelay=k(n.delay)&&pt.hasAnimations,pt.recalculateTimingStyles=0<ot.length,
(pt.applyTransitionDuration||pt.applyAnimationDuration)&&(Q=n.duration?parseFloat(n.duration):Q,pt.applyTransitionDuration&&(pt.hasTransitions=!0,ht.transitionDuration=Q,nt=0<B.style[N+"Property"].length,tt.push(A(Q,nt))),pt.applyAnimationDuration&&(pt.hasAnimations=!0,ht.animationDuration=Q,tt.push([W,Q+"s"]))),0===Q&&!pt.recalculateTimingStyles)return D();if(null!=n.delay){var vt=parseFloat(n.delay);pt.applyTransitionDelay&&tt.push([K,vt+"s"]),pt.applyAnimationDelay&&tt.push([V,vt+"s"])}return null==n.duration&&0<ht.transitionDuration&&(pt.recalculateTimingStyles=pt.recalculateTimingStyles||rt),Y=1e3*G,Z=1e3*Q,n.skipBlocking||(pt.blockTransition=0<ht.transitionDuration,pt.blockKeyframeAnimation=0<ht.animationDuration&&0<lt.animationDelay&&0===lt.animationDuration),n.from&&(n.cleanupStyles&&T(q,B,Object.keys(n.from)),p(t,n)),pt.blockTransition||pt.blockKeyframeAnimation?E(Q):n.skipBlocking||_(B,!1),{$$willAnimate:!0,end:u,start:function(){if(!F)return J={end:u,cancel:l,resume:null,pause:null},z=new i(J),x(L),z}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(t,e,n,r,i,o,s){function a(t){return t.replace(/\bng-\S+\b/g,"")}function u(t,e){return q(t)&&(t=t.split(" ")),q(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function c(e,r,i){function o(t){var e={},n=b(t).getBoundingClientRect();return j(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=d.scrollTop;break;case"left":r+=d.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function s(){var e=a(i.attr("class")||""),n=u(e,f),e=u(f,e),n=t(l,{to:o(i),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+e,delay:!0});return n.$$willAnimate?n:null}function c(){l.remove(),r.removeClass("ng-animate-shim"),i.removeClass("ng-animate-shim")}var l=L(b(r).cloneNode(!0)),f=a(l.attr("class")||"");r.addClass("ng-animate-shim"),i.addClass("ng-animate-shim"),l.addClass("ng-anchor"),p.append(l);var h;if(e=function(){var e=t(l,{addClass:"ng-anchor-out",delay:!0,from:o(r)});return e.$$willAnimate?e:null}(),!e&&(h=s(),!h))return c();var v=e||h;return{start:function(){function t(){r&&r.end()}var e,r=v.start();return r.done(function(){return r=null,!h&&(h=s())?(r=h.start(),r.done(function(){r=null,c(),e.complete()}),r):(c(),void e.complete())}),e=new n({end:t,cancel:t})}}}function l(t,e,r,i){var o=h(t,R),s=h(e,R),a=[];if(j(i,function(t){(t=c(r,t.out,t["in"]))&&a.push(t)}),o||s||0!==a.length)return{start:function(){function t(){j(e,function(t){t.end()})}var e=[];o&&e.push(o.start()),s&&e.push(s.start()),j(a,function(t){e.push(t.start())});var r=new n({end:t,cancel:t});return n.all(e,function(t){r.complete(t)}),r}}}function h(e){var n=e.element,r=e.options||{};return e.structural&&(r.event=e.event,r.structural=!0,r.applyClassesEarly=!0,"leave"===e.event&&(r.onDone=r.domOperation)),r.preparationClasses&&(r.event=x(r.event,r.preparationClasses)),e=t(n,r),e.$$willAnimate?e:null}if(!i.animations&&!i.transitions)return R;var d=s[0].body;e=b(r);var p=L(e.parentNode&&11===e.parentNode.nodeType||d.contains(e)?e:d);return f(o),function(t){return t.from&&t.to?l(t.from,t.to,t.classes,t.anchors):h(t)}}]}]).provider("$$animateJs",["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(e,n,r){function i(n){n=P(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var s=n[o],a=t.$$registeredAnimations[s];a&&!i[s]&&(r.push(e.get(a)),i[s]=!0)}return r}var o=f(r);return function(t,e,r,s){function a(){s.domOperation(),o(t,s)}function u(t,e,r,i,o){switch(r){case"animate":e=[e,i.from,i.to,o];break;case"setClass":e=[e,v,m,o];break;case"addClass":e=[e,v,o];break;case"removeClass":e=[e,m,o];break;default:e=[e,o]}if(e.push(i),t=t.apply(t,e))if(H(t.start)&&(t=t.start()),t instanceof n)t.done(o);else if(H(t))return t;return R}function c(t,e,r,i,o){var s=[];return j(i,function(i){var a=i[o];a&&s.push(function(){var i,o,s=!1,c=function(t){s||(s=!0,(o||R)(t),i.complete(!t))};return i=new n({end:function(){c()},cancel:function(){c(!0)}}),o=u(a,t,e,r,function(t){c(!1===t)}),i})}),s}function l(t,e,r,i,o){var s=c(t,e,r,i,o);if(0===s.length){var a,u;"beforeSetClass"===o?(a=c(t,"removeClass",r,i,"beforeRemoveClass"),u=c(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(a=c(t,"removeClass",r,i,"removeClass"),u=c(t,"addClass",r,i,"addClass")),a&&(s=s.concat(a)),u&&(s=s.concat(u))}if(0!==s.length)return function(t){var e=[];return s.length&&j(s,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){j(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&B(r)&&(s=r,r=null),s=h(s),r||(r=t.attr("class")||"",s.addClass&&(r+=" "+s.addClass),s.removeClass&&(r+=" "+s.removeClass));var f,p,v=s.addClass,m=s.removeClass,g=i(r);if(g.length){var b,y;"leave"==e?(y="leave",b="afterLeave"):(y="before"+e.charAt(0).toUpperCase()+e.substr(1),b=e),"enter"!==e&&"move"!==e&&(f=l(t,e,s,g,y)),p=l(t,e,s,g,b)}if(f||p)return{start:function(){function e(e){o=!0,a(),d(t,s),u.complete(e)}var r,i=[];f&&i.push(function(t){r=f(t)}),i.length?i.push(function(t){a(),t(!0)}):a(),p&&i.push(function(t){r=p(t)});var o=!1,u=new n({end:function(){o||((r||R)(void 0),e(void 0))},cancel:function(){o||((r||R)(!0),e(!0))}});return n.chain(i,e),u}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){return t(e.element,e.event,e.classes,e.options)}return function(t){if(!t.from||!t.to)return n(t);var r=n(t.from),i=n(t.to);return r||i?{start:function(){function t(){return function(){j(n,function(t){t.end()})}}var n=[];r&&n.push(r.start()),i&&n.push(i.start()),e.all(n,function(t){o.complete(t)});var o=new e({end:t(),cancel:t()});return o}}:void 0}}]}])}(window,window.angular),function(t,e,n){"use strict";function r(t){var n=[];return u(n,e.noop).chars(t),n.join("")}function i(t,n){var r,i={},o=t.split(",");for(r=0;r<o.length;r++)i[n?e.lowercase(o[r]):o[r]]=!0;return i}function o(t,n){function r(t,r,o,a){if(r=e.lowercase(r),S[r])for(;b.last()&&x[b.last()];)i("",b.last());w[r]&&b.last()==r&&i("",r),(a=_[r]||!!a)||b.push(r);var u={};o.replace(h,function(t,e,n,r,i){u[e]=s(n||r||i||"")}),n.start&&n.start(r,u,a)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=b.length-1;0<=o&&b[o]!=r;o--);if(0<=o){for(i=b.length-1;i>=o;i--)n.end&&n.end(b[i]);b.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,a,u,b=[],y=t;for(b.last=function(){return b[b.length-1]};t;){if(u="",a=!0,b.last()&&E[b.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+b.last()+"[^>]*>","i"),function(t,e){return e=e.replace(v,"$1").replace(g,"$1"),n.chars&&n.chars(s(e)),""}),i("",b.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),0<=o&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),a=!1)):m.test(t)?(o=t.match(m))&&(t=t.replace(o[0],""),a=!1):p.test(t)?(o=t.match(f))&&(t=t.substring(o[0].length),o[0].replace(f,i),a=!1):d.test(t)&&((o=t.match(l))?(o[4]&&(t=t.substring(o[0].length),o[0].replace(l,r)),a=!1):(u+="<",t=t.substring(1))),a&&(o=t.indexOf("<"),u+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(s(u)))),t==y)throw c("badparse",t);y=t}i()}function s(t){return t?($.innerHTML=t.replace(/</g,"&lt;"),$.textContent):""}function a(t){return t.replace(/&/g,"&amp;").replace(b,function(t){var e=t.charCodeAt(0);return t=t.charCodeAt(1),"&#"+(1024*(e-55296)+(t-56320)+65536)+";"}).replace(y,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,s){t=e.lowercase(t),!r&&E[t]&&(r=t),r||!0!==C[t]||(i("<"),i(t),e.forEach(o,function(r,o){var s=e.lowercase(o),u="img"===t&&"src"===s||"background"===s;!0!==A[s]||!0===k[s]&&!n(r,u)||(i(" "),i(o),i('="'),i(a(r)),i('"'))}),i(s?"/>":">"))},end:function(t){t=e.lowercase(t),r||!0!==C[t]||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(a(t))}}}var c=e.$$minErr("$sanitize"),l=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,h=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,p=/^<\//,v=/\x3c!--(.*?)--\x3e/g,m=/<!DOCTYPE([^>]*?)>/i,g=/<!\[CDATA\[(.*?)]]\x3e/g,b=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=/([^\#-~| |!])/g,_=i("area,br,col,hr,img,wbr");t=i("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),n=i("rp,rt");var w=e.extend({},n,t),S=e.extend({},t,i("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=e.extend({},n,i("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));t=i("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use");var E=i("script,style"),C=e.extend({},_,S,x,w,t),k=i("background,cite,href,longdesc,src,usemap,xlink:href");t=i("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),n=i("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0);var A=e.extend({},k,n,t),$=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return o(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,i=/^mailto:/i;return function(o,s){function a(t){t&&d.push(r(t))}function u(t,n){d.push("<a "),e.isDefined(s)&&d.push('target="',s,'" '),d.push('href="',t.replace(/"/g,"&quot;"),'">'),a(n),d.push("</a>")}if(!o)return o;for(var c,l,f,h=o,d=[];c=h.match(n);)l=c[0],c[2]||c[4]||(l=(c[3]?"http://":"mailto:")+l),f=c.index,a(h.substr(0,f)),u(l,c[0].replace(i,"")),h=h.substring(f+c[0].length);return a(h),t(d.join(""))}}])}(window,window.angular),function(t,e,n){"use strict";function r(t){return["$animate",function(t){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(e,n,r,o,s){var a,u=n[0],c=r.ngMessage||r.when;r=r.ngMessageExp||r.whenExp;var l=function(t){a=t?i(t)?t:t.split(/[\s,]+/):null,o.reRender()};r?(l(e.$eval(r)),e.$watchCollection(r,l)):l(c);var f,h;o.register(u,h={test:function(t){var e=a;return t=e?i(e)?0<=e.indexOf(t):e.hasOwnProperty(t):void 0},attach:function(){f||s(e,function(e){t.enter(e,null,n),f=e;var r=f.$$attachId=o.getAttachId();f.on("$destroy",function(){f&&f.$$attachId===r&&(o.deregister(u),h.detach())})})},detach:function(){if(f){var e=f;f=null,t.leave(e)}}})}}}]}var i=e.isArray,o=e.forEach,s=e.isString,a=e.element;e.module("ngMessages",[]).directive("ngMessages",["$animate",function(t){function e(t,e){return s(e)&&0===e.length||n(t.$eval(e))}function n(t){return s(t)?t.length:!!t}return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(r,i,s){function a(t,e){for(var n=e,r=[];n&&n!==t;){var i=n.$$ngMessageNode;if(i&&i.length)return d[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}var u=this,c=0,l=0;this.getAttachId=function(){return l++};var f,h,d=this.messages={};this.render=function(a){a=a||{},f=!1,h=a;for(var c=e(i,s.ngMessagesMultiple)||e(i,s.multiple),l=[],d={},p=u.head,v=!1,m=0;null!=p;){m++;var g=p.message,b=!1;v||o(a,function(t,e){!b&&n(t)&&g.test(e)&&!d[e]&&(b=d[e]=!0,g.attach())}),b?v=!c:l.push(g),p=p.next}o(l,function(t){t.detach()}),l.length!==m?t.setClass(r,"ng-active","ng-inactive"):t.setClass(r,"ng-inactive","ng-active")},i.$watchCollection(s.ngMessages||s["for"],u.render),this.reRender=function(){f||(f=!0,i.$evalAsync(function(){f&&h&&u.render(h)}))},this.register=function(t,e){var n=c.toString();d[n]={message:e};var i=r[0],o=d[n];u.head?(i=a(i,t))?(o.next=i.next,i.next=o):(o.next=u.head,u.head=o):u.head=o,t.$$ngMessageNode=n,c++,u.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode;var n=d[e];(t=a(r[0],t))?t.next=n.next:u.head=n.next,delete d[e],u.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,o){var s=o.ngMessagesInclude||o.src;t(s).then(function(t){n(t)(r,function(t){i.after(t),t=a(e[0].createComment(" ngMessagesInclude: "+s+" ")),i.after(t),i.remove()})})}}}]).directive("ngMessage",r("AE")).directive("ngMessageExp",r("A"))}(window,window.angular),function(){"use strict";function t(e,r){function i(t,e){return function(){return t.apply(e,arguments)}}var o;if(r=r||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=r.touchBoundary||10,this.layer=e,this.tapDelay=r.tapDelay||200,this.tapTimeout=r.tapTimeout||700,!t.notNeeded(e)){for(var s=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,u=0,c=s.length;u<c;u++)a[s[u]]=i(a[s[u]],a);n&&(e.addEventListener("mouseover",this.onMouse,!0),e.addEventListener("mousedown",this.onMouse,!0),e.addEventListener("mouseup",this.onMouse,!0)),e.addEventListener("click",this.onClick,!0),e.addEventListener("touchstart",this.onTouchStart,!1),e.addEventListener("touchmove",this.onTouchMove,!1),e.addEventListener("touchend",this.onTouchEnd,!1),e.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(e.removeEventListener=function(t,n,r){var i=Node.prototype.removeEventListener;"click"===t?i.call(e,t,n.hijacked||n,r):i.call(e,t,n,r)},e.addEventListener=function(t,n,r){var i=Node.prototype.addEventListener;"click"===t?i.call(e,t,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),r):i.call(e,t,n,r)}),"function"==typeof e.onclick&&(o=e.onclick,e.addEventListener("click",function(t){o(t)},!1),e.onclick=null)}}var e=navigator.userAgent.indexOf("Windows Phone")>=0,n=navigator.userAgent.indexOf("Android")>0&&!e,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,i=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),o=r&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0;t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},t.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!n;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},t.prototype.sendClick=function(t,e){var n,r;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),r=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,r.screenX,r.screenY,r.clientX,r.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},t.prototype.determineEventType=function(t){return n&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},t.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},t.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},t.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},t.prototype.onTouchStart=function(t){var e,n,o;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],r){if(o=window.getSelection(),o.rangeCount&&!o.isCollapsed)return!0;if(!i){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.preventDefault(),!0},t.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},t.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},t.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},t.prototype.onTouchEnd=function(t){var e,s,a,u,c,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,s=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,o&&(c=t.changedTouches[0],l=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),a=l.tagName.toLowerCase(),"label"===a){if(e=this.findControl(l)){if(this.focus(l),n)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-s>100||r&&window.top!==window&&"input"===a?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),r&&"select"===a||(this.targetElement=null,t.preventDefault()),!1);return!(!r||i||(u=l.fastClickScrollParent,!u||u.fastClickLastScrollTop===u.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},t.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},t.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},t.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},t.prototype.destroy=function(){var t=this.layer;n&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},t.notNeeded=function(t){var e,r,i,o;if("undefined"==typeof window.ontouchstart)return!0;if(r=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!n)return!0;if(e=document.querySelector("meta[name=viewport]")){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(r>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(i=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),i[1]>=10&&i[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(e.content.indexOf("user-scalable=no")!==-1)return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(e.content.indexOf("user-scalable=no")!==-1||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},t.attach=function(e,n){return new t(e,n)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return t}):"undefined"!=typeof module&&module.exports?(module.exports=t.attach,module.exports.FastClick=t):window.FastClick=t}(),!function(t,e){"use strict";function n(t){return/^-?\d+\.?\d*$/.test(t.replace(/["']/g,""))}var r=e.isDefined,i=e.isUndefined,o=e.isNumber,s=e.isObject,a=e.isArray,u=e.extend,c=e.toJson,l=e.fromJson,f=e.module("LocalStorageModule",[]);f.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie={expiry:t,path:e},this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,f,h){var d,p=this,v=p.prefix,m=p.cookie,g=p.notify,b=p.storageType;f?f[0]&&(f=f[0]):f=document,"."!==v.substr(-1)&&(v=v?v+".":"");var y=function(t){return v+t},_=function(){try{var n=b in e&&null!==e[b],r=y("__"+Math.round(1e7*Math.random()));return n&&(d=e[b],d.setItem(r,""),d.removeItem(r)),n}catch(i){return b="cookie",t.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),w=function(e,n){if(i(n)?n=null:(s(n)||a(n)||o(+n||n))&&(n=c(n)),!_||"cookie"===p.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),A(e,n);try{(s(n)||a(n))&&(n=c(n)),d&&d.setItem(y(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:p.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),A(e,n)}return!0},S=function(e){if(!_||"cookie"===p.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),$(e);var r=d?d.getItem(y(e)):null;return r&&"null"!==r?"{"===r.charAt(0)||"["===r.charAt(0)||n(r)?l(r):r:null},x=function(e){if(!_||"cookie"===p.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:"cookie"}),T(e);try{d.removeItem(y(e)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:e,storageType:p.storageType})}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),T(e)}return!0},E=function(){if(!_)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=v.length,n=[];for(var r in d)if(r.substr(0,e)===v)try{n.push(r.substr(e))}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},C=function(e){e=e||"";var n=v.slice(0,-1),r=new RegExp(n+"."+e);if(!_||"cookie"===p.storageType)return _||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),N();var i=v.length;for(var o in d)if(r.test(o))try{x(o.substr(i))}catch(s){return t.$broadcast("LocalStorageModule.notification.error",s.message),N()}return!0},k=function(){try{return e.navigator.cookieEnabled||"cookie"in f&&(f.cookie.length>0||(f.cookie="test").indexOf.call(f.cookie,"test")>-1)}catch(n){return t.$broadcast("LocalStorageModule.notification.error",n.message),!1}}(),A=function(e,n){if(i(n))return!1;if((a(n)||s(n))&&(n=c(n)),!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var r="",o=new Date,u="";if(null===n?(o.setTime(o.getTime()+-864e5),r="; expires="+o.toGMTString(),n=""):0!==m.expiry&&(o.setTime(o.getTime()+24*m.expiry*60*60*1e3),r="; expires="+o.toGMTString()),e){var l="; path="+m.path;m.domain&&(u="; domain="+m.domain),f.cookie=y(e)+"="+encodeURIComponent(n)+r+l+u}}catch(h){return t.$broadcast("LocalStorageModule.notification.error",h.message),!1}return!0},$=function(e){if(!k)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var n=f.cookie&&f.cookie.split(";")||[],r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(y(e)+"=")){var o=decodeURIComponent(i.substring(v.length+e.length+1,i.length));try{var s=JSON.parse(o);return l(s)}catch(a){return o}}}return null},T=function(t){A(t,null)},N=function(){for(var t=null,e=v.length,n=f.cookie.split(";"),r=0;r<n.length;r++){for(t=n[r];" "===t.charAt(0);)t=t.substring(1,t.length);var i=t.substring(e,t.indexOf("="));T(i)}},O=function(){return b},I=function(t,e,n,i){i=i||e;var o=S(i);return null===o&&r(n)?o=n:s(o)&&s(n)&&(o=u(n,o)),h(e).assign(t,o),t.$watch(e,function(t){w(i,t)},s(t[e]))},M=function(){for(var t=0,n=e[b],r=0;r<n.length;r++)0===n.key(r).indexOf(v)&&t++;return t};return{isSupported:_,getStorageType:O,set:w,add:w,get:S,keys:E,remove:x,clearAll:C,bind:I,deriveKey:y,length:M,cookie:{isSupported:k,set:A,add:A,get:$,remove:T,clearAll:N}}}]})}(window,window.angular),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PouchDB=t()}}(function(){var t;return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";function r(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}e.exports=r},{}],2:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,o=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(o=i))}),t.splice(o,0,r),t}function o(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function s(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(e){}}function a(){var t;try{t=n.storage.debug}catch(e){}return t}function u(){try{return window.localStorage}catch(t){}}n=e.exports=t(3),n.log=o,n.formatArgs=i,n.save=s,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{3:3}],3:[function(t,e,n){function r(){return n.colors[l++%n.colors.length]}function i(t){function e(){}function i(){var t=i,e=+new Date,o=e-(c||e);t.diff=o,t.prev=c,t.curr=e,c=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var s=Array.prototype.slice.call(arguments);s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&(s=["%o"].concat(s));var a=0;s[0]=s[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;a++;var i=n.formatters[r];if("function"==typeof i){var o=s[a];e=i.call(t,o),s.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(s=n.formatArgs.apply(t,s));var u=i.log||n.log||console.log.bind(console);u.apply(t,s)}e.enabled=!1,i.enabled=!0;var o=n.enabled(t)?i:e;return o.namespace=t,o}function o(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;i<r;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function s(){n.enable("")}function a(t){var e,r;for(e=0,r=n.skips.length;e<r;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;e<r;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i,n.coerce=u,n.disable=s,n.enable=o,n.enabled=a,n.humanize=t(9),n.names=[],n.skips=[],n.formatters={};var c,l=0},{9:9}],4:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o);return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),
this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],5:[function(t,e,n){(function(t){"use strict";function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],7:[function(t,e,n){(function(t){t("object"==typeof n?n:this)}).call(this,function(t){var e=Array.prototype.slice,n=Array.prototype.forEach,r=function(t){if("object"!=typeof t)throw t+" is not an object";var i=e.call(arguments,1);return n.call(i,function(e){if(e)for(var n in e)"object"==typeof e[n]&&t[n]?r.call(t,t[n],e[n]):t[n]=e[n]}),t};t.extend=r})},{}],8:[function(t,e,n){"use strict";function r(){}function i(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,t!==r&&u(this,t)}function o(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function s(t,e,n){p(function(){var r;try{r=e(n)}catch(i){return v.reject(t,i)}r===t?v.reject(t,new TypeError("Cannot resolve promise with itself")):v.resolve(t,r)})}function a(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function u(t,e){function n(e){o||(o=!0,v.reject(t,e))}function r(e){o||(o=!0,v.resolve(t,e))}function i(){e(r,n)}var o=!1,s=c(i);"error"===s.status&&n(s.value)}function c(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}function l(t){return t instanceof this?t:v.resolve(new this(r),t)}function f(t){var e=new this(r);return v.reject(e,t)}function h(t){function e(t,e){function r(t){s[e]=t,++a!==i||o||(o=!0,v.resolve(c,s))}n.resolve(t).then(r,function(t){o||(o=!0,v.reject(c,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=new Array(i),a=0,u=-1,c=new this(r);++u<i;)e(t[u],u);return c}function d(t){function e(t){n.resolve(t).then(function(t){o||(o=!0,v.resolve(a,t))},function(t){o||(o=!0,v.reject(a,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var s=-1,a=new this(r);++s<i;)e(t[s]);return a}var p=t(5),v={},m=["REJECTED"],g=["FULFILLED"],b=["PENDING"];e.exports=n=i,i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===m)return this;var n=new this.constructor(r);if(this.state!==b){var i=this.state===g?t:e;s(n,i,this.outcome)}else this.queue.push(new o(n,t,e));return n},o.prototype.callFulfilled=function(t){v.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){v.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},v.resolve=function(t,e){var n=c(a,e);if("error"===n.status)return v.reject(t,n.value);var r=n.value;if(r)u(t,r);else{t.state=g,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t},v.reject=function(t,e){t.state=m,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},n.resolve=l,n.reject=f,n.all=h,n.race=d},{5:5}],9:[function(t,e,n){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function o(t){return s(t,l,"day")||s(t,c,"hour")||s(t,u,"minute")||s(t,a,"second")||t+" ms"}function s(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,f=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e["long"]?o(t):i(t)}},{}],10:[function(t,e,n){"use strict";function r(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return l(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),r=e?t:Object.keys(t),i=-1,o=r.length,s="";if(e)for(;++i<o;)s+=n.toIndexableString(r[i]);else for(;++i<o;){var a=r[i];s+=n.toIndexableString(a)+n.toIndexableString(t[a])}return s}return""}function i(t,e){var n,r=e,i="1"===t[e];if(i)n=0,e++;else{var o="0"===t[e];e++;var s="",a=t.substring(e,e+h),u=parseInt(a,10)+f;for(o&&(u=-u),e+=h;;){var c=t[e];if("\0"===c)break;s+=c,e++}s=s.split("."),n=1===s.length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:e-r}}function o(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===t.length-2){var s=t.pop();i[s]=n}else t.push(n)}}function s(t,e){for(var r=Math.min(t.length,e.length),i=0;i<r;i++){var o=n.collate(t[i],e[i]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function a(t,e){return t===e?0:t>e?1:-1}function u(t,e){for(var r=Object.keys(t),i=Object.keys(e),o=Math.min(r.length,i.length),s=0;s<o;s++){var a=n.collate(r[s],i[s]);if(0!==a)return a;if(a=n.collate(t[r[s]],e[i[s]]),0!==a)return a}return r.length===i.length?0:r.length>i.length?1:-1}function c(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function l(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,i=r?"0":"2",o=(r?-n:n)-f,s=p.padLeft(o.toString(),"0",h);i+=d+s;var a=Math.abs(parseFloat(e[0]));r&&(a=10-a);var u=a.toFixed(20);return u=u.replace(/\.?0+$/,""),i+=d+u}var f=-324,h=3,d="",p=t(11);n.collate=function(t,e){if(t===e)return 0;t=n.normalizeKey(t),e=n.normalizeKey(e);var r=c(t),i=c(e);if(r-i!==0)return r-i;if(null===t)return 0;switch(typeof t){case"number":return t-e;case"boolean":return t===e?0:t<e?-1:1;case"string":return a(t,e)}return Array.isArray(t)?s(t,e):u(t,e)},n.normalizeKey=function(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-(1/0)||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var r=t.length;t=new Array(r);for(var i=0;i<r;i++)t[i]=n.normalizeKey(e[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];"undefined"!=typeof s&&(t[o]=n.normalizeKey(s))}}}}return t},n.toIndexableString=function(t){var e="\0";return t=n.normalizeKey(t),c(t)+d+r(t)+e},n.parseIndexableString=function(t){for(var e=[],n=[],r=0;;){var s=t[r++];if("\0"!==s)switch(s){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var a=i(t,r);e.push(a.num),r+=a.length;break;case"4":for(var u="";;){var c=t[r];if("\0"===c)break;u+=c,r++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(u);break;case"5":var l={element:[],index:e.length};e.push(l.element),n.push(l);break;case"6":var f={element:{},index:e.length};e.push(f.element),n.push(f);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+s)}else{if(1===e.length)return e.pop();o(e,n)}}}},{11:11}],11:[function(t,e,n){"use strict";function r(t,e,n){for(var r="",i=n-t.length;r.length<i;)r+=e;return r}n.padLeft=function(t,e,n){var i=r(t,e,n);return i+t},n.padRight=function(t,e,n){var i=r(t,e,n);return t+i},n.stringLexCompare=function(t,e){var n,r=t.length,i=e.length;for(n=0;n<r;n++){if(n===i)return 1;var o=t.charAt(n),s=e.charAt(n);if(o!==s)return o<s?-1:1}return r<i?-1:0},n.intToDecimalForm=function(t){var e=t<0,n="";do{var r=e?-Math.ceil(t%10):Math.floor(t%10);n=r+n,t=e?Math.ceil(t/10):Math.floor(t/10)}while(t);return e&&"0"!==n&&(n="-"+n),n}},{}],12:[function(t,e,n){"use strict";function r(){this.store={}}function i(t){if(this.store=new r,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}n.Map=r,n.Set=i,r.prototype.mangle=function(t){if("string"!=typeof t)throw new TypeError("key must be a string but Got "+t);return"$"+t},r.prototype.unmangle=function(t){return t.substring(1)},r.prototype.get=function(t){var e=this.mangle(t);if(e in this.store)return this.store[e]},r.prototype.set=function(t,e){var n=this.mangle(t);return this.store[n]=e,!0},r.prototype.has=function(t){var e=this.mangle(t);return e in this.store},r.prototype["delete"]=function(t){var e=this.mangle(t);return e in this.store&&(delete this.store[e],!0)},r.prototype.forEach=function(t){for(var e=Object.keys(this.store),n=0,r=e.length;n<r;n++){var i=e[n],o=this.store[i];i=this.unmangle(i),t(o,i)}},i.prototype.add=function(t){return this.store.set(t,!0)},i.prototype.has=function(t){return this.store.has(t)},i.prototype["delete"]=function(t){return this.store["delete"](t)}},{}],13:[function(t,e,n){function r(){l=!1,a.length?c=a.concat(c):f=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(a=c,c=[];++f<e;)a&&a[f].run();f=-1,e=c.length}a=null,l=!1,clearTimeout(t)}}function o(t,e){this.fun=t,this.array=e}function s(){}var a,u=e.exports={},c=[],l=!1,f=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new o(t,e)),1!==c.length||l||setTimeout(i,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=s,u.addListener=s,u.once=s,u.off=s,u.removeListener=s,u.removeAllListeners=s,u.emit=s,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],14:[function(t,e,n){(function(){var t={}.hasOwnProperty,n=[].slice;e.exports=function(e,r){var i,o,s,a;o=[],a=[];for(i in r)t.call(r,i)&&(s=r[i],"this"!==i&&(o.push(i),a.push(s)));return Function.apply(null,n.call(o).concat([e])).apply(r["this"],a)}}).call(this)},{}],15:[function(e,n,r){!function(e){if("object"==typeof r)n.exports=e();else if("function"==typeof t&&t.amd)t(e);else{var i;try{i=window}catch(o){i=self}i.SparkMD5=e()}}(function(t){"use strict";function e(t,e,n,r,i,o){return e=y(y(e,t),y(r,o)),y(e<<i|e>>>32-i,n)}function n(t,n,r,i,o,s,a){return e(n&r|~n&i,t,n,o,s,a)}function r(t,n,r,i,o,s,a){return e(n&i|r&~i,t,n,o,s,a)}function i(t,n,r,i,o,s,a){return e(n^r^i,t,n,o,s,a)}function o(t,n,r,i,o,s,a){return e(r^(n|~i),t,n,o,s,a)}function s(t,e){var s=t[0],a=t[1],u=t[2],c=t[3];s=n(s,a,u,c,e[0],7,-680876936),c=n(c,s,a,u,e[1],12,-389564586),u=n(u,c,s,a,e[2],17,606105819),a=n(a,u,c,s,e[3],22,-1044525330),s=n(s,a,u,c,e[4],7,-176418897),c=n(c,s,a,u,e[5],12,1200080426),u=n(u,c,s,a,e[6],17,-1473231341),a=n(a,u,c,s,e[7],22,-45705983),s=n(s,a,u,c,e[8],7,1770035416),c=n(c,s,a,u,e[9],12,-1958414417),u=n(u,c,s,a,e[10],17,-42063),a=n(a,u,c,s,e[11],22,-1990404162),s=n(s,a,u,c,e[12],7,1804603682),c=n(c,s,a,u,e[13],12,-40341101),u=n(u,c,s,a,e[14],17,-1502002290),a=n(a,u,c,s,e[15],22,1236535329),s=r(s,a,u,c,e[1],5,-165796510),c=r(c,s,a,u,e[6],9,-1069501632),u=r(u,c,s,a,e[11],14,643717713),a=r(a,u,c,s,e[0],20,-373897302),s=r(s,a,u,c,e[5],5,-701558691),c=r(c,s,a,u,e[10],9,38016083),u=r(u,c,s,a,e[15],14,-660478335),a=r(a,u,c,s,e[4],20,-405537848),s=r(s,a,u,c,e[9],5,568446438),c=r(c,s,a,u,e[14],9,-1019803690),u=r(u,c,s,a,e[3],14,-187363961),a=r(a,u,c,s,e[8],20,1163531501),s=r(s,a,u,c,e[13],5,-1444681467),c=r(c,s,a,u,e[2],9,-51403784),u=r(u,c,s,a,e[7],14,1735328473),a=r(a,u,c,s,e[12],20,-1926607734),s=i(s,a,u,c,e[5],4,-378558),c=i(c,s,a,u,e[8],11,-2022574463),u=i(u,c,s,a,e[11],16,1839030562),a=i(a,u,c,s,e[14],23,-35309556),s=i(s,a,u,c,e[1],4,-1530992060),c=i(c,s,a,u,e[4],11,1272893353),u=i(u,c,s,a,e[7],16,-155497632),a=i(a,u,c,s,e[10],23,-1094730640),s=i(s,a,u,c,e[13],4,681279174),c=i(c,s,a,u,e[0],11,-358537222),u=i(u,c,s,a,e[3],16,-722521979),a=i(a,u,c,s,e[6],23,76029189),s=i(s,a,u,c,e[9],4,-640364487),c=i(c,s,a,u,e[12],11,-421815835),u=i(u,c,s,a,e[15],16,530742520),a=i(a,u,c,s,e[2],23,-995338651),s=o(s,a,u,c,e[0],6,-198630844),c=o(c,s,a,u,e[7],10,1126891415),u=o(u,c,s,a,e[14],15,-1416354905),a=o(a,u,c,s,e[5],21,-57434055),s=o(s,a,u,c,e[12],6,1700485571),c=o(c,s,a,u,e[3],10,-1894986606),u=o(u,c,s,a,e[10],15,-1051523),a=o(a,u,c,s,e[1],21,-2054922799),s=o(s,a,u,c,e[8],6,1873313359),c=o(c,s,a,u,e[15],10,-30611744),u=o(u,c,s,a,e[6],15,-1560198380),a=o(a,u,c,s,e[13],21,1309151649),s=o(s,a,u,c,e[4],6,-145523070),c=o(c,s,a,u,e[11],10,-1120210379),u=o(u,c,s,a,e[2],15,718787259),a=o(a,u,c,s,e[9],21,-343485551),t[0]=y(s,t[0]),t[1]=y(a,t[1]),t[2]=y(u,t[2]),t[3]=y(c,t[3])}function a(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function u(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function c(t){var e,n,r,i,o,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)s(l,a(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(l,r),e=0;e<16;e+=1)r[e]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),u=parseInt(i[1],16)||0,r[14]=o,r[15]=u,s(l,r),l}function l(t){var e,n,r,i,o,a,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)s(l,u(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(l,r),e=0;e<16;e+=1)r[e]=0;return i=8*c,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),a=parseInt(i[1],16)||0,r[14]=o,r[15]=a,s(l,r),l}function f(t){var e,n="";for(e=0;e<4;e+=1)n+=_[t>>8*e+4&15]+_[t>>8*e&15];return n}function h(t){var e;for(e=0;e<t.length;e+=1)t[e]=f(t[e]);return t.join("")}function d(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function p(t,e){var n,r=t.length,i=new ArrayBuffer(r),o=new Uint8Array(i);for(n=0;n<r;n+=1)o[n]=t.charCodeAt(n);return e?o:i}function v(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function m(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function g(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function b(){this.reset()}var y=function(t,e){return t+e&4294967295},_=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==h(c("hello"))&&(y=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var i,o,s,a,u=this.byteLength,c=e(n,u),l=u;return r!==t&&(l=e(r,u)),c>l?new ArrayBuffer(0):(i=l-c,o=new ArrayBuffer(i),s=new Uint8Array(o),a=new Uint8Array(this,c,i),s.set(a),o)}}(),b.prototype.append=function(t){return this.appendBinary(d(t)),this},b.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)s(this._hash,a(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},b.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(o,i),n=h(this._hash),t&&(n=g(n)),this.reset(),n},b.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},b.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},b.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},b.prototype._finish=function(t,e){var n,r,i,o=e;if(t[o>>2]|=128<<(o%4<<3),o>55)for(s(this._hash,t),o=0;o<16;o+=1)t[o]=0;n=8*this._length,n=n.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(n[2],16),i=parseInt(n[1],16)||0,t[14]=r,t[15]=i,s(this._hash,t)},b.hash=function(t,e){return b.hashBinary(d(t),e)},b.hashBinary=function(t,e){var n=c(t),r=h(n);return e?g(r):r},b.ArrayBuffer=function(){this.reset()},b.ArrayBuffer.prototype.append=function(t){var e,n=m(this._buff.buffer,t,!0),r=n.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)s(this._hash,u(n.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(n.buffer.slice(e-64)):new Uint8Array(0),this},b.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,i=r.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<i;e+=1)o[e>>2]|=r[e]<<(e%4<<3);return this._finish(o,i),n=h(this._hash),t&&(n=g(n)),this.reset(),n},b.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.ArrayBuffer.prototype.getState=function(){var t=b.prototype.getState.call(this);return t.buff=v(t.buff),t},b.ArrayBuffer.prototype.setState=function(t){return t.buff=p(t.buff,!0),b.prototype.setState.call(this,t)},b.ArrayBuffer.prototype.destroy=b.prototype.destroy,b.ArrayBuffer.prototype._finish=b.prototype._finish,b.ArrayBuffer.hash=function(t,e){var n=l(new Uint8Array(t)),r=h(n);return e?g(r):r},b})},{}],16:[function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(t);else if(o===e.length-2){var s=e.pop();i[s]=t}else e.push(t)}n.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,i,o,s,a,u,c,l,f,h,d="";n=e.pop();)if(r=n.obj,i=n.prefix||"",o=n.val||"",d+=i,o)d+=o;else if("object"!=typeof r)d+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)d+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),s=r.length-1;s>=0;s--)a=0===s?"":",",e.push({obj:r[s],prefix:a});e.push({val:"["})}else{u=[];for(c in r)r.hasOwnProperty(c)&&u.push(c);for(e.push({val:"}"}),s=u.length-1;s>=0;s--)l=u[s],f=r[l],h=s>0?",":"",h+=JSON.stringify(l)+":",e.push({obj:f,prefix:h});e.push({val:"{"})}return d},n.parse=function(t){for(var e,n,i,o,s,a,u,c,l,f=[],h=[],d=0;;)if(e=t[d++],"}"!==e&&"]"!==e&&"undefined"!=typeof e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,r(null,f,h);break;case"t":d+=3,r(!0,f,h);break;case"f":d+=4,r(!1,f,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",d--;;){if(i=t[d++],!/[\d\.\-e\+]/.test(i)){d--;break}n+=i}r(parseFloat(n),f,h);break;case'"':for(o="",s=void 0,a=0;;){if(u=t[d++],'"'===u&&("\\"!==s||a%2!==1))break;o+=u,s=u,"\\"===s?a++:a=0}r(JSON.parse('"'+o+'"'),f,h);break;case"[":c={element:[],index:f.length},f.push(c.element),h.push(c);break;case"{":l={element:{},index:f.length},f.push(l.element),h.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===f.length)return f.pop();r(f.pop(),f,h)}}},{}],17:[function(t,e,n){(function(n,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t["default"]:t}function o(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}function s(t){return t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function a(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function u(t){if(t instanceof ArrayBuffer)return a(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function c(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=c(t[n]);return e}if(t instanceof Date)return t.toISOString();if(s(t))return u(t);e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=c(t[n]);"undefined"!=typeof i&&(e[n]=i)}return e}function l(t){var e=!1;return rr(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function f(t){return rr(function(e){e=c(e);var r,i=this,o="function"==typeof e[e.length-1]&&e.pop();o&&(r=function(t,e){n.nextTick(function(){o(t,e)})});var s=new lr(function(n,r){var o;try{var s=l(function(t,e){t?r(t):n(e)});e.push(s),o=t.apply(i,e),o&&"function"==typeof o.then&&n(o)}catch(a){r(a)}});return r&&s.then(function(t){r(null,t)},r),s})}function h(t,e){function n(t,e,n){if(fr.enabled){for(var r=[t._db_name,e],i=0;i<n.length-1;i++)r.push(n[i]);fr.apply(null,r);var o=n[n.length-1];n[n.length-1]=function(n,r){var i=[t._db_name,e];i=i.concat(n?["error",n]:["success",r]),fr.apply(null,i),o(n,r)}}}return f(rr(function(r){if(this._closed)return lr.reject(new Error("database is closed"));if(this._destroyed)return lr.reject(new Error("database is destroyed"));var i=this;return n(i,t,r),this.taskqueue.isReady?e.apply(this,r):new lr(function(e,n){i.taskqueue.addTask(function(o){o?n(o):e(i[t].apply(i,r))})})}))}function d(t,e,n){return new lr(function(r,i){t.get(e,function(o,s){if(o){if(404!==o.status)return i(o);s={}}var a=s._rev,u=n(s);return u?(u._id=e,u._rev=a,void r(p(t,u,n))):r({updated:!1,rev:a})})})}function p(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return d(t,e._id,n)})}function v(t){for(var e,n,r,i,o=t.rev_tree.slice();i=o.pop();){var s=i.ids,a=s[2],u=i.pos;if(a.length)for(var c=0,l=a.length;c<l;c++)o.push({pos:u+1,ids:a[c]});else{var f=!!s[1].deleted,h=s[0];e&&!(r!==f?r:n!==u?n<u:e<h)||(e=h,n=u,r=f)}}return n+"-"+e}function m(t){return t.ids}function g(t,e){e||(e=v(t));for(var n,r=e.substring(e.indexOf("-")+1),i=t.rev_tree.map(m);n=i.pop();){if(n[0]===r)return!!n[1].deleted;i=i.concat(n[2])}}function b(t){return or("return "+t+";",{})}function y(t){return new Function("doc",["var emitted = false;","var emit = function (a, b) {","  emitted = true;","};","var view = "+t+";","view(doc);","if (emitted) {","  return true;","}"].join("\n"))}function _(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function w(t){var e=_(t);return e?e.join("/"):null}function S(t,e){for(var n,r=t.slice();n=r.pop();)for(var i=n.pos,o=n.ids,s=o[2],a=e(0===s.length,i,o[0],n.ctx,o[1]),u=0,c=s.length;u<c;u++)r.push({pos:i+1,ids:s[u],ctx:a})}function x(t,e){return t.pos-e.pos}function E(t){var e=[];S(t,function(t,n,r,i,o){t&&e.push({rev:n+"-"+r,pos:n,opts:o})}),e.sort(x).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function C(t){for(var e=v(t),n=E(t.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev===e||s.opts.deleted||r.push(s.rev)}return r}function k(t){Error.call(this,t.reason),this.status=t.status,this.name=t.error,this.message=t.reason,this.error=!0}function A(t,e,n){function r(e){for(var r in t)"function"!=typeof t[r]&&(this[r]=t[r]);void 0!==n&&(this.name=n),void 0!==e&&(this.reason=e)}return r.prototype=k.prototype,new r(e)}function $(t){var e,n,r,i,o;return n=t.error===!0&&"string"==typeof t.name?t.name:t.error,o=t.reason,r=jr("name",n,o),t.missing||"missing"===o||"deleted"===o||"not_found"===n?r=pr:"doc_validation"===n?(r=Er,i=o):"bad_request"===n&&r.message!==o&&(r=Cr),r||(r=jr("status",t.status,o)||_r),e=A(r,o,n),i&&(e.message=i),t.id&&(e.id=t.id),t.status&&(e.status=t.status),t.missing&&(e.missing=t.missing),e}function T(t,e,n){function r(){i.cancel()}ir.EventEmitter.call(this);var i=this;this.db=t,e=e?c(e):{};var o=e.complete=l(function(e,n){e?i.emit("error",e):i.emit("complete",n),i.removeAllListeners(),t.removeListener("destroyed",r)});n&&(i.on("complete",function(t){n(null,t)}),i.on("error",n)),t.once("destroyed",r),e.onChange=function(t){e.isCancelled||(i.emit("change",t),i.startSeq&&i.startSeq<=t.seq&&(i.startSeq=!1))};var s=new lr(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});i.once("cancel",function(){t.removeListener("destroyed",r),e.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this["catch"]=s["catch"].bind(s),this.then(function(t){o(null,t)},o),t.taskqueue.isReady?i.doChanges(e):t.taskqueue.addTask(function(){i.isCancelled?i.emit("cancel"):i.doChanges(e)})}function N(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=E(e.rev_tree).map(function(t){return{rev:t.rev}}));var i={id:e.id,changes:r,doc:t};return g(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=C(e),i.doc._conflicts.length||delete i.doc._conflicts),i}function O(t,e,n){function r(){var t=[];f.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function i(){++l===c&&r()}function s(t,e,n){f[t]={id:e,docs:n},i()}var a=Array.isArray(e)?e:e.docs,u={};a.forEach(function(t){t.id in u?u[t.id].push(t):u[t.id]=[t]});var c=Object.keys(u).length,l=0,f=new Array(c);Object.keys(u).forEach(function(n,r){var i=u[n],a=o(i[0],["atts_since","attachments"]);a.open_revs=i.map(function(t){return t.rev}),a.open_revs=a.open_revs.filter(function(t){return t});var c=function(t){return t};0===a.open_revs.length&&(delete a.open_revs,c=function(t){return[{ok:t}]}),["revs","attachments","binary"].forEach(function(t){t in e&&(a[t]=e[t])}),t.get(n,a,function(t,e){s(r,n,t?[{error:t}]:c(e))})})}function I(t){return/^_local/.test(t)}function M(t){for(var e,n=[],r=t.slice();e=r.pop();){var i=e.pos,o=e.ids,s=o[0],a=o[1],u=o[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:s,opts:a}),c&&n.push({pos:i+1-l.length,ids:l});for(var f=0,h=u.length;f<h;f++)r.push({pos:i+1,ids:u[f],history:l})}return n.reverse()}function R(t){return 0|Math.random()*t}function D(t,e){e=e||Pr.length;var n="",r=-1;if(t){for(;++r<t;)n+=Pr[R(e)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=Pr[3&R(16)|8];break;default:n+=Pr[R(16)]}return n}function L(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function j(t){var e;if(t?"string"!=typeof t?e=A(mr):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=A(br)):e=A(gr),e)throw e}function P(t){if(!/^\d+\-./.test(t))return A(Ir);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function q(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function B(t,e){var n,r,i,o={status:"available"};if(t._deleted&&(o.deleted=!0),e)if(t._id||(t._id=D()),r=D(32,16).toLowerCase(),t._rev){if(i=P(t._rev),i.error)return i;t._rev_tree=[{pos:i.prefix,ids:[i.id,{status:"missing"},[[r,o,[]]]]}],n=i.prefix+1}else t._rev_tree=[{pos:1,ids:[r,o,[]]}],n=1;else if(t._revisions&&(t._rev_tree=q(t._revisions,o),n=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(i=P(t._rev),i.error)return i;n=i.prefix,r=i.id,t._rev_tree=[{pos:n,ids:[r,o,[]]}]}j(t._id),t._rev=n+"-"+r;var s={metadata:{},data:{}};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){var u="_"===a[0];if(u&&!qr[a]){var c=A(Er,a);throw c.message=Er.message+": "+a,c}u&&!Br[a]?s.metadata[a.slice(1)]=t[a]:s.data[a]=t[a]}return s}function F(t,e){return t<e?-1:t>e?1:0}function U(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n)===!0)return t[n]}function H(t){return function(e,n){e||n[0]&&n[0].error?t(e||n[0]):t(null,n.length?n[0]:n)}}function z(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var s=r[i];n._attachments[s]=o(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function V(t,e){var n=F(t._id,e._id);if(0!==n)return n;var r=t._revisions?t._revisions.start:0,i=e._revisions?e._revisions.start:0;return F(r,i)}function W(t){var e={},n=[];return S(t,function(t,r,i,o){var s=r+"-"+i;return t&&(e[s]=0),void 0!==o&&n.push({from:o,to:s}),s}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function K(t,e,n){var r="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&r.reverse(),
!r.length)return t._allDocs({limit:0},n);var i={offset:e.skip};return lr.all(r.map(function(n){var r=Yn.extend({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete r[t]}),new lr(function(e,o){t._allDocs(r,function(t,r){return t?o(t):(i.total_rows=r.total_rows,void e(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(t){return i.rows=t,i})}function J(t){var e=t._compactionQueue[0],r=e.opts,i=e.callback;t.get("_local/compaction")["catch"](function(){return!1}).then(function(e){e&&e.last_seq&&(r.last_seq=e.last_seq),t._compact(r,function(e,r){e?i(e):i(null,r),n.nextTick(function(){t._compactionQueue.shift(),t._compactionQueue.length&&J(t)})})})}function X(t){return"_"===t.charAt(0)&&t+"is not a valid attachment name, attachment names cannot start with '_'"}function G(t,e,n,r){e.seq=e.seq||0;var i={doc_ids:["_design/"+n],limit:1,since:e.seq};t.changes(i).then(function(t){var n=t.results&&t.results.length&&t.results[0].seq;n&&n>e.seq&&(e.seq=n,delete e.promise),r()})["catch"](r)}function Y(t,e,n){t._ddocCache=t._ddocCache||{},t._ddocCache[e]=t._ddocCache[e]||{};var r=t._ddocCache[e];G(t,r,e,function(i){return i?n(i):(r.promise||(r.promise=new lr(function(n,r){t._get("_design/"+e,{},function(t,e){if(t)return r(t);var i={};["views","filters"].forEach(function(t){i[t]=e.doc[t]}),n(i)})})),void r.promise.then(function(t){n(null,t)})["catch"](n))})}function Q(t,e,n,r,i){Y(t,e,function(t,e){if(t)return i(t);var o=e[n]&&e[n][r];return o?void i(null,o):i(A(pr))})}function Z(){ir.EventEmitter.call(this)}function tt(){this.isReady=!1,this.failed=!1,this.queue=[]}function et(t){t&&r.debug&&console.error(t)}function nt(t,e){function n(){o.emit("destroyed",i)}function r(){t.removeListener("destroyed",n),t.emit("destroyed",t)}var i=e.originalName,o=t.constructor,s=o._destructionListeners;t.once("destroyed",n),s.has(i)||s.set(i,[]),s.get(i).push(r)}function rt(t,e,n){if(!(this instanceof rt))return new rt(t,e,n);var r=this;"function"!=typeof e&&"undefined"!=typeof e||(n=e,e={}),t&&"object"==typeof t&&(e=t,t=void 0),"undefined"==typeof n&&(n=et),t=t||e.name,e=c(e),delete e.name,this.__opts=e;var i=n;r.auto_compaction=e.auto_compaction,r.prefix=rt.prefix,Z.call(r),r.taskqueue=new tt;var o=new lr(function(i,o){n=function(t,e){return t?o(t):(delete e.then,void i(e))},e=c(e);var s,a,u=e.name||t;return function(){try{if("string"!=typeof u)throw a=new Error("Missing/invalid DB name"),a.code=400,a;if(s=rt.parseAdapter(u,e),e.originalName=u,e.name=s.name,e.prefix&&"http"!==s.adapter&&"https"!==s.adapter&&(e.name=e.prefix+e.name),e.adapter=e.adapter||s.adapter,r._adapter=e.adapter,Zn("pouchdb:adapter")("Picked adapter: "+e.adapter),r._db_name=u,!rt.adapters[e.adapter])throw a=new Error("Adapter is missing"),a.code=404,a;if(!rt.adapters[e.adapter].valid())throw a=new Error("Invalid Adapter"),a.code=404,a}catch(t){r.taskqueue.fail(t)}}(),a?o(a):(r.adapter=e.adapter,r.replicate={},r.replicate.from=function(t,e,n){return r.constructor.replicate(t,r,e,n)},r.replicate.to=function(t,e,n){return r.constructor.replicate(r,t,e,n)},r.sync=function(t,e,n){return r.constructor.sync(r,t,e,n)},r.replicate.sync=r.sync,void rt.adapters[e.adapter].call(r,e,function(t){return t?(r.taskqueue.fail(t),void n(t)):(nt(r,e),r.emit("created",r),rt.emit("created",e.originalName),r.taskqueue.ready(r),void n(null,r))}))});o.then(function(t){i(null,t)},i),r.then=o.then.bind(o),r["catch"]=o["catch"].bind(o)}function it(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function ot(){return Fr}function st(t){Object.keys(ir.EventEmitter.prototype).forEach(function(e){"function"==typeof ir.EventEmitter.prototype[e]&&(t[e]=Hr[e].bind(Hr))});var e=t._destructionListeners=new nr.Map;t.on("destroyed",function(t){e.has(t)&&(e.get(t).forEach(function(t){t()}),e["delete"](t))})}function at(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(n){if("TypeError"!==n.name)throw n;for(var r="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new r,o=0;o<t.length;o+=1)i.append(t[o]);return i.getBlob(e.type)}}function ut(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}function ct(){for(var t={},e=new lr(function(e,n){t.resolve=e,t.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.promise=e,lr.resolve().then(function(){return fetch.apply(null,n)}).then(function(e){t.resolve(e)})["catch"](function(e){t.reject(e)}),t}function lt(t,e){var n,r,i,o=new Headers,s={method:t.method,credentials:"include",headers:o};return t.json&&(o.set("Accept","application/json"),o.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.body instanceof Blob?ut(t.body,function(t){s.body=t}):t.body&&t.processData&&"string"!=typeof t.body?s.body=JSON.stringify(t.body):"body"in t?s.body=t.body:s.body=null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&o.set(e,t.headers[e])}),n=ct(t.url,s),t.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),n.promise.then(function(e){return i={statusCode:e.status},t.timeout>0&&clearTimeout(r),i.statusCode>=200&&i.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){i.statusCode>=200&&i.statusCode<300?e(null,i,t):e(t,i)})["catch"](function(t){e(t,i)}),{abort:n.reject}}function ft(t,e){var n,r,i=function(){n.abort()};n=t.xhr?new t.xhr:new XMLHttpRequest;try{n.open(t.method,t.url)}catch(o){e(o,{statusCode:413})}n.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(n.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&n.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(r=setTimeout(i,t.timeout),n.onprogress=function(){clearTimeout(r),r=setTimeout(i,t.timeout)},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=t.binary?at([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,e(null,r,i)}else{var o={};try{o=JSON.parse(n.response)}catch(s){}e(o,r)}}},t.body&&t.body instanceof Blob?ut(t.body,function(t){n.send(t)}):n.send(t.body),{abort:i}}function ht(){try{return new XMLHttpRequest,!0}catch(t){return!1}}function dt(t,e){return zr||t.xhr?ft(t,e):lt(t,e)}function pt(){return""}function vt(t,e){function n(e,n,r){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(i){return r(i)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?$(t):t})),t.binary&&Vr(e,n),r(null,e,n)}function r(t,e){var n,r;if(t.code&&t.status){var i=new Error(t.message||t.code);return i.status=t.status,e(i)}try{n=JSON.parse(t.responseText),r=$(n)}catch(o){r=$(t)}e(r)}t=c(t);var i={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return t=Yn.extend(i,t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),dt(t,function(i,o,s){if(i)return i.status=o?o.statusCode:400,r(i,e);var a,u=o.headers&&o.headers["content-type"],c=s||pt();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof c&&(/json/.test(u)||/^[\s]*\{/.test(c)&&/\}[\s]*$/.test(c)))try{c=JSON.parse(c.toString())}catch(l){}o.statusCode>=200&&o.statusCode<300?n(c,o,e):(a=$(c),a.status=o.statusCode,e(a))})}function mt(t,e){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,i=n.indexOf("msie")!==-1,o=n.indexOf("edge")!==-1,s=r&&"POST"===t.method||(i||o)&&"GET"===t.method,a=!("cache"in t)||t.cache;if(s||!a){var u=t.url.indexOf("?")!==-1;t.url+=(u?"&":"?")+"_nonce="+Date.now()}return vt(t,e)}function gt(t){for(var e=Xr.exec(t),n={},r=14;r--;){var i=Wr[r],o=e[r]||"",s=["user","password"].indexOf(i)!==-1;n[i]=s?decodeURIComponent(o):o}return n[Kr]={},n[Wr[12]].replace(Jr,function(t,e,r){e&&(n[Kr][e]=r)}),n}function bt(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function yt(t,e){return at([bt(t)],{type:e})}function _t(t,e,n){try{return!t(e,n)}catch(r){var i="Filter function threw: "+r.toString();return A(Cr,i)}}function wt(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var i=n&&_t(t.filter,r.doc,e);if("object"==typeof i)return i;if(i)return!1;if(t.include_docs){if(!t.attachments)for(var o in r.doc._attachments)r.doc._attachments.hasOwnProperty(o)&&(r.doc._attachments[o].stub=!0)}else delete r.doc;return!0}}function St(t,e){"console"in r&&"info"in console&&console.info("The above "+t+" is totally normal. "+e)}function xt(t,e,n,r,i){return t.get(e)["catch"](function(n){if(404===n.status)return"http"===t.type()&&St(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:ni,version:ei};throw n}).then(function(o){if(!i.cancelled)return o.history=(o.history||[]).filter(function(t){return t.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,ri),o.version=ei,o.replicator=ni,o.session_id=r,o.last_seq=n,t.put(o)["catch"](function(o){if(409===o.status)return xt(t,e,n,r,i);throw o})})}function Et(t,e,n,r){this.src=t,this.target=e,this.id=n,this.returnValue=r}function Ct(t,e){if(t.session_id===e.session_id)return{last_seq:t.last_seq,history:t.history||[]};var n=t.history||[],r=e.history||[];return kt(n,r)}function kt(t,e){var n=t[0],r=t.slice(1),i=e[0],o=e.slice(1);if(!n||0===e.length)return{last_seq:ii,history:[]};var s=n.session_id;if(At(s,e))return{last_seq:n.last_seq,history:t};var a=i.session_id;return At(a,r)?{last_seq:i.last_seq,history:o}:kt(r,o)}function At(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||At(t,r))}function $t(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function Tt(t,e){t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1;var n=Math.random(),r=e-t;return~~(r*n+t)}function Nt(t){var e=0;return t||(e=2e3),Tt(t,e)}function Ot(t,e,n,r){return t.retry===!1?(e.emit("error",n),void e.removeAllListeners()):("function"!=typeof t.back_off_function&&(t.back_off_function=Nt),e.emit("requestError",n),"active"!==e.state&&"pending"!==e.state||(e.emit("paused",n),e.state="stopped",e.once("active",function(){t.current_back_off=si})),t.current_back_off=t.current_back_off||si,t.current_back_off=t.back_off_function(t.current_back_off),void setTimeout(r,t.current_back_off))}function It(t){return Yr(t)}function Mt(t,e,n,r){(n>0||r<e.byteLength)&&(e=new Uint8Array(e,n,Math.min(r,e.byteLength)-n)),t.append(e)}function Rt(t,e,n,r){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e)}function Dt(t){return Object.keys(t).sort(sr.collate).reduce(function(e,n){return e[n]=t[n],e},{})}function Lt(t,e,n){var r=n.doc_ids?n.doc_ids.sort(sr.collate):"",i=n.filter?n.filter.toString():"",o="",s="";return n.filter&&n.query_params&&(o=JSON.stringify(Dt(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),lr.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+i+s+o+r;return ci(e)}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function jt(t){return/^1-/.test(t)}function Pt(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n].missing;r.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,attachments:!0,binary:!0}}function qt(t,e,n){function r(){var r=Pt(e);if(r.docs.length)return t.bulkGet(r).then(function(t){if(n.cancelled)throw new Error("cancelled");t.results.forEach(function(t){t.docs.forEach(function(t){t.ok&&u.push(t.ok)})})})}function i(t){return t._attachments&&Object.keys(t._attachments).length>0}function o(r){return t.allDocs({keys:r,include_docs:!0}).then(function(t){if(n.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){!t.deleted&&t.doc&&jt(t.value.rev)&&!i(t.doc)&&(u.push(t.doc),delete e[t.id])})})}function s(){var t=Object.keys(e).filter(function(t){var n=e[t].missing;return 1===n.length&&jt(n[0])});if(t.length>0)return o(t)}function a(){return u}e=c(e);var u=[];return lr.resolve().then(s).then(r).then(a)}function Bt(t,e,n,r,i){function o(){return x?lr.resolve():Lt(t,e,n).then(function(n){S=n,x=new Et(t,e,S,r)})}function s(){if(j=[],0!==w.docs.length){var t=w.docs;return e.bulkDocs({docs:t,new_edits:!1}).then(function(e){if(r.cancelled)throw p(),new Error("cancelled");var n=[],o={};e.forEach(function(t){t.error&&(i.doc_write_failures++,n.push(t),o[t.id]=t)}),L=L.concat(n),i.docs_written+=w.docs.length-n.length;var s=n.filter(function(t){return"unauthorized"!==t.name&&"forbidden"!==t.name});if(t.forEach(function(t){var e=o[t._id];e?r.emit("denied",c(e)):j.push(t)}),s.length>0){var a=new Error("bulkDocs error");throw a.other_errors=n,d("target.bulkDocs failed to write docs",a),new Error("bulkWrite partial failure")}},function(e){throw i.doc_write_failures+=t.length,e})}}function a(){i.last_seq=T=w.seq;var t=c(i);return j.length&&(t.docs=j,r.emit("change",t)),k=!0,x.writeCheckpoint(w.seq,P).then(function(){if(k=!1,r.cancelled)throw p(),new Error("cancelled");w=void 0,b()})["catch"](function(t){throw k=!1,d("writeCheckpoint completed with error",t),t})}function u(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw p(),new Error("cancelled");w.diffs=t})}function l(){return qt(t,w.diffs,r).then(function(t){t.forEach(function(t){delete w.diffs[t._id],i.docs_read++,w.docs.push(t)})})}function f(){if(!r.cancelled&&!w){if(0===E.length)return void h(!0);w=E.shift(),u().then(l).then(s).then(a).then(f)["catch"](function(t){d("batch processing terminated with error",t)})}}function h(t){return 0===C.changes.length?void(0!==E.length||w||((N&&q.live||A)&&(r.state="pending",r.emit("paused")),A&&p())):void((t||A||C.changes.length>=O)&&(E.push(C),C={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),f()))}function d(t,e){$||(e.message||(e.message=t),i.ok=!1,i.status="aborting",i.errors.push(e),L=L.concat(e),E=[],C={seq:0,changes:[],docs:[]},p())}function p(){if(!($||r.cancelled&&(i.status="cancelled",k))){i.status=i.status||"complete",i.end_time=new Date,i.last_seq=T,$=!0;var o=L.filter(function(t){return"unauthorized"!==t.name&&"forbidden"!==t.name});if(o.length>0){var s=L.pop();L.length>0&&(s.other_errors=L),s.result=i,Ot(n,r,s,function(){Bt(t,e,n,r)})}else i.errors=L,r.emit("complete",i),r.removeAllListeners()}}function v(t){if(r.cancelled)return p();var e=wt(n)(t);e&&(C.seq=t.seq,C.changes.push(t),h(q.live))}function m(t){return M=!1,r.cancelled?p():(t.results.length>0?(q.since=t.last_seq,b()):N?(q.live=!0,b()):A=!0,void h(!0))}function g(t){return M=!1,r.cancelled?p():void d("changes rejected",t)}function b(){function e(){o.cancel()}function i(){r.removeListener("cancel",e)}if(!M&&!A&&E.length<I){M=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",e);var o=t.changes(q).on("change",v);o.then(i,i),o.then(m)["catch"](g),n.retry&&(r._changes=o,r._abortChanges=e)}}function y(){o().then(function(){return r.cancelled?void p():x.getCheckpoint().then(function(t){T=t,q={since:T,limit:O,batch_size:O,style:"all_docs",doc_ids:R,return_docs:!0},n.filter&&("string"!=typeof n.filter?q.include_docs=!0:q.filter=n.filter),"heartbeat"in n&&(q.heartbeat=n.heartbeat),"timeout"in n&&(q.timeout=n.timeout),n.query_params&&(q.query_params=n.query_params),n.view&&(q.view=n.view),b()})})["catch"](function(t){d("getCheckpoint rejected with ",t)})}function _(t){throw k=!1,d("writeCheckpoint completed with error",t),t}var w,S,x,E=[],C={seq:0,changes:[],docs:[]},k=!1,A=!1,$=!1,T=0,N=n.continuous||n.live||!1,O=n.batch_size||100,I=n.batches_limit||10,M=!1,R=n.doc_ids,L=[],j=[],P=D();i=i||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var q={};return r.ready(t,e),r.cancelled?void p():(r._addedListeners||(r.once("cancel",p),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void("undefined"==typeof n.since?y():o().then(function(){return k=!0,x.writeCheckpoint(n.since,P)}).then(function(){return k=!1,r.cancelled?void p():(T=n.since,void y())})["catch"](_)))}function Ft(){ir.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new lr(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t["catch"]=function(t){return e["catch"](t)},t["catch"](function(){})}function Ut(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function Ht(t,e,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw A(Cr,"`doc_ids` filter parameter is not a list.");n.complete=r,n=c(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var i=new Ft(n),o=Ut(t,n),s=Ut(e,n);return Bt(o,s,n,i),i}function zt(t,e,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=c(n),n.PouchConstructor=n.PouchConstructor||this,t=li.toPouch(t,n),e=li.toPouch(e,n),new Vt(t,e,n,r)}function Vt(t,e,n,r){function i(t){d.emit("change",{direction:"pull",change:t})}function o(t){d.emit("change",{direction:"push",change:t})}function s(t){d.emit("denied",{direction:"push",doc:t})}function a(t){d.emit("denied",{direction:"pull",doc:t})}function u(){d.pushPaused=!0,d.pullPaused&&d.emit("paused")}function c(){d.pullPaused=!0,d.pushPaused&&d.emit("paused")}function l(){d.pushPaused=!1,d.pullPaused&&d.emit("active",{direction:"push"})}function f(){d.pullPaused=!1,d.pushPaused&&d.emit("active",{direction:"pull"})}function h(t){return function(e,n){var r="change"===e&&(n===i||n===o),h="denied"===e&&(n===a||n===s),p="paused"===e&&(n===c||n===u),v="active"===e&&(n===f||n===l);(r||h||p||v)&&(e in m||(m[e]={}),m[e][t]=!0,2===Object.keys(m[e]).length&&d.removeAllListeners(e))}}var d=this;this.canceled=!1;var p=n.push?Yn.extend({},n,n.push):n,v=n.pull?Yn.extend({},n,n.pull):n;this.push=fi(t,e,p),this.pull=fi(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var m={};n.live&&(this.push.on("complete",d.pull.cancel.bind(d.pull)),this.pull.on("complete",d.push.cancel.bind(d.push))),this.on("newListener",function(t){"change"===t?(d.pull.on("change",i),d.push.on("change",o)):"denied"===t?(d.pull.on("denied",a),d.push.on("denied",s)):"active"===t?(d.pull.on("active",f),d.push.on("active",l)):"paused"===t&&(d.pull.on("paused",c),d.push.on("paused",u))}),this.on("removeListener",function(t){"change"===t?(d.pull.removeListener("change",i),d.push.removeListener("change",o)):"denied"===t?(d.pull.removeListener("denied",a),d.push.removeListener("denied",s)):"active"===t?(d.pull.removeListener("active",f),d.push.removeListener("active",l)):"paused"===t&&(d.pull.removeListener("paused",c),d.push.removeListener("paused",u))}),this.pull.on("removeListener",h("pull")),this.push.on("removeListener",h("push"));var g=lr.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return d.emit("complete",e),r&&r(null,e),d.removeAllListeners(),e},function(t){if(d.cancel(),r?r(t):d.emit("error",t),d.removeAllListeners(),r)throw t});this.then=function(t,e){return g.then(t,e)},this["catch"]=function(t){return g["catch"](t)}}function Wt(t,e){return yt(Gr(t),e)}function Kt(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}function Jt(t,e){if("undefined"==typeof FileReader)return e(Kt((new FileReaderSync).readAsArrayBuffer(t)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";return r?e(n):void e(Kt(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Xt(t){return new lr(function(e){Jt(t,function(t){e(Yr(t))})})}function Gt(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function Yt(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];n.data=Wt(n.data,n.content_type)})}function Qt(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function Zt(t){return t._attachments&&Object.keys(t._attachments)?lr.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return Xt(n.data).then(function(t){n.data=t})})):lr.resolve()}function te(t){var e=gt(t);(e.user||e.password)&&(e.auth={username:e.user,password:e.password});var n=e.path.replace(/(^\/|\/$)/g,"").split("/");return e.db=n.pop(),e.db.indexOf("%")===-1&&(e.db=encodeURIComponent(e.db)),e.path=n.join("/"),e}function ee(t,e){return ne(t,t.db+"/"+e)}function ne(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function re(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function ie(t,e){function n(t,e,n){var r=t.ajax||{},i=Yn.extend(c(p),r,e);return mi(i.method+" "+i.url),Zr.ajax(i,n)}function r(t,e){return new lr(function(r,i){n(t,e,function(t,e){return t?i(t):void r(e)})})}function i(t,e){return h(t,rr(function(t){s().then(function(){return e.apply(this,t)})["catch"](function(e){var n=t.pop();n(e)})}))}function s(){if(t.skipSetup||t.skip_setup)return lr.resolve();if(b)return b;var e={method:"GET",url:d};return b=r({},e)["catch"](function(t){return t&&t.status&&404===t.status?(St(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:d})):lr.reject(t)})["catch"](function(t){return!(!t||!t.status||412!==t.status)||lr.reject(t)}),b["catch"](function(){b=null}),b}function a(t){return t.split("/").map(encodeURIComponent).join("/")}var u=this,l=te;t.getHost&&(l=t.getHost);var f=l(t.name,t),d=ee(f,"");t=c(t);var p=t.ajax||{};if(u.getUrl=function(){return d},u.getHeaders=function(){return p.headers||{}},t.auth||f.auth){var v=t.auth||f.auth,m=v.username+":"+v.password,g=Yr(unescape(encodeURIComponent(m)));p.headers=p.headers||{},p.headers.Authorization="Basic "+g}var b;setTimeout(function(){e(null,u)}),u.type=function(){return"http"},u.id=i("id",function(t){n({},{method:"GET",url:ne(f,"")},function(e,n){var r=n&&n.uuid?n.uuid+f.db:ee(f,"");t(null,r)})}),u.request=i("request",function(t,e){t.url=ee(f,t.url),n({},t,e)}),u.compact=i("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=c(t),n(t,{url:ee(f,"_compact"),method:"POST"},function(){function n(){u.info(function(r,i){i&&!i.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)})}n()})}),u.bulkGet=h("bulkGet",function(t,e){function r(e){var r={};t.revs&&(r.revs=!0),t.attachments&&(r.attachments=!0),n({},{url:ee(f,"_bulk_get"+re(r)),method:"POST",body:{docs:t.docs}},e)}function i(){function n(t){return function(n,r){u[t]=r.results,++a===i&&e(null,{results:Gt(u)})}}for(var r=di,i=Math.ceil(t.docs.length/r),a=0,u=new Array(i),c=0;c<i;c++){var l=o(t,["revs","attachments"]);l.docs=t.docs.slice(c*r,Math.min(t.docs.length,(c+1)*r)),O(s,l,n(c))}}var s=this,a=ne(f,""),u=pi[a];"boolean"!=typeof u?r(function(t,n){if(t){var r=Math.floor(t.status/100);4===r||5===r?(pi[a]=!1,St(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),i()):e(t)}else pi[a]=!0,e(null,n)}):u?r(e):i()}),u._info=function(t){s().then(function(){n({},{method:"GET",url:ee(f,"")},function(e,n){return e?t(e):(n.host=ee(f,""),void t(null,n))})})["catch"](t)},u.get=i("get",function(t,e,n){function i(t){var n=t._attachments,i=n&&Object.keys(n);if(n&&i.length)return lr.all(i.map(function(i){var o=n[i],s=Qt(t._id)+"/"+a(i)+"?rev="+t._rev;return r(e,{method:"GET",url:ee(f,s),binary:!0}).then(function(t){return e.binary?t:Xt(t)}).then(function(t){delete o.stub,delete o.length,o.data=t})}))}function o(t){return Array.isArray(t)?lr.all(t.map(function(t){if(t.ok)return i(t.ok)})):i(t)}"function"==typeof e&&(n=e,e={}),e=c(e);var s={};e.revs&&(s.revs=!0),e.revs_info&&(s.revs_info=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),s.open_revs=e.open_revs),e.rev&&(s.rev=e.rev),e.conflicts&&(s.conflicts=e.conflicts),t=Qt(t);var u={method:"GET",url:ee(f,t+re(s))};r(e,u).then(function(t){return lr.resolve().then(function(){if(e.attachments)return o(t)}).then(function(){n(null,t)})})["catch"](n)}),u.remove=i("remove",function(t,e,r,i){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof r&&(i=r,r={})):(o=t,"function"==typeof e?(i=e,r={}):(i=r,r=e));var s=o._rev||r.rev;n(r,{method:"DELETE",url:ee(f,Qt(o._id))+"?rev="+s},i)}),u.getAttachment=i("getAttachment",function(t,e,r,i){"function"==typeof r&&(i=r,r={});var o=r.rev?"?rev="+r.rev:"",s=ee(f,Qt(t))+"/"+a(e)+o;n(r,{method:"GET",url:s,binary:!0},i)}),u.removeAttachment=i("removeAttachment",function(t,e,r,i){var o=ee(f,Qt(t)+"/"+a(e))+"?rev="+r;n({},{method:"DELETE",url:o},i)}),u.putAttachment=i("putAttachment",function(t,e,r,i,o,s){"function"==typeof o&&(s=o,o=i,i=r,r=null);var u=Qt(t)+"/"+a(e),c=ee(f,u);if(r&&(c+="?rev="+r),"string"==typeof i){var l;try{l=Gr(i)}catch(h){return s(A(wr,"Attachment is not a valid base64 string"))}i=l?yt(l,o):""}var d={headers:{"Content-Type":o},method:"PUT",url:c,processData:!1,body:i,timeout:p.timeout||6e4};n({},d,s)}),u._bulkDocs=function(t,e,r){t.new_edits=e.new_edits,s().then(function(){return lr.all(t.docs.map(Zt))}).then(function(){n(e,{method:"POST",url:ee(f,"_bulk_docs"),body:t},function(t,e){return t?r(t):(e.forEach(function(t){t.ok=!0}),void r(null,e))})})["catch"](r)},u.allDocs=i("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=c(t);var n,i={},o="GET";t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),t.include_docs&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.key&&(i.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(i.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(i.endkey=JSON.stringify(t.endkey)),"undefined"!=typeof t.inclusive_end&&(i.inclusive_end=!!t.inclusive_end),"undefined"!=typeof t.limit&&(i.limit=t.limit),"undefined"!=typeof t.skip&&(i.skip=t.skip);var s=re(i);if("undefined"!=typeof t.keys){var a="keys="+encodeURIComponent(JSON.stringify(t.keys));a.length+s.length+1<=vi?s+="&"+a:(o="POST",n={keys:t.keys})}r(t,{method:o,url:ee(f,"_all_docs"+s),body:n}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.rows.forEach(Yt),e(null,n)})["catch"](e)}),u._changes=function(t){var e="batch_size"in t?t.batch_size:hi;t=c(t),t.timeout="timeout"in t?t.timeout:"timeout"in p?p.timeout:3e4;var r,i=t.timeout?{timeout:t.timeout-5e3}:{},o="undefined"!=typeof t.limit&&t.limit;r="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var a=o;if(t.style&&(i.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.continuous&&(i.feed="longpoll"),t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),"heartbeat"in t?t.heartbeat&&(i.heartbeat=t.heartbeat):i.heartbeat=1e4,t.filter&&"string"==typeof t.filter&&(i.filter=t.filter,"_view"===t.filter&&t.view&&"string"==typeof t.view&&(i.view=t.view)),t.query_params&&"object"==typeof t.query_params)for(var u in t.query_params)t.query_params.hasOwnProperty(u)&&(i[u]=t.query_params[u]);var l,h="GET";if(t.doc_ids){i.filter="_doc_ids";var d=JSON.stringify(t.doc_ids);d.length<vi?i.doc_ids=d:(h="POST",l={doc_ids:t.doc_ids})}var v,m,g=function(r,u){if(!t.aborted){i.since=r,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),t.descending?o&&(i.limit=a):i.limit=!o||a>e?e:a;var c={method:h,url:ee(f,"_changes"+re(i)),timeout:t.timeout,body:l};m=r,t.aborted||s().then(function(){v=n(t,c,u)})["catch"](u)}},b={results:[]},y=function(n,i){if(!t.aborted){var s=0;if(i&&i.results){s=i.results.length,b.last_seq=i.last_seq;var u={};u.query=t.query_params,i.results=i.results.filter(function(e){a--;var n=wt(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&Yt(e),r&&b.results.push(e),t.onChange(e)),n})}else if(n)return t.aborted=!0,void t.complete(n);i&&i.last_seq&&(m=i.last_seq);var c=o&&a<=0||i&&s<e||t.descending;(!t.continuous||o&&a<=0)&&c?t.complete(null,b):setTimeout(function(){g(m,y)},0)}};return g(t.since||0,y),{cancel:function(){t.aborted=!0,v&&v.abort()}}},u.revsDiff=i("revsDiff",function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,{method:"POST",url:ee(f,"_revs_diff"),body:t},r)}),u._close=function(t){t()},u._destroy=function(e,r){n(e,{url:ee(f,""),method:"DELETE"},function(e,n){return e&&e.status&&404!==e.status?r(e):(u.emit("destroyed"),u.constructor.emit("destroyed",t.name),void r(null,n))})}}function oe(){this.promise=new lr(function(t){t()})}function se(t){return ur.hash(t)}function ae(t){var e=t.db,n=t.viewName,r=t.map,i=t.reduce,o=t.temporary,s=r.toString()+(i&&i.toString())+"undefined";if(!o&&e._cachedViews){var a=e._cachedViews[s];if(a)return lr.resolve(a)}return e.info().then(function(t){function a(t){t.views=t.views||{};var e=n;e.indexOf("/")===-1&&(e=n+"/"+n);var r=t.views[e]=t.views[e]||{};if(!r[u])return r[u]=!0,t}var u=t.db_name+"-mrview-"+(o?"temp":se(s));return d(e,"_local/mrviews",a).then(function(){return e.registerDependentDatabase(u).then(function(t){var n=t.db;n.auto_compaction=!0;var a={name:u,db:n,sourceDB:e,adapter:e.adapter,mapFun:r,reduceFun:i};return a.db.get("_local/lastSeq")["catch"](function(t){if(404!==t.status)throw t}).then(function(t){return a.seq=t?t.seq:0,o||(e._cachedViews=e._cachedViews||{},e._cachedViews[s]=a,a.db.once("destroyed",function(){delete e._cachedViews[s]})),a})})})})}function ue(t,e,n,r,i,o){return or("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:n,log:r,isArray:i,toJSON:o})}function ce(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function le(t){return 1===t.length&&/^1-/.test(t[0].rev)}function fe(t,e){try{t.emit("error",e)}catch(n){console.error("The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),console.error(e)}}function he(t,e,n){try{return{output:e.apply(null,n)}}catch(r){return fe(t,r),{error:r}}}function de(t,e){var n=Ei(t.key,e.key);return 0!==n?n:Ei(t.value,e.value)}function pe(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function ve(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function me(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Wt(n.data,n.content_type)})})}function ge(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&me(e),e}}function be(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new Fe(e)}function ye(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];if("number"!=typeof i){if(!Array.isArray(i))throw be("_sum");e="number"==typeof e?[e]:e;for(var o=0,s=i.length;o<s;o++){var a=i[o];if("number"!=typeof a)throw be("_sum");"undefined"==typeof e[o]?e.push(a):e[o]+=a}}else"number"==typeof e?e+=i:e[0]+=i}return e}function _e(t,e,n,r){var i=e[t];"undefined"!=typeof i&&(r&&(i=encodeURIComponent(JSON.stringify(i))),n.push(t+"="+i))}function we(t){if("undefined"!=typeof t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e;
}}function Se(t){return t.group_level=we(t.group_level),t.limit=we(t.limit),t.skip=we(t.skip),t}function xe(t){if(t){if("number"!=typeof t)return new Be('Invalid value for integer: "'+t+'"');if(t<0)return new Be('Invalid value for positive integer: "'+t+'"')}}function Ee(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if("undefined"!=typeof t[n]&&"undefined"!=typeof t[r]&&Ei(t[n],t[r])>0)throw new Be("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new Be("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new Be("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=xe(t[e]);if(n)throw n})}function Ce(t,e,n){var r,i=[],o="GET";if(_e("reduce",n,i),_e("include_docs",n,i),_e("attachments",n,i),_e("limit",n,i),_e("descending",n,i),_e("group",n,i),_e("group_level",n,i),_e("skip",n,i),_e("stale",n,i),_e("conflicts",n,i),_e("startkey",n,i,!0),_e("start_key",n,i,!0),_e("endkey",n,i,!0),_e("end_key",n,i,!0),_e("inclusive_end",n,i),_e("key",n,i,!0),i=i.join("&"),i=""===i?"":"?"+i,"undefined"!=typeof n.keys){var s=2e3,a="keys="+encodeURIComponent(JSON.stringify(n.keys));a.length+i.length+1<=s?i+=("?"===i[0]?"&":"?")+a:(o="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var u=ce(e);return t.request({method:o,url:"_design/"+u[0]+"/_view/"+u[1]+i,body:r}).then(ge(n))}return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+i,body:r}).then(ge(n))}function ke(t,e,n){return new lr(function(r,i){t._query(e,n,function(t,e){return t?i(t):void r(e)})})}function Ae(t){return new lr(function(e,n){t._viewCleanup(function(t,r){return t?n(t):void e(r)})})}function $e(t){return function(e){if(404===e.status)return t;throw e}}function Te(t,e,n){function r(){return le(l)?lr.resolve(a):e.db.get(s)["catch"]($e(a))}function i(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):lr.resolve({rows:[]})}function o(t,e){for(var n=[],r={},i=0,o=e.rows.length;i<o;i++){var s=e.rows[i],a=s.doc;if(a&&(n.push(a),r[a._id]=!0,a._deleted=!c[a._id],!a._deleted)){var u=c[a._id];"value"in u&&(a.value=u.value)}}var l=Object.keys(c);return l.forEach(function(t){if(!r[t]){var e={_id:t},i=c[t];"value"in i&&(e.value=i.value),n.push(e)}}),t.keys=Ni(l.concat(t.keys)),n.push(t),n}var s="_local/doc_"+t,a={_id:s,keys:[]},u=n[t],c=u.indexableKeysToKeyValues,l=u.changes;return r().then(function(t){return i(t).then(function(e){return o(t,e)})})}function Ne(t,e,n){var r="_local/lastSeq";return t.db.get(r)["catch"]($e({_id:r,seq:0})).then(function(r){var i=Object.keys(e);return lr.all(i.map(function(n){return Te(n,t,e)})).then(function(e){var i=Gt(e);return r.seq=n,i.push(r),t.db.bulkDocs({docs:i})})})}function Oe(t){var e="string"==typeof t?t:t.name,n=Mi[e];return n||(n=Mi[e]=new oe),n}function Ie(t){return Ti(Oe(t),function(){return Me(t)})()}function Me(t){function e(t,e){var n={id:i._id,key:ki(t)};"undefined"!=typeof e&&null!==e&&(n.value=ki(e)),r.push(n)}function n(e,n){return function(){return Ne(t,e,n)}}var r,i,o;if("function"==typeof t.mapFun&&2===t.mapFun.length){var s=t.mapFun;o=function(t){return s(t,e)}}else o=ue(t.mapFun.toString(),e,ye,gi,Array.isArray,JSON.parse);var a=t.seq||0,u=new oe;return new lr(function(e,s){function c(){u.finish().then(function(){t.seq=a,e()})}function l(){function e(t){s(t)}t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:a,limit:Di}).on("complete",function(e){var s=e.results;if(!s.length)return c();for(var f={},h=0,d=s.length;h<d;h++){var p=s[h];if("_"!==p.doc._id[0]){r=[],i=p.doc,i._deleted||he(t.sourceDB,o,[i]),r.sort(de);for(var v,m={},g=0,b=r.length;g<b;g++){var y=r[g],_=[y.key,y.id];0===Ei(y.key,v)&&_.push(g);var w=Ci(_);m[w]=y,v=y.key}f[p.doc._id]={indexableKeysToKeyValues:m,changes:p.changes}}a=p.seq}return u.add(n(f,a)),s.length<Di?c():l()}).on("error",e)}l()})}function Re(t,e,n){0===n.group_level&&delete n.group_level;var r,i=n.group||n.group_level;r=Li[t.reduceFun]?Li[t.reduceFun]:ue(t.reduceFun.toString(),null,ye,gi,Array.isArray,JSON.parse);var o=[],s=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=o[o.length-1],n=i?t.key:null;return i&&Array.isArray(n)&&(n=n.slice(0,s)),e&&0===Ei(e.groupKey,n)?(e.keys.push([t.key,t.id]),void e.values.push(t.value)):void o.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var a=0,u=o.length;a<u;a++){var c=o[a],l=he(t.sourceDB,r,[c.keys,c.values,!1]);if(l.error&&l.error instanceof Fe)throw l.error;e.push({value:l.error?null:l.output,key:c.groupKey})}return{rows:pe(e,n.limit,n.skip)}}function De(t,e){return Ti(Oe(t),function(){return Le(t,e)})()}function Le(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return i=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=Ai(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=o?Re(t,n,e):{total_rows:i,offset:s,rows:n},e.include_docs){var a=Ni(n.map(ve));return t.sourceDB.allDocs({keys:a,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e={};return t.rows.forEach(function(t){t.doc&&(e["$"+t.id]=t.doc)}),n.forEach(function(t){var n=ve(t),r=e["$"+n];r&&(t.doc=r)}),r})}return r}var i,o=t.reduceFun&&e.reduce!==!1,s=e.skip||0;if("undefined"==typeof e.keys||e.keys.length||(e.limit=0,delete e.keys),"undefined"!=typeof e.keys){var a=e.keys,u=a.map(function(t){var e={startkey:Ci([t]),endkey:Ci([t,{}])};return n(e)});return lr.all(u).then(Gt).then(r)}var c={descending:e.descending};if(e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"undefined"!=typeof e.startkey&&(c.startkey=Ci(e.descending?[e.startkey,{}]:[e.startkey])),"undefined"!=typeof e.endkey){var l=e.inclusive_end!==!1;e.descending&&(l=!l),c.endkey=Ci(l?[e.endkey,{}]:[e.endkey])}if("undefined"!=typeof e.key){var f=Ci([e.key]),h=Ci([e.key,{}]);c.descending?(c.endkey=f,c.startkey=h):(c.startkey=f,c.endkey=h)}return o||("number"==typeof e.limit&&(c.limit=e.limit),c.skip=s),n(c).then(r)}function je(t){return t.request({method:"POST",url:"_view_cleanup"})}function Pe(t){return t.get("_local/mrviews").then(function(e){var n={};Object.keys(e.views).forEach(function(t){var e=ce(t),r="_design/"+e[0],i=e[1];n[r]=n[r]||{},n[r][i]=!0});var r={keys:Object.keys(n),include_docs:!0};return t.allDocs(r).then(function(r){var i={};r.rows.forEach(function(t){var r=t.key.substring(8);Object.keys(n[t.key]).forEach(function(n){var o=r+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach(function(t){i[t]=i[t]||a})})});var o=Object.keys(i).filter(function(t){return!i[t]}),s=o.map(function(e){return Ti(Oe(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return lr.all(s).then(function(){return{ok:!0}})})},$e({ok:!0}))}function qe(t,e,r){if("http"===t.type())return Ce(t,e,r);if("function"==typeof t._query)return ke(t,e,r);if("string"!=typeof e){Ee(r,e);var i={db:t,viewName:"temp_view/temp_view",map:e.map,reduce:e.reduce,temporary:!0};return Ri.add(function(){return ae(i).then(function(t){function e(){return t.db.destroy()}return Oi(Ie(t).then(function(){return De(t,r)}),e)})}),Ri.finish()}var o=e,s=ce(o),a=s[0],u=s[1];return t.getView(a,u).then(function(e){Ee(r,e);var i={db:t,viewName:o,map:e.map,reduce:e.reduce};return ae(i).then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&n.nextTick(function(){Ie(t)}),De(t,r)):Ie(t).then(function(){return De(t,r)})})})}function Be(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Be)}catch(e){}}function Fe(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Fe)}catch(e){}}function Ue(t){return Yr(Kt(t))}function He(t,e,n){function r(t){try{return Gr(t)}catch(e){var n=A(wr,"Attachment is not a valid base64 string");return{error:n}}}function i(t,n){if(t.stub)return n();if("string"==typeof t.data){var i=r(t.data);if(i.error)return n(i.error);t.length=i.length,"blob"===e?t.data=yt(i,t.content_type):"base64"===e?t.data=Yr(i):t.data=i,ci(i).then(function(e){t.digest="md5-"+e,n()})}else ut(t.data,function(r){"binary"===e?t.data=Kt(r):"base64"===e&&(t.data=Ue(r)),ci(r).then(function(e){t.digest="md5-"+e,t.length=r.byteLength,n()})})}function o(){a++,t.length===a&&(s?n(s):n())}if(!t.length)return n();var s,a=0;t.forEach(function(t){function e(t){s=t,r++,r===n.length&&o()}var n=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],r=0;if(!n.length)return o();for(var a in t.data._attachments)t.data._attachments.hasOwnProperty(a)&&i(t.data._attachments[a],e)})}function ze(t,e){return t.pos-e.pos}function Ve(t,e,n){for(var r,i=0,o=t.length;i<o;)r=i+o>>>1,n(t[r],e)<0?i=r+1:o=r;return i}function We(t,e,n){var r=Ve(t,e,n);t.splice(r,0,e)}function Ke(t,e){for(var n,r,i=e,o=t.length;i<o;i++){var s=t[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function Je(t,e){return t[0]<e[0]?-1:1}function Xe(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===s[2][a][0]&&(n.push({tree1:o[2][c],tree2:s[2][a]}),u=!0);u||(r="new_branch",We(o[2],s[2][a],Je))}else r="new_leaf",o[2][0]=s[2][a]}return{conflicts:r,tree:t}}function Ge(t,e,n){var r,i=[],o=!1,s=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,u=t.length;a<u;a++){var c=t[a];if(c.pos===e.pos&&c.ids[0]===e.ids[0])r=Xe(c.ids,e.ids),i.push({pos:c.pos,ids:r.tree}),o=o||r.conflicts,s=!0;else if(n!==!0){var l=c.pos<e.pos?c:e,f=c.pos<e.pos?e:c,h=f.pos-l.pos,d=[],p=[];for(p.push({ids:l.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var v=p.pop();if(0!==v.diff)for(var m=v.ids[2],g=0,b=m.length;g<b;g++)p.push({ids:m[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===f.ids[0]&&d.push(v)}var y=d[0];y?(r=Xe(y.ids,f.ids),y.parent[2][y.parentIdx]=r.tree,i.push({pos:l.pos,ids:l.ids}),o=o||r.conflicts,s=!0):i.push(c)}else i.push(c)}return s||i.push(e),i.sort(ze),{tree:i,conflicts:o||"internal_node"}}function Ye(t,e){for(var n,r=M(t),i={},o=0,s=r.length;o<s;o++){for(var a=r[o],u=a.ids,c=Math.max(0,u.length-e),l={pos:a.pos+c,ids:Ke(u,c)},f=0;f<c;f++){var h=a.pos+f+"-"+u[f].id;i[h]=!0}n=n?Ge(n,l,!0).tree:[l]}return S(n,function(t,e,n){delete i[e+"-"+n]}),{tree:n,revs:Object.keys(i)}}function Qe(t,e,n){var r=Ge(t,e),i=Ye(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function Ze(t,e){for(var n,r=t.slice(),i=e.split("-"),o=parseInt(i[0],10),s=i[1];n=r.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],u=0,c=a.length;u<c;u++)r.push({pos:n.pos+1,ids:a[u]})}return!1}function tn(t,e,n,r,i,o,s,a){if(Ze(e.rev_tree,n.metadata.rev))return r[i]=n,o();var u=e.winningRev||v(e),c="deleted"in e?e.deleted:g(e,u),l="deleted"in n.metadata?n.metadata.deleted:g(n.metadata),f=/^1-/.test(n.metadata.rev);if(c&&!l&&a&&f){var h=n.data;h._rev=u,h._id=n.metadata.id,n=B(h,a)}var d=Qe(e.rev_tree,n.metadata.rev_tree[0],t),p=a&&(c&&l||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts);if(p){var m=A(vr);return r[i]=m,o()}var b=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var y,_=v(n.metadata),w=g(n.metadata,_),S=c===w?0:c<w?-1:1;y=b===_?w:g(n.metadata,b),s(n,_,w,y,!0,S,i,o)}function en(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function nn(t,e,n,r,i,o,s,a,u){function c(t,e,n){var r=v(t.metadata),i=g(t.metadata,r);if("was_delete"in a&&i)return o[e]=A(pr,"deleted"),n();var u=f&&en(t);if(u){var c=A(vr);return o[e]=c,n()}var l=i?0:1;s(t,r,i,i,!1,l,e,n)}function l(){++d===p&&u&&u()}t=t||1e3;var f=a.new_edits,h=new nr.Map,d=0,p=e.length;e.forEach(function(t,e){if(t._id&&I(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";return void n[r](t,{ctx:i},function(t,n){o[e]=t||n,l()})}var s=t.metadata.id;h.has(s)?(p--,h.get(s).push([t,e])):h.set(s,[[t,e]])}),h.forEach(function(e,n){function i(){++u<e.length?a():l()}function a(){var a=e[u],l=a[0],h=a[1];if(r.has(n))tn(t,r.get(n),l,o,h,i,s,f);else{var d=Qe([],l.metadata.rev_tree[0],t);l.metadata.rev_tree=d.tree,l.stemmedRevs=d.stemmedRevs||[],c(l,h,i)}}var u=0;a()})}function rn(t){var e=[];return S(t.rev_tree,function(t,n,r,i,o){"available"!==o.status||t||(e.push(n+"-"+r),o.status="missing")}),e}function on(t){try{return JSON.parse(t)}catch(e){return cr.parse(t)}}function sn(t){return t.length<5e4?JSON.parse(t):on(t)}function an(t){try{return JSON.stringify(t)}catch(e){return cr.stringify(t)}}function un(t,e,n,r){try{t.apply(e,n)}catch(i){r.emit("error",i)}}function cn(t){if(!Ji.running&&Ji.queue.length){Ji.running=!0;var e=Ji.queue.shift();e.action(function(r,i){un(e.callback,this,[r,i],t),Ji.running=!1,n.nextTick(function(){cn(t)})})}}function ln(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(A($r,n,e.type))}}function fn(t,e,n){return{data:an(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function hn(t){if(!t)return null;var e=sn(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function dn(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function pn(t,e,n,r){n?r(t?"string"!=typeof t?t:Wt(t,e):at([""],{type:e})):t?"string"!=typeof t?Jt(t,function(t){r(Yr(t))}):r(t):r("")}function vn(t,e,n,r){function i(){++a===s.length&&r&&r()}function o(t,e){var r=t._attachments[e],o=r.digest,s=n.objectStore(Hi).get(o);s.onsuccess=function(t){r.body=t.target.result.body,i()}}var s=Object.keys(t._attachments||{});if(!s.length)return r&&r();var a=0;s.forEach(function(n){e.attachments&&e.include_docs?o(t,n):(t._attachments[n].stub=!0,i())})}function mn(t,e){return lr.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return lr.all(n.map(function(n){var r=t.doc._attachments[n];if("body"in r){var i=r.body,s=r.content_type;return new lr(function(a){pn(i,s,e,function(e){t.doc._attachments[n]=Yn.extend(o(r,["digest","content_type"]),{data:e}),a()})})}}))}}))}function gn(t,e,n){function r(){c--,c||i()}function i(){o.length&&o.forEach(function(t){var e=u.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::￿",!1,!1));e.onsuccess=function(e){var n=e.target.result;n||a["delete"](t)}})}var o=[],s=n.objectStore(Ui),a=n.objectStore(Hi),u=n.objectStore(zi),c=t.length;t.forEach(function(t){var n=s.index("_doc_id_rev"),i=e+"::"+t;n.getKey(i).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return r();s["delete"](e);var n=u.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];o.push(n),u["delete"](e.primaryKey),e["continue"]()}else r()}}})}function bn(t,e,n){try{return{txn:t.transaction(e,n)}}catch(r){return{error:r}}}function yn(t,e,n,r,i,o,s){function a(){var t=[Fi,Ui,Hi,Wi,zi],e=bn(i,t,"readwrite");return e.error?s(e.error):(y=e.txn,y.onabort=ln(s),y.ontimeout=ln(s),y.oncomplete=l,_=y.objectStore(Fi),w=y.objectStore(Ui),S=y.objectStore(Hi),x=y.objectStore(zi),void h(function(t){return t?(R=!0,s(t)):void c()}))}function u(){nn(t.revs_limit,C,r,M,y,O,d,n)}function c(){function t(){++n===C.length&&u()}function e(e){var n=hn(e.target.result);n&&M.set(n.id,n),t()}if(C.length)for(var n=0,r=0,i=C.length;r<i;r++){var o=C[r];if(o._id&&I(o._id))t();else{var s=_.get(o.metadata.id);s.onsuccess=e}}}function l(){R||(o.notify(r._meta.name),r._meta.docCount+=k,s(null,O))}function f(t,e){var n=S.get(t);n.onsuccess=function(n){if(n.target.result)e();else{var r=A(Rr,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}function h(t){function e(){++i===n.length&&t(r)}var n=[];if(C.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,i=0;n.forEach(function(t){f(t,function(t){t&&!r&&(r=t),e()})})}function d(t,e,n,r,i,o,s,a){k+=o,t.metadata.winningRev=e,t.metadata.deleted=n;var u=t.data;u._id=t.metadata.id,u._rev=t.metadata.rev,r&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;return c?m(t,e,n,i,s,a):void v(t,e,n,i,s,a)}function p(t){var e=rn(t.metadata);gn(e,t.metadata.id,y)}function v(t,e,n,i,o,s){function a(o){i&&r.auto_compaction?p(t):t.stemmedRevs.length&&gn(t.stemmedRevs,t.metadata.id,y),f.seq=o.target.result,delete f.rev;var s=fn(f,e,n),a=_.put(s);a.onsuccess=c}function u(t){t.preventDefault(),t.stopPropagation();var e=w.index("_doc_id_rev"),n=e.getKey(l._doc_id_rev);n.onsuccess=function(t){var e=w.put(l,t.target.result);e.onsuccess=a}}function c(){O[o]={ok:!0,id:f.id,rev:e},M.set(t.metadata.id,t.metadata),g(t,f.seq,s)}var l=t.data,f=t.metadata;l._doc_id_rev=f.id+"::"+f.rev,delete l._id,delete l._rev;var h=w.put(l);h.onsuccess=a,h.onerror=u}function m(t,e,n,r,i,o){function s(){c===l.length&&v(t,e,n,r,i,o)}function a(){c++,s()}var u=t.data,c=0,l=Object.keys(u._attachments);l.forEach(function(e){var n=t.data._attachments[e];if(n.stub)c++,s();else{var r=n.data;delete n.data;var i=n.digest;b(i,r,a)}})}function g(t,e,n){function r(){++o===s.length&&n()}function i(n){var i=t.data._attachments[n].digest,o=x.put({seq:e,digestSeq:i+"::"+e});o.onsuccess=r,o.onerror=function(t){t.preventDefault(),t.stopPropagation(),r()}}var o=0,s=Object.keys(t.data._attachments||{});if(!s.length)return n();for(var a=0;a<s.length;a++)i(s[a])}function b(t,e,n){var r=S.count(t);r.onsuccess=function(r){var i=r.target.result;if(i)return n();var o={digest:t,body:e},s=S.put(o);s.onsuccess=n}}for(var y,_,w,S,x,E,C=e.docs,k=0,$=0,T=C.length;$<T;$++){var N=C[$];N._id&&I(N._id)||(N=C[$]=B(N,n.new_edits),N.error&&!E&&(E=N))}if(E)return s(E);var O=new Array(C.length),M=new nr.Map,R=!1,D=r._meta.blobSupport?"blob":"base64";He(C,D,function(t){return t?s(t):void a()})}function _n(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function wn(t,e,n,r){return"DataError"===n.name&&0===n.code?r(null,{total_rows:t._meta.docCount,offset:e.skip,rows:[]}):void r(A($r,n.name,n.message))}function Sn(t,e,n,r){function i(t,r){function i(e,n,r){var i=e.id+"::"+r;x.get(i).onsuccess=function(r){n.doc=dn(r.target.result),t.conflicts&&(n.doc._conflicts=C(e)),vn(n.doc,t,y)}}function o(e,n,r){var o={id:r.id,key:r.id,value:{rev:n}},s=r.deleted;if("ok"===t.deleted)E.push(o),s?(o.value.deleted=!0,o.doc=null):t.include_docs&&i(r,o,n);else if(!s&&h--<=0&&(E.push(o),t.include_docs&&i(r,o,n),0===--d))return;e["continue"]()}function s(t){k=e._meta.docCount;var n=t.target.result;if(n){var r=hn(n.value),i=r.winningRev;o(n,i,r)}}function a(){r(null,{total_rows:k,offset:t.skip,rows:E})}function u(){t.attachments?mn(E,t.binary).then(a):a()}var c="startkey"in t&&t.startkey,l="endkey"in t&&t.endkey,f="key"in t&&t.key,h=t.skip||0,d="number"==typeof t.limit?t.limit:-1,p=t.inclusive_end!==!1,v="descending"in t&&t.descending?"prev":null,m=_n(c,l,p,f,v);if(m&&m.error)return wn(e,t,m.error,r);var g=[Fi,Ui];t.attachments&&g.push(Hi);var b=bn(n,g,"readonly");if(b.error)return r(b.error);var y=b.txn,_=y.objectStore(Fi),w=y.objectStore(Ui),S=v?_.openCursor(m,v):_.openCursor(m),x=w.index("_doc_id_rev"),E=[],k=0;y.oncomplete=u,S.onsuccess=s}function o(t,n){return 0===t.limit?n(null,{total_rows:e._meta.docCount,offset:t.skip,rows:[]}):void i(t,n)}o(t,r)}function xn(t){return new lr(function(e){var n=at([""]);t.objectStore(Ki).put(n,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)}})["catch"](function(){return!1})}function En(t){it()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):ot()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function Cn(){ir.EventEmitter.call(this),this._listeners={},En(this)}function kn(t,e){var n=this;Ji.queue.push({action:function(e){An(n,t,e)},callback:e}),cn(n.constructor)}function An(t,e,r){function i(t){var e=t.createObjectStore(Fi,{keyPath:"id"});t.createObjectStore(Ui,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(Hi,{keyPath:"digest"}),t.createObjectStore(Vi,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(Ki),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(Wi,{keyPath:"_id"});var n=t.createObjectStore(zi,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var n=t.objectStore(Fi);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var i=r.value,o=g(i);i.deletedOrLocal=o?"1":"0",n.put(i),r["continue"]()}else e()}}function s(t){t.createObjectStore(Wi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function a(t,e){var n=t.objectStore(Wi),r=t.objectStore(Fi),i=t.objectStore(Ui),o=r.openCursor();o.onsuccess=function(t){var o=t.target.result;if(o){var s=o.value,a=s.id,u=I(a),c=v(s);if(u){var l=a+"::"+c,f=a+"::",h=a+"::~",d=i.index("_doc_id_rev"),p=IDBKeyRange.bound(f,h,!1,!1),m=d.openCursor(p);m.onsuccess=function(t){if(m=t.target.result){var e=m.value;e._doc_id_rev===l&&n.put(e),i["delete"](m.primaryKey),m["continue"]()}else r["delete"](o.primaryKey),o["continue"]()}}else o["continue"]()}else e&&e()}}function u(t){var e=t.createObjectStore(zi,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function l(t,e){var n=t.objectStore(Ui),r=t.objectStore(Hi),i=t.objectStore(zi),o=r.count();o.onsuccess=function(t){var r=t.target.result;return r?void(n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,o=n.primaryKey,s=Object.keys(r._attachments||{}),a={},u=0;u<s.length;u++){var c=r._attachments[s[u]];a[c.digest]=!0}var l=Object.keys(a);for(u=0;u<l.length;u++){var f=l[u];i.put({seq:o,digestSeq:f+"::"+o})}n["continue"]()}):e()}}function h(t){function e(t){return t.data?hn(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(Ui),r=t.objectStore(Fi),i=r.openCursor();i.onsuccess=function(t){function i(){var t=a.id+"::",e=a.id+"::￿",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),i=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return a.seq=i,o();var n=e.primaryKey;n>i&&(i=n),e["continue"]()}}function o(){var t=fn(a,a.winningRev,a.deleted),e=r.put(t);e.onsuccess=function(){s["continue"]()}}var s=t.target.result;if(s){var a=e(s.value);return a.winningRev=a.winningRev||v(a),a.seq?o():void i()}}}var d=e.name,p=null;t._meta=null,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,r,i){yn(e,n,r,t,p,Yi,i)},t._get=function(t,e,n){function r(){n(s,{doc:i,metadata:o,ctx:a})}var i,o,s,a=e.ctx;if(!a){var u=bn(p,[Fi,Ui,Hi],"readonly");if(u.error)return n(u.error);a=u.txn}a.objectStore(Fi).get(t).onsuccess=function(t){if(o=hn(t.target.result),!o)return s=A(pr,"missing"),r();if(g(o)&&!e.rev)return s=A(pr,"deleted"),r();var n=a.objectStore(Ui),u=e.rev||o.winningRev,c=o.id+"::"+u;n.index("_doc_id_rev").get(c).onsuccess=function(t){return i=t.target.result,i&&(i=dn(i)),i?void r():(s=A(pr,"missing"),r())}}},t._getAttachment=function(t,e,n){var r;if(e.ctx)r=e.ctx;else{var i=bn(p,[Fi,Ui,Hi],"readonly");if(i.error)return n(i.error);r=i.txn}var o=t.digest,s=t.content_type;r.objectStore(Hi).get(o).onsuccess=function(t){var r=t.target.result.body;pn(r,s,e.binary,function(t){n(null,t)})}},t._info=function(e){if(null===p||!Gi.has(d)){var n=new Error("db isn't open");return n.id="idbNull",e(n)}var r,i,o=bn(p,[Ui],"readonly");if(o.error)return e(o.error);var s=o.txn,a=s.objectStore(Ui).openCursor(null,"prev");a.onsuccess=function(e){var n=e.target.result;r=n?n.key:0,i=t._meta.docCount},s.oncomplete=function(){e(null,{doc_count:i,update_seq:r,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(e,n){Sn(e,t,p,n)},t._changes=function(e){function n(t){function n(){return c.seq!==s?t["continue"]():(u=s,c.winningRev===o._rev?i(o):void r())}function r(){var t=o._id+"::"+c.winningRev,e=g.get(t);e.onsuccess=function(t){i(dn(t.target.result))}}function i(n){var r=e.processChange(n,c,e);r.seq=c.seq;var i=_(r);return"object"==typeof i?e.complete(i):(i&&(y++,f&&b.push(r),e.attachments&&e.include_docs?vn(n,e,h,function(){mn([r],e.binary).then(function(){e.onChange(r)})}):e.onChange(r)),void(y!==l&&t["continue"]()))}var o=dn(t.value),s=t.key;if(a&&!a.has(o._id))return t["continue"]();var c;return(c=w.get(o._id))?n():void(m.get(o._id).onsuccess=function(t){c=hn(t.target.result),w.set(o._id,c),n()})}function r(t){var e=t.target.result;e&&n(e)}function i(){var t=[Fi,Ui];e.attachments&&t.push(Hi);var n=bn(p,t,"readonly");if(n.error)return e.complete(n.error);h=n.txn,h.onabort=ln(e.complete),h.oncomplete=o,v=h.objectStore(Ui),m=h.objectStore(Fi),g=v.index("_doc_id_rev");var i;i=e.descending?v.openCursor(null,"prev"):v.openCursor(IDBKeyRange.lowerBound(e.since,!0)),i.onsuccess=r}function o(){function t(){e.complete(null,{results:b,last_seq:u})}!e.continuous&&e.attachments?mn(b).then(t):t()}if(e=c(e),e.continuous){var s=d+":"+D();return Yi.addListener(d,s,t,e),Yi.notify(d),{cancel:function(){Yi.removeListener(d,s)}}}var a=e.doc_ids&&new nr.Set(e.doc_ids);e.since=e.since||0;var u=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var f;f="return_docs"in e?e.return_docs:!("returnDocs"in e)||e.returnDocs;var h,v,m,g,b=[],y=0,_=wt(e),w=new nr.Map;i()},t._close=function(t){return null===p?t(A(yr)):(p.close(),Gi["delete"](d),p=null,void t())},t._getRevisionTree=function(t,e){var n=bn(p,[Fi],"readonly");if(n.error)return e(n.error);var r=n.txn,i=r.objectStore(Fi).get(t);i.onsuccess=function(t){var n=hn(t.target.result);n?e(null,n.rev_tree):e(A(pr))}},t._doCompaction=function(t,e,n){var r=[Fi,Ui,Hi,zi],i=bn(p,r,"readwrite");if(i.error)return n(i.error);var o=i.txn,s=o.objectStore(Fi);s.get(t).onsuccess=function(n){var r=hn(n.target.result);S(r.rev_tree,function(t,n,r,i,o){var s=n+"-"+r;e.indexOf(s)!==-1&&(o.status="missing")}),gn(e,t,o);var i=r.winningRev,s=r.deleted;o.objectStore(Fi).put(fn(r,i,s))},o.onabort=ln(n),o.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=bn(p,[Wi],"readonly");if(n.error)return e(n.error);var r=n.txn,i=r.objectStore(Wi).get(t);i.onerror=ln(e),i.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(A(pr))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,i=t._id;r?t._rev="0-"+(parseInt(r.split("-")[1],10)+1):t._rev="0-1";var o,s=e.ctx;if(!s){var a=bn(p,[Wi],"readwrite");if(a.error)return n(a.error);s=a.txn,s.onerror=ln(n),s.oncomplete=function(){o&&n(null,o)}}var u,c=s.objectStore(Wi);r?(u=c.get(i),u.onsuccess=function(i){var s=i.target.result;if(s&&s._rev===r){var a=c.put(t);a.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o)}}else n(A(vr))}):(u=c.add(t),u.onerror=function(t){n(A(vr)),t.preventDefault(),t.stopPropagation()},u.onsuccess=function(){o={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,o)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r=e.ctx;if(!r){var i=bn(p,[Wi],"readwrite");if(i.error)return n(i.error);r=i.txn,r.oncomplete=function(){o&&n(null,o)}}var o,s=t._id,a=r.objectStore(Wi),u=a.get(s);u.onerror=ln(n),u.onsuccess=function(r){var i=r.target.result;i&&i._rev===t._rev?(a["delete"](s),o={ok:!0,id:s,rev:"0-0"},e.ctx&&n(null,o)):n(A(pr))}},t._destroy=function(t,e){Yi.removeAllListeners(d);var n=Qi.get(d);n&&n.result&&(n.result.close(),Gi["delete"](d));var r=indexedDB.deleteDatabase(d);r.onsuccess=function(){Qi["delete"](d),ot()&&d in localStorage&&delete localStorage[d],e(null,{ok:!0})},r.onerror=ln(e)};var m=Gi.get(d);if(m)return p=m.idb,t._meta=m.global,void n.nextTick(function(){r(null,t)});var b;b=e.storage?$n(d,e.storage):indexedDB.open(d,Bi),Qi.set(d,b),b.onupgradeneeded=function(t){function e(){var t=c[f-1];f++,t&&t(r,e)}var n=t.target.result;if(t.oldVersion<1)return i(n);var r=t.currentTarget.transaction;t.oldVersion<3&&s(n),t.oldVersion<4&&u(n);var c=[o,a,l,h],f=t.oldVersion;e()},b.onsuccess=function(e){p=e.target.result,p.onversionchange=function(){p.close(),Gi["delete"](d)},p.onabort=function(t){console.error("Database has a global failure",t.target.error),p.close(),Gi["delete"](d)};var n=p.transaction([Vi,Ki,Fi],"readwrite"),i=n.objectStore(Vi).get(Vi),o=null,s=null,a=null;i.onsuccess=function(e){var i=function(){null!==o&&null!==s&&null!==a&&(t._meta={name:d,instanceId:a,blobSupport:o,docCount:s},Gi.set(d,{idb:p,global:t._meta}),r(null,t))},u=e.target.result||{id:Vi};d+"_id"in u?(a=u[d+"_id"],i()):(a=D(),u[d+"_id"]=a,n.objectStore(Vi).put(u).onsuccess=function(){i()}),Xi||(Xi=xn(n)),Xi.then(function(t){o=t,i()});var c=n.objectStore(Fi).index("deletedOrLocal");c.count(IDBKeyRange.only("0")).onsuccess=function(t){s=t.target.result,i()}}},b.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";console.error(t),r(A($r,t))}}function $n(t,e){try{return indexedDB.open(t,{version:Bi,storage:e})}catch(n){return indexedDB.open(t,Bi)}}function Tn(t){return decodeURIComponent(window.escape(t))}function Nn(t){return t<65?t-48:t-55}function On(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Nn(t.charCodeAt(e++))<<4|Nn(t.charCodeAt(e++)));return r}function In(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Nn(t.charCodeAt(e+2))<<12|Nn(t.charCodeAt(e+3))<<8|Nn(t.charCodeAt(e))<<4|Nn(t.charCodeAt(e+1))),e+=4;return r}function Mn(t,e){return"UTF-8"===e?Tn(On(t,0,t.length)):In(t,0,t.length)}function Rn(t){return"'"+t+"'"}function Dn(){return"undefined"!=typeof sqlitePlugin?sqlitePlugin.openDatabase.bind(sqlitePlugin):"undefined"!=typeof openDatabase?function(t){return openDatabase(t.name,t.version,t.description,t.size)}:void 0}function Ln(){return"undefined"!=typeof openDatabase||"undefined"!=typeof SQLitePlugin}function jn(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Pn(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function qn(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Bn(t,e,n){return t=JSON.parse(t),t._id=e,t._rev=n,t}function Fn(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Un(t,e,n,r,i){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(i?" ORDER BY "+i:"")}function Hn(t,e,n){function r(){++o===t.length&&i()}function i(){if(s.length){var t="SELECT DISTINCT digest AS digest FROM "+oo+" WHERE seq IN "+Fn(s.length);n.executeSql(t,s,function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).digest);if(n.length){var i="DELETE FROM "+oo+" WHERE seq IN ("+s.map(function(){return"?"}).join(",")+")";
t.executeSql(i,s,function(t){var e="SELECT digest FROM "+oo+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";t.executeSql(e,n,function(t,e){for(var r=new nr.Set,i=0;i<e.rows.length;i++)r.add(e.rows.item(i).digest);n.forEach(function(e){r.has(e)||(t.executeSql("DELETE FROM "+oo+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+no+" WHERE digest=?",[e]))})})})}})}}if(t.length){var o=0,s=[];t.forEach(function(t){var i="SELECT seq FROM "+eo+" WHERE doc_id=? AND rev=?";n.executeSql(i,[e,t],function(t,e){if(!e.rows.length)return r();var n=e.rows.item(0).seq;s.push(n),t.executeSql("DELETE FROM "+eo+" WHERE seq=?",[n],r)})})}}function zn(t){return function(e){console.error("WebSQL threw an error",e);var n=e&&e.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||e.type,i=e.target||e.message;t(A(Tr,i,r))}}function Vn(t){if("size"in t)return 1e6*t.size;var e="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return e?5e6:1}function Wn(t,e){try{return{db:t(e)}}catch(n){return{error:n}}}function Kn(t){var e=so.get(t.name);if(!e){var n=Dn();e=Wn(n,t),so.set(t.name,e),e.db&&(e.db._sqlitePlugin="undefined"!=typeof sqlitePlugin)}return e}function Jn(t,e,n,r,i,o,s){function a(){return y?s(y):(o.notify(r._name),r._docCount=-1,void s(null,_))}function u(t,e){var n="SELECT count(*) as cnt FROM "+no+" WHERE digest=?";b.executeSql(n,[t],function(n,r){if(0===r.rows.item(0).cnt){var i=A(Rr,"unknown stub attachment with digest "+t);e(i)}else e()})}function c(t){function e(){++i===n.length&&t(r)}var n=[];if(m.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,i=0;n.forEach(function(t){u(t,function(t){t&&!r&&(r=t),e()})})}function l(t,e,n,i,o,s,a,u){function c(){function e(t,e){function r(){return++o===s.length&&e(),!1}function i(e){var i="INSERT INTO "+oo+" (digest, seq) VALUES (?,?)",o=[n._attachments[e].digest,t];b.executeSql(i,o,r,r)}var o=0,s=Object.keys(n._attachments||{});if(!s.length)return e();for(var a=0;a<s.length;a++)i(s[a])}var n=t.data,r=i?1:0,o=n._id,s=n._rev,a=qn(n),u="INSERT INTO "+eo+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",c=[o,s,a,r];b.executeSql(u,c,function(t,n){var r=n.insertId;e(r,function(){h(t,r)})},function(){var t=Un("seq",eo,null,"doc_id=? AND rev=?");return b.executeSql(t,[o,s],function(t,n){var i=n.rows.item(0).seq,u="UPDATE "+eo+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",c=[a,r,o,s];t.executeSql(u,c,function(t){e(i,function(){h(t,i)})})}),!1})}function l(t){p||(t?(p=t,u(p)):v===m.length&&c())}function f(t){v++,l(t)}function h(n,i){var s=t.metadata.id;o&&r.auto_compaction?Hn(rn(t.metadata),s,n):t.stemmedRevs.length&&Hn(t.stemmedRevs,s,n),t.metadata.seq=i,delete t.metadata.rev;var c=o?"UPDATE "+to+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+eo+" WHERE doc_id="+to+".id AND rev=?) WHERE id=?":"INSERT INTO "+to+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",l=an(t.metadata),f=o?[l,i,e,s]:[s,i,i,l];n.executeSql(c,f,function(){_[a]={ok:!0,id:t.metadata.id,rev:e},w.set(s,t.metadata),u()})}var p=null,v=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var m=Object.keys(t.data._attachments||{});i&&(t.data._deleted=!0),m.forEach(function(e){var n=t.data._attachments[e];if(n.stub)v++,l();else{var r=n.data;delete n.data;var i=n.digest;d(i,r,f)}}),m.length||c()}function f(){nn(t.revs_limit,m,r,w,b,_,l,n)}function h(t){function e(){++n===m.length&&t()}if(!m.length)return t();var n=0;m.forEach(function(t){if(t._id&&I(t._id))return e();var n=t.metadata.id;b.executeSql("SELECT json FROM "+to+" WHERE id = ?",[n],function(t,r){if(r.rows.length){var i=sn(r.rows.item(0).json);w.set(n,i)}e()})})}function d(t,e,n){var r="SELECT digest FROM "+no+" WHERE digest=?";b.executeSql(r,[t],function(i,o){return o.rows.length?n():(r="INSERT INTO "+no+" (digest, body, escaped) VALUES (?,?,1)",void i.executeSql(r,[t,jn(e)],function(){n()},function(){return n(),!1}))})}var p=n.new_edits,v=e.docs,m=v.map(function(t){if(t._id&&I(t._id))return t;var e=B(t,p);return e}),g=m.filter(function(t){return t.error});if(g.length)return s(g[0]);var b,y,_=new Array(m.length),w=new nr.Map;He(m,"binary",function(t){return t?s(t):void i.transaction(function(t){b=t,c(function(t){t?y=t:h(f)})},zn(s),a)})}function Xn(t,e,n,r,i){function s(){++c===u.length&&i&&i()}function a(t,i){var a=t._attachments[i],u={binary:e.binary,ctx:r};n._getAttachment(a,u,function(e,n){t._attachments[i]=Yn.extend(o(a,["digest","content_type"]),{data:n}),s()})}var u=Object.keys(t._attachments||{});if(!u.length)return i&&i();var c=0;u.forEach(function(n){e.attachments&&e.include_docs?a(t,n):(t._attachments[n].stub=!0,s())})}function Gn(t,e){function n(){ot()&&(window.localStorage["_pouch__websqldb_"+y._name]=!0),e(null,y)}function r(t,e){t.executeSql(fo),t.executeSql("ALTER TABLE "+eo+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(co),t.executeSql("ALTER TABLE "+to+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+to+" (local, id)");var n="SELECT "+to+".winningseq AS seq, "+to+".json AS metadata FROM "+eo+" JOIN "+to+" ON "+eo+".seq = "+to+".winningseq";t.executeSql(n,[],function(t,n){for(var r=[],i=[],o=0;o<n.rows.length;o++){var s=n.rows.item(o),a=s.seq,u=JSON.parse(s.metadata);g(u)&&r.push(a),I(u.id)&&i.push(u.id)}t.executeSql("UPDATE "+to+"SET local = 1 WHERE id IN "+Fn(i.length),i,function(){t.executeSql("UPDATE "+eo+" SET deleted = 1 WHERE seq IN "+Fn(r.length),r,e)})})})})}function i(t,e){var n="CREATE TABLE IF NOT EXISTS "+ro+" (id UNIQUE, rev, json)";t.executeSql(n,[],function(){var n="SELECT "+to+".id AS id, "+eo+".json AS data FROM "+eo+" JOIN "+to+" ON "+eo+".seq = "+to+".winningseq WHERE local = 1";t.executeSql(n,[],function(t,n){function r(){if(!i.length)return e(t);var n=i.shift(),o=JSON.parse(n.data)._rev;t.executeSql("INSERT INTO "+ro+" (id, rev, json) VALUES (?,?,?)",[n.id,o,n.data],function(t){t.executeSql("DELETE FROM "+to+" WHERE id=?",[n.id],function(t){t.executeSql("DELETE FROM "+eo+" WHERE seq=?",[n.seq],function(){r()})})})}for(var i=[],o=0;o<n.rows.length;o++)i.push(n.rows.item(o));r()})})}function o(t,e){function n(n){function r(){if(!n.length)return e(t);var i=n.shift(),o=Mn(i.hex,b),s=o.lastIndexOf("::"),a=o.substring(0,s),u=o.substring(s+2),c="UPDATE "+eo+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(c,[a,u,o],function(){r()})}r()}var r="ALTER TABLE "+eo+" ADD COLUMN doc_id";t.executeSql(r,[],function(t){var e="ALTER TABLE "+eo+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(lo,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+eo;t.executeSql(e,[],function(t,e){for(var r=[],i=0;i<e.rows.length;i++)r.push(e.rows.item(i));n(r)})})})})}function s(t,e){function n(t){var n="SELECT COUNT(*) AS cnt FROM "+no;t.executeSql(n,[],function(t,n){function r(){var n=Un(mo+", "+to+".id AS id",[to,eo],vo,null,to+".id ");n+=" LIMIT "+s+" OFFSET "+o,o+=s,t.executeSql(n,[],function(t,n){function i(t,e){var n=o[t]=o[t]||[];n.indexOf(e)===-1&&n.push(e)}if(!n.rows.length)return e(t);for(var o={},s=0;s<n.rows.length;s++)for(var a=n.rows.item(s),u=Bn(a.data,a.id,a.rev),c=Object.keys(u._attachments||{}),l=0;l<c.length;l++){var f=u._attachments[c[l]];i(f.digest,a.seq)}var h=[];if(Object.keys(o).forEach(function(t){var e=o[t];e.forEach(function(e){h.push([t,e])})}),!h.length)return r();var d=0;h.forEach(function(e){var n="INSERT INTO "+oo+" (digest, seq) VALUES (?,?)";t.executeSql(n,e,function(){++d===h.length&&r()})})})}var i=n.rows.item(0).cnt;if(!i)return e(t);var o=0,s=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+oo+" (digest, seq INTEGER)";t.executeSql(r,[],function(t){t.executeSql(po,[],function(t){t.executeSql(ho,[],n)})})}function a(t,e){var n="ALTER TABLE "+no+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(n,[],e)}function u(t,e){var n="ALTER TABLE "+to+" ADD COLUMN max_seq INTEGER";t.executeSql(n,[],function(t){var n="UPDATE "+to+" SET max_seq=(SELECT MAX(seq) FROM "+eo+" WHERE doc_id=id)";t.executeSql(n,[],function(t){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+to+" (max_seq)";t.executeSql(n,[],e)})})}function l(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,n){var r=n.rows.item(0).hex;b=2===r.length?"UTF-8":"UTF-16",e()})}function h(){for(;x.length>0;){var t=x.pop();t(null,_)}}function d(t,e){if(0===e){var n="CREATE TABLE IF NOT EXISTS "+io+" (dbid, db_version INTEGER)",c="CREATE TABLE IF NOT EXISTS "+no+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",l="CREATE TABLE IF NOT EXISTS "+oo+" (digest, seq INTEGER)",f="CREATE TABLE IF NOT EXISTS "+to+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",d="CREATE TABLE IF NOT EXISTS "+eo+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",p="CREATE TABLE IF NOT EXISTS "+ro+" (id UNIQUE, rev, json)";t.executeSql(c),t.executeSql(p),t.executeSql(l,[],function(){t.executeSql(ho),t.executeSql(po)}),t.executeSql(f,[],function(){t.executeSql(fo),t.executeSql(d,[],function(){t.executeSql(co),t.executeSql(lo),t.executeSql(n,[],function(){var e="INSERT INTO "+io+" (db_version, dbid) VALUES (?,?)";_=D();var n=[Zi,_];t.executeSql(e,n,function(){h()})})})})}else{var v=function(){var n=e<Zi;n&&t.executeSql("UPDATE "+io+" SET db_version = "+Zi);var r="SELECT dbid FROM "+io;t.executeSql(r,[],function(t,e){_=e.rows.item(0).dbid,h()})},m=[r,i,o,s,a,u,v],g=e,b=function(t){m[g-1](t,b),g++};b(t)}}function p(){k.transaction(function(t){l(t,function(){v(t)})},zn(e),n)}function v(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+io;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+io,[],function(t,e){var n=e.rows.item(0).db_version;d(t,n)}):t.executeSql("ALTER TABLE "+io+" ADD COLUMN db_version INTEGER",[],function(){d(t,1)}):d(t,0)})}function m(t,e){if(y._docCount!==-1)return e(y._docCount);var n=Un("COUNT("+to+".id) AS 'num'",[to,eo],vo,eo+".deleted=0");t.executeSql(n,[],function(t,n){y._docCount=n.rows.item(0).num,e(y._docCount)})}var b,y=this,_=null,w=Vn(t),x=[];y._docCount=-1,y._name=t.name;var E=Kn({name:y._name,version:uo,description:y._name,size:w,location:t.location,createFromLocation:t.createFromLocation,androidDatabaseImplementation:t.androidDatabaseImplementation});if(E.error)return zn(e)(E.error);var k=E.db;"function"!=typeof k.readTransaction&&(k.readTransaction=k.transaction),p(),y.type=function(){return"websql"},y._id=f(function(t){t(null,_)}),y._info=function(t){k.readTransaction(function(e){m(e,function(n){var r="SELECT MAX(seq) AS seq FROM "+eo;e.executeSql(r,[],function(e,r){var i=r.rows.item(0).seq||0;t(null,{doc_count:n,update_seq:i,sqlite_plugin:k._sqlitePlugin,websql_encoding:b})})})},zn(t))},y._bulkDocs=function(e,n,r){Jn(t,e,n,y,k,ao,r)},y._get=function(t,e,n){function r(){n(s,{doc:i,metadata:o,ctx:a})}var i,o,s,a=e.ctx;if(!a)return k.readTransaction(function(r){y._get(t,Yn.extend({ctx:r},e),n)});var u,c;e.rev?(u=Un(mo,[to,eo],to+".id="+eo+".doc_id",[eo+".doc_id=?",eo+".rev=?"]),c=[t,e.rev]):(u=Un(mo,[to,eo],vo,to+".id=?"),c=[t]),a.executeSql(u,c,function(t,n){if(!n.rows.length)return s=A(pr,"missing"),r();var a=n.rows.item(0);return o=sn(a.metadata),a.deleted&&!e.rev?(s=A(pr,"deleted"),r()):(i=Bn(a.data,o.id,a.rev),void r())})},y._allDocs=function(t,e){var n,r=[],i="startkey"in t&&t.startkey,o="endkey"in t&&t.endkey,s="key"in t&&t.key,a="descending"in t&&t.descending,u="limit"in t?t.limit:-1,c="skip"in t?t.skip:0,l=t.inclusive_end!==!1,f=[],h=[];if(s!==!1)h.push(to+".id = ?"),f.push(s);else if(i!==!1||o!==!1){if(i!==!1&&(h.push(to+".id "+(a?"<=":">=")+" ?"),f.push(i)),o!==!1){var d=a?">":"<";l&&(d+="="),h.push(to+".id "+d+" ?"),f.push(o)}s!==!1&&(h.push(to+".id = ?"),f.push(s))}"ok"!==t.deleted&&h.push(eo+".deleted = 0"),k.readTransaction(function(e){m(e,function(i){if(n=i,0!==u){var o=Un(mo,[to,eo],vo,h,to+".id "+(a?"DESC":"ASC"));o+=" LIMIT "+u+" OFFSET "+c,e.executeSql(o,f,function(e,n){for(var i=0,o=n.rows.length;i<o;i++){var s=n.rows.item(i),a=sn(s.metadata),u=a.id,c=Bn(s.data,u,s.rev),l=c._rev,f={id:u,key:u,value:{rev:l}};if(t.include_docs&&(f.doc=c,f.doc._rev=l,t.conflicts&&(f.doc._conflicts=C(a)),Xn(f.doc,t,y,e)),s.deleted){if("ok"!==t.deleted)continue;f.value.deleted=!0,f.doc=null}r.push(f)}})}})},zn(e),function(){e(null,{total_rows:n,offset:t.skip,rows:r})})},y._changes=function(t){function e(){var e=to+".json AS metadata, "+to+".max_seq AS maxSeq, "+eo+".json AS winningDoc, "+eo+".rev AS winningRev ",n=to+" JOIN "+eo,u=to+".id="+eo+".doc_id AND "+to+".winningseq="+eo+".seq",c=["maxSeq > ?"],l=[t.since];t.doc_ids&&(c.push(to+".id IN "+Fn(t.doc_ids.length)),l=l.concat(t.doc_ids));var f="maxSeq "+(r?"DESC":"ASC"),h=Un(e,n,u,c,f),d=wt(t);t.view||t.filter||(h+=" LIMIT "+i);var p=t.since||0;k.readTransaction(function(e){e.executeSql(h,l,function(e,n){function r(e){return function(){t.onChange(e)}}for(var u=0,c=n.rows.length;u<c;u++){var l=n.rows.item(u),f=sn(l.metadata);p=l.maxSeq;var h=Bn(l.winningDoc,f.id,l.winningRev),v=t.processChange(h,f,t);v.seq=l.maxSeq;var m=d(v);if("object"==typeof m)return t.complete(m);if(m&&(a++,o&&s.push(v),t.attachments&&t.include_docs?Xn(h,t,y,e,r(v)):r(v)()),a===i)break}})},zn(t.complete),function(){t.continuous||t.complete(null,{results:s,last_seq:p})})}if(t=c(t),t.continuous){var n=y._name+":"+D();return ao.addListener(y._name,n,y,t),ao.notify(y._name),{cancel:function(){ao.removeListener(y._name,n)}}}var r=t.descending;t.since=t.since&&!r?t.since:0;var i="limit"in t?t.limit:-1;0===i&&(i=1);var o;o="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var s=[],a=0;e()},y._close=function(t){t()},y._getAttachment=function(t,e,n){var r,i=e.ctx,o=t.digest,s=t.content_type,a="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+no+" WHERE digest=?";i.executeSql(a,[o],function(t,i){var o=i.rows.item(0),a=o.escaped?Pn(o.body):Mn(o.body,b);r=e.binary?yt(a,s):Yr(a),n(null,r)})},y._getRevisionTree=function(t,e){k.readTransaction(function(n){var r="SELECT json AS metadata FROM "+to+" WHERE id = ?";n.executeSql(r,[t],function(t,n){if(n.rows.length){var r=sn(n.rows.item(0).metadata);e(null,r.rev_tree)}else e(A(pr))})})},y._doCompaction=function(t,e,n){return e.length?void k.transaction(function(n){var r="SELECT json AS metadata FROM "+to+" WHERE id = ?";n.executeSql(r,[t],function(n,r){var i=sn(r.rows.item(0).metadata);S(i.rev_tree,function(t,n,r,i,o){var s=n+"-"+r;e.indexOf(s)!==-1&&(o.status="missing")});var o="UPDATE "+to+" SET json = ? WHERE id = ?";n.executeSql(o,[an(i),t])}),Hn(e,t,n)},zn(n),function(){n()}):n()},y._getLocal=function(t,e){k.readTransaction(function(n){var r="SELECT json, rev FROM "+ro+" WHERE id=?";n.executeSql(r,[t],function(n,r){if(r.rows.length){var i=r.rows.item(0),o=Bn(i.json,t,i.rev);e(null,o)}else e(A(pr))})})},y._putLocal=function(t,e,n){function r(t){var r,c;o?(r="UPDATE "+ro+" SET rev=?, json=? WHERE id=? AND rev=?",c=[i,u,s,o]):(r="INSERT INTO "+ro+" (id, rev, json) VALUES (?,?,?)",c=[s,i,u]),t.executeSql(r,c,function(t,r){r.rowsAffected?(a={ok:!0,id:s,rev:i},e.ctx&&n(null,a)):n(A(vr))},function(){return n(A(vr)),!1})}"function"==typeof e&&(n=e,e={}),delete t._revisions;var i,o=t._rev,s=t._id;i=o?t._rev="0-"+(parseInt(o.split("-")[1],10)+1):t._rev="0-1";var a,u=qn(t);e.ctx?r(e.ctx):k.transaction(r,zn(n),function(){a&&n(null,a)})},y._removeLocal=function(t,e,n){function r(r){var o="DELETE FROM "+ro+" WHERE id=? AND rev=?",s=[t._id,t._rev];r.executeSql(o,s,function(r,o){return o.rowsAffected?(i={ok:!0,id:t._id,rev:"0-0"},void(e.ctx&&n(null,i))):n(A(pr))})}"function"==typeof e&&(n=e,e={});var i;e.ctx?r(e.ctx):k.transaction(r,zn(n),function(){i&&n(null,i)})},y._destroy=function(t,e){ao.removeAllListeners(y._name),k.transaction(function(t){var e=[to,eo,no,io,ro,oo];e.forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},zn(e),function(){ot()&&(delete window.localStorage["_pouch__websqldb_"+y._name],delete window.localStorage[y._name]),e(null,{ok:!0})})}}var Yn=t(7),Qn=i(Yn),Zn=i(t(2)),tr=i(t(6)),er=i(t(8)),nr=t(12),rr=i(t(1)),ir=t(4),or=i(t(14)),sr=t(10),ar=i(sr),ur=i(t(15)),cr=i(t(16)),lr="function"==typeof Promise?Promise:er,fr=Zn("pouchdb:api");tr(k,Error),k.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var hr=new k({status:401,error:"unauthorized",reason:"Name or password is incorrect."}),dr=new k({status:400,error:"bad_request",reason:"Missing JSON list of 'docs'"}),pr=new k({status:404,error:"not_found",reason:"missing"}),vr=new k({status:409,error:"conflict",reason:"Document update conflict"}),mr=new k({status:400,error:"invalid_id",reason:"_id field must contain a string"}),gr=new k({status:412,error:"missing_id",reason:"_id is required for puts"}),br=new k({status:400,error:"bad_request",reason:"Only reserved document ids may start with underscore."}),yr=new k({status:412,error:"precondition_failed",reason:"Database not open"}),_r=new k({status:500,error:"unknown_error",reason:"Database encountered an unknown error"}),wr=new k({status:500,error:"badarg",reason:"Some query argument is invalid"}),Sr=new k({status:400,error:"invalid_request",reason:"Request was invalid"}),xr=new k({status:400,error:"query_parse_error",reason:"Some query parameter is invalid"}),Er=new k({status:500,error:"doc_validation",reason:"Bad special document member"}),Cr=new k({status:400,error:"bad_request",reason:"Something wrong with the request"}),kr=new k({status:400,error:"bad_request",reason:"Document must be a JSON object"}),Ar=new k({status:404,error:"not_found",reason:"Database not found"}),$r=new k({status:500,error:"indexed_db_went_bad",reason:"unknown"}),Tr=new k({status:500,error:"web_sql_went_bad",reason:"unknown"}),Nr=new k({status:500,error:"levelDB_went_went_bad",reason:"unknown"}),Or=new k({status:403,error:"forbidden",reason:"Forbidden by design doc validate_doc_update function"}),Ir=new k({status:400,error:"bad_request",reason:"Invalid rev format"}),Mr=new k({status:412,error:"file_exists",reason:"The database could not be created, the file already exists."}),Rr=new k({status:412,error:"missing_stub"}),Dr=new k({status:413,error:"invalid_url",reason:"Provided URL is invalid"}),Lr={UNAUTHORIZED:hr,MISSING_BULK_DOCS:dr,MISSING_DOC:pr,REV_CONFLICT:vr,INVALID_ID:mr,MISSING_ID:gr,RESERVED_ID:br,NOT_OPEN:yr,UNKNOWN_ERROR:_r,BAD_ARG:wr,INVALID_REQUEST:Sr,QUERY_PARSE_ERROR:xr,DOC_VALIDATION:Er,BAD_REQUEST:Cr,NOT_AN_OBJECT:kr,DB_MISSING:Ar,WSQ_ERROR:Tr,LDB_ERROR:Nr,FORBIDDEN:Or,INVALID_REV:Ir,FILE_EXISTS:Mr,MISSING_STUB:Rr,IDB_ERROR:$r,INVALID_URL:Dr},jr=function(t,e,n){var r=Object.keys(Lr).filter(function(n){var r=Lr[n];return"function"!=typeof r&&r[t]===e}),i=n&&r.filter(function(t){var e=Lr[t];return e.message===n})[0]||r[0];return i?Lr[i]:null};tr(T,ir.EventEmitter),T.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},T.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=c(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=N,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(r){return e.isCancelled?void n(null,{status:"cancelled"}):(t.since=r.update_seq,void e.doChanges(t))},n);if(t.continuous&&"now"!==t.since&&this.db.info().then(function(t){e.startSeq=t.update_seq},function(t){if("idbNull"!==t.id)throw t}),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=w(t.view):t.filter=w(t.filter),"http"!==this.db.type()&&!t.doc_ids))return this.filterChanges(t);"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var i=e.cancel;e.cancel=rr(function(t){r.cancel(),i.apply(this,t)})}},T.prototype.filterChanges=function(t){var e=this,n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=A(Cr,"`view` filter parameter not found or invalid.");return n(r)}var i=_(t.view);this.db.getView(i[0],i[1],function(r,i){return e.isCancelled?n(null,{status:"cancelled"}):r?n($(r)):i.map?(t.filter=y(i.map),void e.doChanges(t)):n(A(pr))})}else{var o=_(t.filter);if(!o)return e.doChanges(t);this.db.getFilter(o[0],o[1],function(r,i){return e.isCancelled?n(null,{status:"cancelled"}):r?n($(r)):(t.filter=b(i),void e.doChanges(t))})}};var Pr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),qr=L(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Br=L(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);tr(Z,ir.EventEmitter),Z.prototype.post=h("post",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(A(kr)):void this.bulkDocs({docs:[t]},e,H(n))}),Z.prototype.put=h("put",rr(function(t){var e,n,r,i,o=t.shift(),s="_id"in o;if("object"!=typeof o||Array.isArray(o))return(i=t.pop())(A(kr));for(;;)if(e=t.shift(),n=typeof e,"string"!==n||s?"string"!==n||!s||"_rev"in o?"object"===n?r=e:"function"===n&&(i=e):o._rev=e:(o._id=e,s=!0),!t.length)break;return r=r||{},j(o._id),I(o._id)&&"function"==typeof this._putLocal?o._deleted?this._removeLocal(o,i):this._putLocal(o,i):void this.bulkDocs({docs:[o]},r,H(i))})),Z.prototype.putAttachment=h("putAttachment",function(t,e,n,r,i){function o(t){return t._attachments=t._attachments||{},t._attachments[e]={content_type:i,data:r},s.put(t)}var s=this;return"function"==typeof i&&(i=r,r=n,n=null),"undefined"==typeof i&&(i=r,r=n,n=null),s.get(t).then(function(t){if(t._rev!==n)throw A(vr);return o(t)},function(e){if(e.reason===pr.message)return o({_id:t});throw e})}),Z.prototype.removeAttachment=h("removeAttachment",function(t,e,n,r){var i=this;i.get(t,function(t,o){return t?void r(t):o._rev!==n?void r(A(vr)):o._attachments?(delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,void i.put(o,r)):r()})}),Z.prototype.remove=h("remove",function(t,e,n,r){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(i=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};return o._deleted=!0,I(o._id)&&"function"==typeof this._removeLocal?this._removeLocal(i,r):void this.bulkDocs({docs:[o]},n,H(r))}),Z.prototype.revsDiff=h("revsDiff",function(t,e,n){function r(t,e){a.has(t)||a.set(t,{missing:[]}),a.get(t).missing.push(e)}function i(e,n){var i=t[e].slice(0);S(n,function(t,n,o,s,a){var u=n+"-"+o,c=i.indexOf(u);c!==-1&&(i.splice(c,1),"available"!==a.status&&r(e,u))}),i.forEach(function(t){r(e,t)})}"function"==typeof e&&(n=e,e={});var o=Object.keys(t);if(!o.length)return n(null,{});var s=0,a=new nr.Map;o.map(function(e){this._getRevisionTree(e,function(r,u){if(r&&404===r.status&&"missing"===r.message)a.set(e,{missing:t[e]});else{if(r)return n(r);i(e,u)}if(++s===o.length){var c={};return a.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),Z.prototype.bulkGet=h("bulkGet",function(t,e){O(this,t,e)}),Z.prototype.compactDocument=h("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(i,o){if(i)return n(i);var s=W(o),a=[],u=[];Object.keys(s).forEach(function(t){s[t]>e&&a.push(t)}),S(o,function(t,e,n,r,i){var o=e+"-"+n;"available"===i.status&&a.indexOf(o)!==-1&&u.push(o)}),r._doCompaction(t,u,n)})}),Z.prototype.compact=h("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&J(n)}),Z.prototype._compact=function(t,e){function n(t){s.push(i.compactDocument(t.id,0))}function r(t){var n=t.last_seq;lr.all(s).then(function(){return d(i,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})})["catch"](e)}var i=this,o={return_docs:!1,last_seq:t.last_seq||0},s=[];i.changes(o).on("change",n).on("complete",r).on("error",e)},Z.prototype.get=h("get",function(t,e,n){function r(){var r=[],s=i.length;return s?void i.forEach(function(i){o.get(t,{rev:i,revs:e.revs,attachments:e.attachments},function(t,e){t?r.push({missing:i}):r.push({ok:e}),s--,s||n(null,r)})}):n(null,r)}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(A(mr));if(I(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var i=[],o=this;if(!e.open_revs)return this._get(t,e,function(t,r){if(t)return n(t);var i=r.doc,s=r.metadata,a=r.ctx;if(e.conflicts){var u=C(s);u.length&&(i._conflicts=u)}if(g(s,i._rev)&&(i._deleted=!0),e.revs||e.revs_info){var c=M(s.rev_tree),l=U(c,function(t){return t.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])!==-1}),f=l.ids.map(function(t){return t.id}).indexOf(i._rev.split("-")[1])+1,h=l.ids.length-f;if(l.ids.splice(f,h),l.ids.reverse(),e.revs&&(i._revisions={start:l.pos+l.ids.length-1,ids:l.ids.map(function(t){return t.id})}),e.revs_info){var d=l.pos+l.ids.length;i._revs_info=l.ids.map(function(t){return d--,{rev:d+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&i._attachments){var p=i._attachments,v=Object.keys(p).length;if(0===v)return n(null,i);Object.keys(p).forEach(function(t){this._getAttachment(p[t],{binary:e.binary,ctx:a},function(e,r){var o=i._attachments[t];o.data=r,delete o.stub,delete o.length,--v||n(null,i)})},o)}else{if(i._attachments)for(var m in i._attachments)i._attachments.hasOwnProperty(m)&&(i._attachments[m].stub=!0);n(null,i)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){return t?n(t):(i=E(e).map(function(t){return t.rev}),void r())});else{if(!Array.isArray(e.open_revs))return n(A(_r,"function_clause"));i=e.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(A(Ir))}r()}}),Z.prototype.getView=h("getView",function(t,e,n){Q(this,t,"views",e,n)}),Z.prototype.getFilter=h("getFilter",function(t,e,n){Q(this,t,"filters",e,n)}),Z.prototype.getAttachment=h("getAttachment",function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(t,o){return t?r(t):o.doc._attachments&&o.doc._attachments[e]?(n.ctx=o.ctx,n.binary=!0,i._getAttachment(o.doc._attachments[e],n,r),void 0):r(A(pr))})}),Z.prototype.allDocs=h("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip="undefined"!=typeof t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(A(xr,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return K(this,t,e)}return this._allDocs(t,e)}),Z.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new T(this,t,e)},Z.prototype.close=h("close",function(t){return this._closed=!0,this._close(t)}),Z.prototype.info=h("info",function(t){var e=this;this._info(function(n,r){return n?t(n):(r.db_name=r.db_name||e._db_name,r.auto_compaction=!(!e.auto_compaction||"http"===e.type()),r.adapter=e.type(),void t(null,r))})}),Z.prototype.id=h("id",function(t){return this._id(t)}),Z.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Z.prototype.bulkDocs=h("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(A(dr));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(A(kr));var i;return t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(t){i=i||X(t)})}),i?n(A(Cr,i)):("new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0),e.new_edits||"http"===this.type()||t.docs.sort(V),z(t.docs),this._bulkDocs(t,e,function(t,r){return t?n(t):(e.new_edits||(r=r.filter(function(t){return t.error})),void n(null,r))}))}),Z.prototype.registerDependentDatabase=h("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var r=new this.constructor(t,this.__opts);d(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:r})})["catch"](e)}),Z.prototype.destroy=h("destroy",function(t,e){function n(){r._destroy(t,function(t,n){return t?e(t):(r._destroyed=!0,r.emit("destroyed"),void e(null,n||{ok:!0}))})}"function"==typeof t&&(e=t,t={});var r=this,i=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(t,o){if(t)return 404!==t.status?e(t):n();var s=o.dependentDbs,a=r.constructor,u=Object.keys(s).map(function(t){var e=i?t.replace(new RegExp("^"+a.prefix),""):t;return new a(e,r.__opts).destroy()});lr.all(u).then(n,e)})}),tt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},tt.prototype.fail=function(t){this.failed=t,this.execute()},tt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},tt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},tr(rt,Z),rt.debug=Zn;var Fr;if(it())Fr=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),Fr=!!localStorage.getItem("_pouch_check_localstorage")}catch(Ur){Fr=!1}rt.adapters={},rt.preferredAdapters=[],rt.prefix="_pouch_";var Hr=new ir.EventEmitter;st(rt),rt.parseAdapter=function(t,e){var n,r,i=t.match(/([a-z\-]*):\/\/(.*)/);if(i){if(t=/http(s?)/.test(i[1])?i[1]+"://"+i[2]:i[2],n=i[1],!rt.adapters[n].valid())throw"Invalid adapter";return{name:t,adapter:i[1]}}var o="idb"in rt.adapters&&"websql"in rt.adapters&&ot()&&localStorage["_pouch__websqldb_"+rt.prefix+t];if(e.adapter)r=e.adapter;else if("undefined"!=typeof e&&e.db)r="leveldb";else for(var s=0;s<rt.preferredAdapters.length;++s)if(r=rt.preferredAdapters[s],r in rt.adapters){if(o&&"idb"===r){console.log('PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}n=rt.adapters[r];var a=!(n&&"use_prefix"in n)||n.use_prefix;return{name:a?rt.prefix+t:t,adapter:r}},rt.adapter=function(t,e,n){e.valid()&&(rt.adapters[t]=e,n&&rt.preferredAdapters.push(t))},rt.plugin=function(t){return Object.keys(t).forEach(function(e){rt.prototype[e]=t[e]}),rt},rt.defaults=function(t){function e(n,r,i){return this instanceof e?("function"!=typeof r&&"undefined"!=typeof r||(i=r,r={}),n&&"object"==typeof n&&(r=n,n=void 0),r=Yn.extend({},t,r),void rt.call(this,n,r,i)):new e(n,r,i)}return tr(e,rt),st(e),e.preferredAdapters=rt.preferredAdapters.slice(),Object.keys(rt).forEach(function(t){t in e||(e[t]=rt[t])}),e};var zr=ht(),Vr=function(){},Wr=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Kr="queryKey",Jr=/(?:^|&)([^&=]*)=?([^&]*)/g,Xr=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gr=function(t){return atob(t)},Yr=function(t){return btoa(t)},Qr=Qn.extend,Zr={ajax:mt,parseUri:gt,uuid:D,Promise:lr,atob:Gr,btoa:Yr,binaryStringToBlobOrBuffer:yt,clone:c,extend:Qr,createError:A},ti=ar.collate,ei=1,ni="pouchdb",ri=5,ii=0;Et.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},Et.prototype.updateTarget=function(t,e){return xt(this.target,this.id,t,e,this.returnValue)},Et.prototype.updateSource=function(t,e){var n=this;return this.readOnlySource?lr.resolve(!0):xt(this.src,this.id,t,e,this.returnValue)["catch"](function(t){
if($t(t))return n.readOnlySource=!0,!0;throw t})};var oi={undefined:function(t,e){return 0===ti(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return Ct(e,t).last_seq}};Et.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?lr.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return ii;var n;return n=e.version?e.version.toString():"undefined",n in oi?oi[n](e,t):ii},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:ii}).then(function(){return ii},function(n){return $t(n)?(t.readOnlySource=!0,e.last_seq):ii});throw n})})["catch"](function(t){if(404!==t.status)throw t;return ii})};var si=0,ai=r.setImmediate||r.setTimeout,ui=32768,ci=f(function(t,e){function n(){var r=a*o,i=r+o;if(a++,a<s)c(u,t,r,i),ai(n);else{c(u,t,r,i);var l=u.end(!0),f=It(l);e(null,f),u.destroy()}}var r="string"==typeof t,i=r?t.length:t.byteLength,o=Math.min(ui,i),s=Math.ceil(i/o),a=0,u=r?new ur:new ur.ArrayBuffer,c=r?Rt:Mt;n()});tr(Ft,ir.EventEmitter),Ft.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Ft.prototype.ready=function(t,e){function n(){i.cancel()}function r(){t.removeListener("destroyed",n),e.removeListener("destroyed",n)}var i=this;i._readyCalled||(i._readyCalled=!0,t.once("destroyed",n),e.once("destroyed",n),i.once("complete",r))};var li={replicate:Ht,toPouch:Ut},fi=li.replicate;tr(Vt,ir.EventEmitter),Vt.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};var hi=25,di=50,pi={},vi=1800,mi=Zn("pouchdb:http");ie.valid=function(){return!0},oe.prototype.add=function(t){return this.promise=this.promise["catch"](function(){}).then(function(){return t()}),this.promise},oe.prototype.finish=function(){return this.promise};var gi,bi=function(t,e){return e&&t.then(function(t){n.nextTick(function(){e(null,t)})},function(t){n.nextTick(function(){e(t)})}),t},yi=function(t){return rr(function(e){var n=e.pop(),r=t.apply(this,e);return"function"==typeof n&&bi(r,n),r})},_i=function(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})},wi=function(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}},Si=function(t){for(var e={},n=0,r=t.length;n<r;n++)e["$"+t[n]]=!0;var i=Object.keys(e),o=new Array(i.length);for(n=0,r=i.length;n<r;n++)o[n]=i[n].substring(1);return o},xi={uniq:Si,sequentialize:wi,fin:_i,callbackify:yi,promisedCallback:bi},Ei=ar.collate,Ci=ar.toIndexableString,ki=ar.normalizeKey,Ai=ar.parseIndexableString;gi="undefined"!=typeof console&&"function"==typeof console.log?Function.prototype.bind.call(console.log,console):function(){};var $i=xi.callbackify,Ti=xi.sequentialize,Ni=xi.uniq,Oi=xi.fin,Ii=xi.promisedCallback,Mi={},Ri=new oe,Di=50,Li={_sum:function(t,e){return ye(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];e+=i*i}return e}return{sum:ye(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}},ji=$i(function(){var t=this;return t._ddocCache&&delete t._ddocCache,"http"===t.type()?je(t):"function"==typeof t._viewCleanup?Ae(t):Pe(t)}),Pi=function(t,e,n){"function"==typeof e&&(n=e,e={}),e=e?Se(e):{},"function"==typeof t&&(t={map:t});var r=this,i=lr.resolve().then(function(){return qe(r,t,e)});return Ii(i,n),i};tr(Be,Error),tr(Fe,Error);var qi={query:Pi,viewCleanup:ji},Bi=5,Fi="document-store",Ui="by-sequence",Hi="attach-store",zi="attach-seq-store",Vi="meta-store",Wi="local-store",Ki="detect-blob-support",Ji={running:!1,queue:[]};tr(Cn,ir.EventEmitter),Cn.prototype.addListener=function(t,e,n,r){function i(){function t(){a=!1}if(s._listeners[e]){if(a)return void(a="waiting");a=!0;var u=o(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===a&&setTimeout(function(){i()},0),a=!1}).on("error",t)}}if(!this._listeners[e]){var s=this,a=!1;this._listeners[e]=i,this.on(t,i)}},Cn.prototype.removeListener=function(t,e){e in this._listeners&&ir.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e])},Cn.prototype.notifyLocalWindows=function(t){it()?chrome.storage.local.set({dbName:t}):ot()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},Cn.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var Xi,Gi=new nr.Map,Yi=new Cn,Qi=new nr.Map;kn.valid=function(){var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!t&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var Zi=7,to=Rn("document-store"),eo=Rn("by-sequence"),no=Rn("attach-store"),ro=Rn("local-store"),io=Rn("metadata-store"),oo=Rn("attach-seq-store"),so=new nr.Map,ao=new Cn,uo=1,co="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+eo+" (seq, deleted)",lo="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+eo+" (doc_id, rev)",fo="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+to+" (winningseq)",ho="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+oo+" (seq)",po="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+oo+" (digest, seq)",vo=eo+".seq = "+to+".winningseq",mo=eo+".seq AS seq, "+eo+".deleted AS deleted, "+eo+".json AS data, "+eo+".rev AS rev, "+to+".json AS metadata";Gn.use_prefix=!("undefined"!=typeof n&&!n.browser),Gn.valid=Ln;var go={idb:kn,websql:Gn};rt.ajax=mt,rt.utils=Zr,rt.Errors=Lr,rt.replicate=li.replicate,rt.sync=zt,rt.version="5.3.1",rt.adapter("http",ie),rt.adapter("https",ie),rt.plugin(qi),Object.keys(go).forEach(function(t){rt.adapter(t,go[t],!0)}),e.exports=rt}).call(this,t(13),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1,10:10,12:12,13:13,14:14,15:15,16:16,2:2,4:4,6:6,7:7,8:8}]},{},[17])(17)}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.cryptoPouch=t()}}(function(){var define,module,exports;return function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){function r(t,e){return d.isUndefined(e)?""+e:!d.isNumber(e)||!isNaN(e)&&isFinite(e)?d.isFunction(e)||d.isRegExp(e)?e.toString():e:e.toString()}function i(t,e){return d.isString(t)?t.length<e?t:t.slice(0,e):t}function o(t){return i(JSON.stringify(t.actual,r),128)+" "+t.operator+" "+i(JSON.stringify(t.expected,r),128)}function s(t,e,n,r,i){throw new m.AssertionError({message:n,actual:t,expected:e,operator:r,stackStartFunction:i})}function a(t,e){t||s(t,!0,e,"==",m.ok)}function u(t,e){if(t===e)return!0;if(d.isBuffer(t)&&d.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return d.isDate(t)&&d.isDate(e)?t.getTime()===e.getTime():d.isRegExp(t)&&d.isRegExp(e)?t.source===e.source&&t.global===e.global&&t.multiline===e.multiline&&t.lastIndex===e.lastIndex&&t.ignoreCase===e.ignoreCase:d.isObject(t)||d.isObject(e)?l(t,e):t==e}function c(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function l(t,e){if(d.isNullOrUndefined(t)||d.isNullOrUndefined(e))return!1;if(t.prototype!==e.prototype)return!1;if(c(t))return!!c(e)&&(t=p.call(t),e=p.call(e),u(t,e));try{var n,r,i=g(t),o=g(e)}catch(s){return!1}if(i.length!=o.length)return!1;for(i.sort(),o.sort(),r=i.length-1;r>=0;r--)if(i[r]!=o[r])return!1;for(r=i.length-1;r>=0;r--)if(n=i[r],!u(t[n],e[n]))return!1;return!0}function f(t,e){return!(!t||!e)&&("[object RegExp]"==Object.prototype.toString.call(e)?e.test(t):t instanceof e||e.call({},t)===!0)}function h(t,e,n,r){var i;d.isString(n)&&(r=n,n=null);try{e()}catch(o){i=o}if(r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),t&&!i&&s(i,n,"Missing expected exception"+r),!t&&f(i,n)&&s(i,n,"Got unwanted exception"+r),t&&i&&n&&!f(i,n)||!t&&i)throw i}var d=t("util/"),p=Array.prototype.slice,v=Object.prototype.hasOwnProperty,m=e.exports=a;m.AssertionError=function(t){this.name="AssertionError",this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=o(this),this.generatedMessage=!0);var e=t.stackStartFunction||s;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var n=new Error;if(n.stack){var r=n.stack,i=e.name,a=r.indexOf("\n"+i);if(a>=0){var u=r.indexOf("\n",a+1);r=r.substring(u+1)}this.stack=r}}},d.inherits(m.AssertionError,Error),m.fail=s,m.ok=a,m.equal=function(t,e,n){t!=e&&s(t,e,n,"==",m.equal)},m.notEqual=function(t,e,n){t==e&&s(t,e,n,"!=",m.notEqual)},m.deepEqual=function(t,e,n){u(t,e)||s(t,e,n,"deepEqual",m.deepEqual)},m.notDeepEqual=function(t,e,n){u(t,e)&&s(t,e,n,"notDeepEqual",m.notDeepEqual)},m.strictEqual=function(t,e,n){t!==e&&s(t,e,n,"===",m.strictEqual)},m.notStrictEqual=function(t,e,n){t===e&&s(t,e,n,"!==",m.notStrictEqual)},m["throws"]=function(t,e,n){h.apply(this,[!0].concat(p.call(arguments)))},m.doesNotThrow=function(t,e){h.apply(this,[!1].concat(p.call(arguments)))},m.ifError=function(t){if(t)throw t};var g=Object.keys||function(t){var e=[];for(var n in t)v.call(t,n)&&e.push(n);return e}},{"util/":166}],2:[function(t,e,n){},{}],3:[function(t,e,n){function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);var i,o=typeof t;if("number"===o)i=t>0?t>>>0:0;else if("string"===o)i=r.byteLength(t,e);else{if("object"!==o||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&L(t.data)&&(t=t.data),i=+t.length>0?Math.floor(+t.length):0}if(i>j)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+j.toString(16)+" bytes");var s;r.TYPED_ARRAY_SUPPORT?s=r._augment(new Uint8Array(i)):(s=this,s.length=i,s._isBuffer=!0);var a;if(r.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)s._set(t);else if(k(t))if(r.isBuffer(t))for(a=0;a<i;a++)s[a]=t.readUInt8(a);else for(a=0;a<i;a++)s[a]=(t[a]%256+256)%256;else if("string"===o)s.write(t,0,e);else if("number"===o&&!r.TYPED_ARRAY_SUPPORT&&!n)for(a=0;a<i;a++)s[a]=0;return i>0&&i<=r.poolSize&&(s.parent=P),s}function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var o=new r(t,e,n);return delete o.parent,o}function o(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=e.length;if(o%2!==0)throw new Error("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;s++){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))throw new Error("Invalid hex string");t[n+s]=a}return s}function s(t,e,n,r){var i=I($(e,t.length-n),t,n,r);return i}function a(t,e,n,r){var i=I(T(e),t,n,r);return i}function u(t,e,n,r){return a(t,e,n,r)}function c(t,e,n,r){var i=I(O(e),t,n,r);return i}function l(t,e,n,r){var i=I(N(e,t.length-n),t,n,r,2);return i}function f(t,e,n){return 0===e&&n===t.length?R.fromByteArray(t):R.fromByteArray(t.slice(e,n))}function h(t,e,n){var r="",i="";n=Math.min(t.length,n);for(var o=e;o<n;o++)t[o]<=127?(r+=M(i)+String.fromCharCode(t[o]),i=""):i+="%"+t[o].toString(16);return r+M(i)}function d(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(127&t[i]);return r}function p(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;i++)r+=String.fromCharCode(t[i]);return r}function v(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;o++)i+=A(t[o]);return i}function m(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function g(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function b(t,e,n,i,o,s){if(!r.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>o||e<s)throw new RangeError("value is out of bounds");if(n+i>t.length)throw new RangeError("index out of range")}function y(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;i++)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function _(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;i++)t[n+i]=e>>>8*(r?i:3-i)&255}function w(t,e,n,r,i,o){if(e>i||e<o)throw new RangeError("value is out of bounds");if(n+r>t.length)throw new RangeError("index out of range");if(n<0)throw new RangeError("index out of range")}function S(t,e,n,r,i){return i||w(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),D.write(t,e,n,r,23,4),n+4}function x(t,e,n,r,i){return i||w(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),D.write(t,e,n,r,52,8),n+8}function E(t){if(t=C(t).replace(B,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function C(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(t){return L(t)||r.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function A(t){return t<16?"0"+t.toString(16):t.toString(16)}function $(t,e){var n,r=t.length,i=null;e=e||1/0;for(var o=[],s=0;s<r;s++){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=i-55296<<10|n-56320|65536,i=null}else i&&((e-=3)>-1&&o.push(239,191,189),i=null);if(n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<2097152))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function T(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function N(t,e){for(var n,r,i,o=[],s=0;s<t.length&&!((e-=2)<0);s++)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function O(t){return R.toByteArray(E(t))}function I(t,e,n,r,i){i&&(r-=r%i);for(var o=0;o<r&&!(o+n>=e.length||o>=t.length);o++)e[o+n]=t[o];return o}function M(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var R=t("base64-js"),D=t("ieee754"),L=t("is-array");n.Buffer=r,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,r.poolSize=8192;var j=1073741823,P={};r.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),r.isBuffer=function(t){return!(null==t||!t._isBuffer)},r.compare=function(t,e){if(!r.isBuffer(t)||!r.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var n=t.length,i=e.length,o=0,s=Math.min(n,i);o<s&&t[o]===e[o];o++);return o!==s&&(n=t[o],i=e[o]),n<i?-1:i<n?1:0},r.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(t,e){if(!L(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new r(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new r(e),o=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(i,o),o+=s.length}return i},r.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=$(t).length;break;case"base64":n=O(t).length;break;default:n=t.length}return n},r.prototype.length=void 0,r.prototype.parent=void 0,r.prototype.toString=function(t,e,n){var r=!1;if(e>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,t||(t="utf8"),e<0&&(e=0),n>this.length&&(n=this.length),n<=e)return"";for(;;)switch(t){case"hex":return v(this,e,n);case"utf8":case"utf-8":return h(this,e,n);case"ascii":return d(this,e,n);case"binary":return p(this,e,n);case"base64":return f(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}},r.prototype.equals=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===r.compare(this,t)},r.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},r.prototype.compare=function(t){if(!r.isBuffer(t))throw new TypeError("Argument must be a Buffer");return r.compare(this,t)},r.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},r.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},r.prototype.write=function(t,e,n,r){if(isFinite(e))isFinite(n)||(r=n,n=void 0);else{var i=r;r=e,e=n,n=i}if(e=Number(e)||0,n<0||e<0||e>this.length)throw new RangeError("attempt to write outside buffer bounds");var f=this.length-e;n?(n=Number(n),n>f&&(n=f)):n=f,r=String(r||"utf8").toLowerCase();var h;switch(r){case"hex":h=o(this,t,e,n);break;case"utf8":case"utf-8":h=s(this,t,e,n);break;case"ascii":h=a(this,t,e,n);break;case"binary":h=u(this,t,e,n);break;case"base64":h=c(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":h=l(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+r)}return h},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},r.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(r.TYPED_ARRAY_SUPPORT)i=r._augment(this.subarray(t,e));else{var o=e-t;i=new r(o,(void 0),(!0));for(var s=0;s<o;s++)i[s]=this[s+t]}return i.length&&(i.parent=this.parent||this),i},r.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},r.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},r.prototype.readUInt8=function(t,e){return e||g(t,1,this.length),this[t]},r.prototype.readUInt16LE=function(t,e){return e||g(t,2,this.length),this[t]|this[t+1]<<8},r.prototype.readUInt16BE=function(t,e){return e||g(t,2,this.length),this[t]<<8|this[t+1]},r.prototype.readUInt32LE=function(t,e){return e||g(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},r.prototype.readUInt32BE=function(t,e){return e||g(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},r.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},r.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||g(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},r.prototype.readInt8=function(t,e){return e||g(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},r.prototype.readInt16LE=function(t,e){e||g(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt16BE=function(t,e){e||g(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},r.prototype.readInt32LE=function(t,e){return e||g(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},r.prototype.readInt32BE=function(t,e){return e||g(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},r.prototype.readFloatLE=function(t,e){return e||g(t,4,this.length),D.read(this,t,!0,23,4)},r.prototype.readFloatBE=function(t,e){return e||g(t,4,this.length),D.read(this,t,!1,23,4)},r.prototype.readDoubleLE=function(t,e){return e||g(t,8,this.length),D.read(this,t,!0,52,8)},r.prototype.readDoubleBE=function(t,e){return e||g(t,8,this.length),D.read(this,t,!1,52,8)},r.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||b(this,t,e,n,Math.pow(2,8*n),0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i>>>0&255;return e+n},r.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||b(this,t,e,n,Math.pow(2,8*n),0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o>>>0&255;return e+n},r.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,1,255,0),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},r.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},r.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,65535,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},r.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):_(this,t,e,!0),e+4},r.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,4294967295,0),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):_(this,t,e,!1),e+4},r.prototype.writeIntLE=function(t,e,n,r){t=+t,e>>>=0,r||b(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=0,o=1,s=t<0?1:0;for(this[e]=255&t;++i<n&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},r.prototype.writeIntBE=function(t,e,n,r){t=+t,e>>>=0,r||b(this,t,e,n,Math.pow(2,8*n-1)-1,-Math.pow(2,8*n-1));var i=n-1,o=1,s=t<0?1:0;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=(t/o>>0)-s&255;return e+n},r.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,1,127,-128),r.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t,e+1},r.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},r.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,2,32767,-32768),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},r.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,2147483647,-2147483648),r.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):_(this,t,e,!0),e+4},r.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||b(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),r.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):_(this,t,e,!1),e+4},r.prototype.writeFloatLE=function(t,e,n){return S(this,t,e,!0,n)},r.prototype.writeFloatBE=function(t,e,n){return S(this,t,e,!1,n)},r.prototype.writeDoubleLE=function(t,e,n){return x(this,t,e,!0,n)},r.prototype.writeDoubleBE=function(t,e,n){return x(this,t,e,!1,n)},r.prototype.copy=function(t,e,n,i){var o=this;if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===o.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=o.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var s=i-n;if(s<1e3||!r.TYPED_ARRAY_SUPPORT)for(var a=0;a<s;a++)t[a+e]=this[a+n];else t._set(this.subarray(n,n+s),e);return s},r.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),n<e)throw new RangeError("end < start");if(n!==e&&0!==this.length){if(e<0||e>=this.length)throw new RangeError("start out of bounds");if(n<0||n>this.length)throw new RangeError("end out of bounds");var r;if("number"==typeof t)for(r=e;r<n;r++)this[r]=t;else{var i=$(t.toString()),o=i.length;for(r=e;r<n;r++)this[r]=i[r%o]}return this}},r.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(r.TYPED_ARRAY_SUPPORT)return new r(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;e<n;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var q=r.prototype;r._augment=function(t){return t.constructor=r,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=q.get,t.set=q.set,t.write=q.write,t.toString=q.toString,t.toLocaleString=q.toString,t.toJSON=q.toJSON,t.equals=q.equals,t.compare=q.compare,t.copy=q.copy,t.slice=q.slice,t.readUIntLE=q.readUIntLE,t.readUIntBE=q.readUIntBE,t.readUInt8=q.readUInt8,t.readUInt16LE=q.readUInt16LE,t.readUInt16BE=q.readUInt16BE,t.readUInt32LE=q.readUInt32LE,t.readUInt32BE=q.readUInt32BE,t.readIntLE=q.readIntLE,t.readIntBE=q.readIntBE,t.readInt8=q.readInt8,t.readInt16LE=q.readInt16LE,t.readInt16BE=q.readInt16BE,t.readInt32LE=q.readInt32LE,t.readInt32BE=q.readInt32BE,t.readFloatLE=q.readFloatLE,t.readFloatBE=q.readFloatBE,t.readDoubleLE=q.readDoubleLE,t.readDoubleBE=q.readDoubleBE,t.writeUInt8=q.writeUInt8,t.writeUIntLE=q.writeUIntLE,t.writeUIntBE=q.writeUIntBE,t.writeUInt16LE=q.writeUInt16LE,t.writeUInt16BE=q.writeUInt16BE,t.writeUInt32LE=q.writeUInt32LE,t.writeUInt32BE=q.writeUInt32BE,t.writeIntLE=q.writeIntLE,t.writeIntBE=q.writeIntBE,t.writeInt8=q.writeInt8,t.writeInt16LE=q.writeInt16LE,t.writeInt16BE=q.writeInt16BE,t.writeInt32LE=q.writeInt32LE,t.writeInt32BE=q.writeInt32BE,t.writeFloatLE=q.writeFloatLE,t.writeFloatBE=q.writeFloatBE,t.writeDoubleLE=q.writeDoubleLE,t.writeDoubleBE=q.writeDoubleBE,t.fill=q.fill,t.inspect=q.inspect,t.toArrayBuffer=q.toArrayBuffer,t};var B=/[^+\/0-9A-z\-]/g},{"base64-js":4,ieee754:5,"is-array":6}],4:[function(t,e,n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){function e(t){var e=t.charCodeAt(0);return e===s||e===f?62:e===a||e===h?63:e<u?-1:e<u+10?e-u+26+26:e<l+26?e-l:e<c+26?e-c+26:void 0}function n(t){function n(t){c[f++]=t}var r,i,s,a,u,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=t.length;u="="===t.charAt(l-2)?2:"="===t.charAt(l-1)?1:0,c=new o(3*t.length/4-u),s=u>0?t.length-4:t.length;var f=0;for(r=0,i=0;r<s;r+=4,i+=3)a=e(t.charAt(r))<<18|e(t.charAt(r+1))<<12|e(t.charAt(r+2))<<6|e(t.charAt(r+3)),n((16711680&a)>>16),n((65280&a)>>8),n(255&a);return 2===u?(a=e(t.charAt(r))<<2|e(t.charAt(r+1))>>4,n(255&a)):1===u&&(a=e(t.charAt(r))<<10|e(t.charAt(r+1))<<4|e(t.charAt(r+2))>>2,n(a>>8&255),n(255&a)),c}function i(t){function e(t){return r.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var i,o,s,a=t.length%3,u="";for(i=0,s=t.length-a;i<s;i+=3)o=(t[i]<<16)+(t[i+1]<<8)+t[i+2],u+=n(o);switch(a){case 1:o=t[t.length-1],u+=e(o>>2),u+=e(o<<4&63),u+="==";break;case 2:o=(t[t.length-2]<<8)+t[t.length-1],u+=e(o>>10),u+=e(o>>4&63),u+=e(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),a="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0),f="-".charCodeAt(0),h="_".charCodeAt(0);t.toByteArray=n,t.fromByteArray=i}("undefined"==typeof n?this.base64js={}:n)},{}],5:[function(t,e,n){n.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,d=t[e+f];for(f+=h,o=d&(1<<-l)-1,d>>=-l,l+=a;l>0;o=256*o+t[e+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+t[e+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},n.write=function(t,e,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+f>=1?h/u:h*Math.pow(2,1-f),e*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(e*u-1)*Math.pow(2,i),s+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*v}},{}],6:[function(t,e,n){var r=Array.isArray,i=Object.prototype.toString;e.exports=r||function(t){return!!t&&"[object Array]"==i.call(t)}},{}],7:[function(t,e,n){(function(n){function r(t){u.call(this),this._hash=t,this.buffers=[]}function i(t){u.call(this),this._hash=t}var o=t("sha.js"),s=t("./md5"),a=t("ripemd160"),u=t("stream").Transform,c=t("util").inherits;e.exports=function(t){return"md5"===t?new r(s):"rmd160"===t?new r(a):new i(o(t))},c(r,u),r.prototype._transform=function(t,e,n){this.buffers.push(t),n()},r.prototype._flush=function(t){var e=n.concat(this.buffers),r=this._hash(e);this.buffers=null,this.push(r),t()},r.prototype.update=function(t,e){return this.write(t,e),this},r.prototype.digest=function(t){this.end();for(var e,r=new n("");e=this.read();)r=n.concat([r,e]);return t&&(r=r.toString(t)),r},c(i,u),i.prototype._transform=function(t,e,n){this._hash.update(t),n()},i.prototype._flush=function(t){this.push(this._hash.digest()),this._hash=null,t()},i.prototype.update=function(t,e){return this.write(t,e),this},i.prototype.digest=function(t){this.end();for(var e,r=new n("");e=this.read();)r=n.concat([r,e]);return t&&(r=r.toString(t)),r}}).call(this,t("buffer").Buffer)},{"./md5":11,buffer:3,ripemd160:137,"sha.js":139,stream:163,util:166}],8:[function(t,e,n){(function(n){function r(t,e){if(!(this instanceof r))return new r(t,e);o.call(this),this._opad=c,this._alg=t;var s="sha512"===t||"sha384"===t?128:64;e=this._key=n.isBuffer(e)?e:new n(e),e.length>s?e=i(t).update(e).digest():e.length<s&&(e=n.concat([e,a],s));for(var u=this._ipad=new n(s),c=this._opad=new n(s),l=0;l<s;l++)u[l]=54^e[l],c[l]=92^e[l];this._hash=i(t).update(u)}var i=t("./create-hash"),o=t("stream").Transform,s=t("util").inherits,a=new n(128);a.fill(0),e.exports=r,s(r,o),r.prototype.update=function(t,e){return this.write(t,e),this},r.prototype._transform=function(t,e,n){this._hash.update(t),n()},r.prototype._flush=function(t){var e=this._hash.digest();this.push(i(this._alg).update(this._opad).update(e).digest()),t()},r.prototype.digest=function(t){this.end();for(var e,r=new n("");e=this.read();)r=n.concat([r,e]);return t&&(r=r.toString(t)),r}}).call(this,t("buffer").Buffer)},{"./create-hash":7,buffer:3,stream:163,util:166}],9:[function(t,e,n){(function(t){function n(e,n){if(e.length%o!==0){var r=e.length+(o-e.length%o);e=t.concat([e,s],r)}for(var i=[],a=n?e.readInt32BE:e.readInt32LE,u=0;u<e.length;u+=o)i.push(a.call(e,u));return i}function r(e,n,r){for(var i=new t(n),o=r?i.writeInt32BE:i.writeInt32LE,s=0;s<e.length;s++)o.call(i,e[s],4*s,!0);return i}function i(e,i,o,s){t.isBuffer(e)||(e=new t(e));var u=i(n(e,s),e.length*a);return r(u,o,s)}var o=4,s=new t(o);s.fill(0);var a=8;e.exports={hash:i}}).call(this,t("buffer").Buffer)},{buffer:3}],10:[function(t,e,n){function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function i(t,e){for(var n in t)e(t[n],n)}var o=n.rng=t("./rng"),s=n.prng=t("./prng");n.createHash=n.Hash=t("./create-hash"),n.createHmac=n.Hmac=t("./create-hmac"),n.randomBytes=function(t,e){if(!e||!e.call)return o(t);try{e.call(this,void 0,o(t))}catch(n){e(n)}},n.pseudoRandomBytes=function(t,e){if(!e||!e.call)return s(t);try{e.call(this,void 0,s(t))}catch(n){e(n)}};var a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(t("browserify-sign/algos")));n.getHashes=function(){return a};var u=t("./pbkdf2")(n);n.pbkdf2=u.pbkdf2,n.pbkdf2Sync=u.pbkdf2Sync,t("browserify-aes/inject")(n,e.exports),t("browserify-sign/inject")(e.exports,n),t("diffie-hellman/inject")(n,e.exports),
t("create-ecdh/inject")(e.exports,n),t("public-encrypt/inject")(e.exports,n),i(["createCredentials"],function(t){n[t]=function(){r("sorry,",t,"is not implemented yet")}})},{"./create-hash":7,"./create-hmac":8,"./pbkdf2":145,"./prng":146,"./rng":147,"browserify-aes/inject":19,"browserify-sign/algos":30,"browserify-sign/inject":31,"create-ecdh/inject":78,"diffie-hellman/inject":102,"public-encrypt/inject":109}],11:[function(t,e,n){function r(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,r=-271733879,i=-1732584194,l=271733878,f=0;f<t.length;f+=16){var h=n,d=r,p=i,v=l;n=o(n,r,i,l,t[f+0],7,-680876936),l=o(l,n,r,i,t[f+1],12,-389564586),i=o(i,l,n,r,t[f+2],17,606105819),r=o(r,i,l,n,t[f+3],22,-1044525330),n=o(n,r,i,l,t[f+4],7,-176418897),l=o(l,n,r,i,t[f+5],12,1200080426),i=o(i,l,n,r,t[f+6],17,-1473231341),r=o(r,i,l,n,t[f+7],22,-45705983),n=o(n,r,i,l,t[f+8],7,1770035416),l=o(l,n,r,i,t[f+9],12,-1958414417),i=o(i,l,n,r,t[f+10],17,-42063),r=o(r,i,l,n,t[f+11],22,-1990404162),n=o(n,r,i,l,t[f+12],7,1804603682),l=o(l,n,r,i,t[f+13],12,-40341101),i=o(i,l,n,r,t[f+14],17,-1502002290),r=o(r,i,l,n,t[f+15],22,1236535329),n=s(n,r,i,l,t[f+1],5,-165796510),l=s(l,n,r,i,t[f+6],9,-1069501632),i=s(i,l,n,r,t[f+11],14,643717713),r=s(r,i,l,n,t[f+0],20,-373897302),n=s(n,r,i,l,t[f+5],5,-701558691),l=s(l,n,r,i,t[f+10],9,38016083),i=s(i,l,n,r,t[f+15],14,-660478335),r=s(r,i,l,n,t[f+4],20,-405537848),n=s(n,r,i,l,t[f+9],5,568446438),l=s(l,n,r,i,t[f+14],9,-1019803690),i=s(i,l,n,r,t[f+3],14,-187363961),r=s(r,i,l,n,t[f+8],20,1163531501),n=s(n,r,i,l,t[f+13],5,-1444681467),l=s(l,n,r,i,t[f+2],9,-51403784),i=s(i,l,n,r,t[f+7],14,1735328473),r=s(r,i,l,n,t[f+12],20,-1926607734),n=a(n,r,i,l,t[f+5],4,-378558),l=a(l,n,r,i,t[f+8],11,-2022574463),i=a(i,l,n,r,t[f+11],16,1839030562),r=a(r,i,l,n,t[f+14],23,-35309556),n=a(n,r,i,l,t[f+1],4,-1530992060),l=a(l,n,r,i,t[f+4],11,1272893353),i=a(i,l,n,r,t[f+7],16,-155497632),r=a(r,i,l,n,t[f+10],23,-1094730640),n=a(n,r,i,l,t[f+13],4,681279174),l=a(l,n,r,i,t[f+0],11,-358537222),i=a(i,l,n,r,t[f+3],16,-722521979),r=a(r,i,l,n,t[f+6],23,76029189),n=a(n,r,i,l,t[f+9],4,-640364487),l=a(l,n,r,i,t[f+12],11,-421815835),i=a(i,l,n,r,t[f+15],16,530742520),r=a(r,i,l,n,t[f+2],23,-995338651),n=u(n,r,i,l,t[f+0],6,-198630844),l=u(l,n,r,i,t[f+7],10,1126891415),i=u(i,l,n,r,t[f+14],15,-1416354905),r=u(r,i,l,n,t[f+5],21,-57434055),n=u(n,r,i,l,t[f+12],6,1700485571),l=u(l,n,r,i,t[f+3],10,-1894986606),i=u(i,l,n,r,t[f+10],15,-1051523),r=u(r,i,l,n,t[f+1],21,-2054922799),n=u(n,r,i,l,t[f+8],6,1873313359),l=u(l,n,r,i,t[f+15],10,-30611744),i=u(i,l,n,r,t[f+6],15,-1560198380),r=u(r,i,l,n,t[f+13],21,1309151649),n=u(n,r,i,l,t[f+4],6,-145523070),l=u(l,n,r,i,t[f+11],10,-1120210379),i=u(i,l,n,r,t[f+2],15,718787259),r=u(r,i,l,n,t[f+9],21,-343485551),n=c(n,h),r=c(r,d),i=c(i,p),l=c(l,v)}return Array(n,r,i,l)}function i(t,e,n,r,i,o){return c(l(c(c(e,t),c(r,o)),i),n)}function o(t,e,n,r,o,s,a){return i(e&n|~e&r,t,e,o,s,a)}function s(t,e,n,r,o,s,a){return i(e&r|n&~r,t,e,o,s,a)}function a(t,e,n,r,o,s,a){return i(e^n^r,t,e,o,s,a)}function u(t,e,n,r,o,s,a){return i(n^(e|~r),t,e,o,s,a)}function c(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function l(t,e){return t<<e|t>>>32-e}var f=t("./helpers");e.exports=function(t){return f.hash(t,r,16)}},{"./helpers":9}],12:[function(t,e,n){(function(t){e.exports=function(e,n,r,i){r/=8,i=i||0;for(var o,s,a,u=0,c=0,l=new t(r),f=new t(i),h=0;;){if(o=e.createHash("md5"),h++>0&&o.update(s),o.update(n),s=o.digest(),a=0,r>0)for(;;){if(0===r)break;if(a===s.length)break;l[u++]=s[a],r--,a++}if(i>0&&a!==s.length)for(;;){if(0===i)break;if(a===s.length)break;f[c++]=s[a],i--,a++}if(0===r&&0===i)break}for(a=0;a<s.length;a++)s[a]=0;return{key:l,iv:f}}}).call(this,t("buffer").Buffer)},{buffer:3}],13:[function(t,e,n){(function(t){function e(t){var e,n;return e=t>a||t<0?(n=Math.abs(t)%a,t<0?a-n:n):t}function r(t){var e,n,r;for(e=n=0,r=t.length;0<=r?n<r:n>r;e=0<=r?++n:--n)t[e]=0;return!1}function i(){var t;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var e,n;for(n=[],t=e=0;e<4;t=++e)n.push([]);return n}(),this.INV_SUB_MIX=function(){var e,n;for(n=[],t=e=0;e<4;t=++e)n.push([]);return n}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function o(t){for(var e=t.length/4,n=new Array(e),r=-1;++r<e;)n[r]=t.readUInt32BE(4*r);return n}function s(t){this._key=o(t),this._doReset()}var a=Math.pow(2,32);i.prototype.init=function(){var t,e,n,r,i,o,s,a,u,c;for(t=function(){var t,n;for(n=[],e=t=0;t<256;e=++t)e<128?n.push(e<<1):n.push(e<<1^283);return n}(),i=0,u=0,e=c=0;c<256;e=++c)n=u^u<<1^u<<2^u<<3^u<<4,n=n>>>8^255&n^99,this.SBOX[i]=n,this.INV_SBOX[n]=i,o=t[i],s=t[o],a=t[s],r=257*t[n]^16843008*n,this.SUB_MIX[0][i]=r<<24|r>>>8,this.SUB_MIX[1][i]=r<<16|r>>>16,this.SUB_MIX[2][i]=r<<8|r>>>24,this.SUB_MIX[3][i]=r,r=16843009*a^65537*s^257*o^16843008*i,this.INV_SUB_MIX[0][n]=r<<24|r>>>8,this.INV_SUB_MIX[1][n]=r<<16|r>>>16,this.INV_SUB_MIX[2][n]=r<<8|r>>>24,this.INV_SUB_MIX[3][n]=r,0===i?i=u=1:(i=o^t[t[t[a^o]]],u^=t[t[u]]);return!0};var u=new i;s.blockSize=16,s.prototype.blockSize=s.blockSize,s.keySize=32,s.prototype.keySize=s.keySize,s.prototype._doReset=function(){var t,e,n,r,i,o,s,a;for(n=this._key,e=n.length,this._nRounds=e+6,i=4*(this._nRounds+1),this._keySchedule=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)this._keySchedule[r]=r<e?n[r]:(o=this._keySchedule[r-1],r%e===0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=u.RCON[r/e|0]<<24):e>6&&r%e===4?o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]:void 0,this._keySchedule[r-e]^o);for(this._invKeySchedule=[],t=a=0;0<=i?a<i:a>i;t=0<=i?++a:--a)r=i-t,o=this._keySchedule[r-(t%4?0:4)],this._invKeySchedule[t]=t<4||r<=4?o:u.INV_SUB_MIX[0][u.SBOX[o>>>24]]^u.INV_SUB_MIX[1][u.SBOX[o>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[o>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&o]];return!0},s.prototype.encryptBlock=function(e){e=o(new t(e));var n=this._doCryptBlock(e,this._keySchedule,u.SUB_MIX,u.SBOX),r=new t(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[1],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[3],12),r},s.prototype.decryptBlock=function(e){e=o(new t(e));var n=[e[3],e[1]];e[1]=n[0],e[3]=n[1];var r=this._doCryptBlock(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX),i=new t(16);return i.writeUInt32BE(r[0],0),i.writeUInt32BE(r[3],4),i.writeUInt32BE(r[2],8),i.writeUInt32BE(r[1],12),i},s.prototype.scrub=function(){r(this._keySchedule),r(this._invKeySchedule),r(this._key)},s.prototype._doCryptBlock=function(t,n,r,i){var o,s,a,u,c,l,f,h,d,p,v,m;for(a=t[0]^n[0],u=t[1]^n[1],c=t[2]^n[2],l=t[3]^n[3],o=4,s=v=1,m=this._nRounds;1<=m?v<m:v>m;s=1<=m?++v:--v)f=r[0][a>>>24]^r[1][u>>>16&255]^r[2][c>>>8&255]^r[3][255&l]^n[o++],h=r[0][u>>>24]^r[1][c>>>16&255]^r[2][l>>>8&255]^r[3][255&a]^n[o++],d=r[0][c>>>24]^r[1][l>>>16&255]^r[2][a>>>8&255]^r[3][255&u]^n[o++],p=r[0][l>>>24]^r[1][a>>>16&255]^r[2][u>>>8&255]^r[3][255&c]^n[o++],a=f,u=h,c=d,l=p;return f=(i[a>>>24]<<24|i[u>>>16&255]<<16|i[c>>>8&255]<<8|i[255&l])^n[o++],h=(i[u>>>24]<<24|i[c>>>16&255]<<16|i[l>>>8&255]<<8|i[255&a])^n[o++],d=(i[c>>>24]<<24|i[l>>>16&255]<<16|i[a>>>8&255]<<8|i[255&u])^n[o++],p=(i[l>>>24]<<24|i[a>>>16&255]<<16|i[u>>>8&255]<<8|i[255&c])^n[o++],[e(f),e(h),e(d),e(p)]},n.AES=s}).call(this,t("buffer").Buffer)},{buffer:3}],14:[function(t,e,n){(function(n){function r(t,e,i,a){if(!(this instanceof r))return new r(t,e,i);s.call(this),this._finID=n.concat([i,new n([0,0,0,1])]),i=n.concat([i,new n([0,0,0,2])]),this._cipher=new o.AES(e),this._prev=new n(i.length),this._cache=new n(""),this._secCache=new n(""),this._decrypt=a,this._alen=0,this._len=0,i.copy(this._prev),this._mode=t;var c=new n(4);c.fill(0),this._ghash=new u(this._cipher.encryptBlock(c)),this._authTag=null,this._called=!1}function i(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=-1;++i<r;)n+=t[i]^e[i];return n}var o=t("./aes"),s=t("./cipherBase"),a=t("inherits"),u=t("./ghash"),c=t("./xor");a(r,s),e.exports=r,r.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=new n(e),e.fill(0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r},r.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=c(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(i(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=t;this._cipher.scrub()},r.prototype.getAuthTag=function(){if(!this._decrypt&&n.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},r.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},r.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length}}).call(this,t("buffer").Buffer)},{"./aes":13,"./cipherBase":15,"./ghash":18,"./xor":29,buffer:3,inherits:149}],15:[function(t,e,n){(function(n){function r(){i.call(this)}var i=t("stream").Transform,o=t("inherits");e.exports=r,o(r,i),r.prototype.update=function(t,e,r){"string"==typeof t&&(t=new n(t,e));var i=this._update(t);return r&&(i=i.toString(r)),i},r.prototype._transform=function(t,e,n){this.push(this._update(t)),n()},r.prototype._flush=function(t){try{this.push(this._final())}catch(e){return t(e)}t()},r.prototype["final"]=function(t){var e=this._final()||new n("");return t&&(e=e.toString(t)),e}}).call(this,t("buffer").Buffer)},{buffer:3,inherits:149,stream:163}],16:[function(t,e,n){(function(n){function r(t,e,o){return this instanceof r?(a.call(this),this._cache=new i,this._last=void 0,this._cipher=new s.AES(e),this._prev=new n(o.length),o.copy(this._prev),this._mode=t,void(this._autopadding=!0)):new r(t,e,o)}function i(){return this instanceof i?void(this.cache=new n("")):new i}function o(t){for(var e=t[15],n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}var s=t("./aes"),a=t("./cipherBase"),u=t("inherits"),c=t("./modes"),l=t("./streamCipher"),f=t("./authCipher"),h=t("./EVP_BytesToKey");u(r,a),r.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),i.push(r);return n.concat(i)},r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){this._autopadding=!!t},i.prototype.add=function(t){this.cache=n.concat([this.cache,t])},i.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache};var d={ECB:t("./modes/ecb"),CBC:t("./modes/cbc"),CFB:t("./modes/cfb"),CFB8:t("./modes/cfb8"),CFB1:t("./modes/cfb1"),OFB:t("./modes/ofb"),CTR:t("./modes/ctr"),GCM:t("./modes/ctr")};e.exports=function(t){function e(t,e,i){var o=c[t.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new n(i)),"string"==typeof e&&(e=new n(e)),e.length!==o.key/8)throw new TypeError("invalid key length "+e.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new l(d[o.mode],e,i,(!0)):"auth"===o.type?new f(d[o.mode],e,i,(!0)):new r(d[o.mode],e,i)}function i(n,r){var i=c[n.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var o=h(t,r,i.key,i.iv);return e(n,o.key,o.iv)}return{createDecipher:i,createDecipheriv:e}}}).call(this,t("buffer").Buffer)},{"./EVP_BytesToKey":12,"./aes":13,"./authCipher":14,"./cipherBase":15,"./modes":20,"./modes/cbc":21,"./modes/cfb":22,"./modes/cfb1":23,"./modes/cfb8":24,"./modes/ctr":25,"./modes/ecb":26,"./modes/ofb":27,"./streamCipher":28,buffer:3,inherits:149}],17:[function(t,e,n){(function(n){function r(t,e,a){return this instanceof r?(s.call(this),this._cache=new i,this._cipher=new o.AES(e),this._prev=new n(a.length),a.copy(this._prev),this._mode=t,void(this._autopadding=!0)):new r(t,e,a)}function i(){return this instanceof i?void(this.cache=new n("")):new i}var o=t("./aes"),s=t("./cipherBase"),a=t("inherits"),u=t("./modes"),c=t("./EVP_BytesToKey"),l=t("./streamCipher"),f=t("./authCipher");a(r,s),r.prototype._update=function(t){this._cache.add(t);for(var e,r,i=[];e=this._cache.get();)r=this._mode.encrypt(this,e),i.push(r);return n.concat(i)},r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if("10101010101010101010101010101010"!==t.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){this._autopadding=!!t},i.prototype.add=function(t){this.cache=n.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,e=new n(t),r=-1;++r<t;)e.writeUInt8(t,r);var i=n.concat([this.cache,e]);return i};var h={ECB:t("./modes/ecb"),CBC:t("./modes/cbc"),CFB:t("./modes/cfb"),CFB8:t("./modes/cfb8"),CFB1:t("./modes/cfb1"),OFB:t("./modes/ofb"),CTR:t("./modes/ctr"),GCM:t("./modes/ctr")};e.exports=function(t){function e(t,e,i){var o=u[t.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new n(i)),"string"==typeof e&&(e=new n(e)),e.length!==o.key/8)throw new TypeError("invalid key length "+e.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new l(h[o.mode],e,i):"auth"===o.type?new f(h[o.mode],e,i):new r(h[o.mode],e,i)}function i(n,r){var i=u[n.toLowerCase()];if(!i)throw new TypeError("invalid suite type");var o=c(t,r,i.key,i.iv);return e(n,o.key,o.iv)}return{createCipher:i,createCipheriv:e}}}).call(this,t("buffer").Buffer)},{"./EVP_BytesToKey":12,"./aes":13,"./authCipher":14,"./cipherBase":15,"./modes":20,"./modes/cbc":21,"./modes/cfb":22,"./modes/cfb1":23,"./modes/cfb8":24,"./modes/ctr":25,"./modes/ecb":26,"./modes/ofb":27,"./streamCipher":28,buffer:3,inherits:149}],18:[function(t,e,n){(function(t){function n(e){this.h=e,this.state=new t(16),this.state.fill(0),this.cache=new t("")}function r(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function i(e){e=e.map(o);var n=new t(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n}function o(t){var e,n;return e=t>u||t<0?(n=Math.abs(t)%u,t<0?u-n:n):t}function s(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}var a=new t(16);a.fill(0),e.exports=n,n.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},n.prototype._multiply=function(){for(var t,e,n,o=r(this.h),a=[0,0,0,0],u=-1;++u<128;){for(e=0!==(this.state[~~(u/8)]&1<<7-u%8),e&&(a=s(a,o)),n=0!==(1&o[3]),t=3;t>0;t--)o[t]=o[t]>>>1|(1&o[t-1])<<31;o[0]=o[0]>>>1,n&&(o[0]=o[0]^225<<24)}this.state=i(a)},n.prototype.update=function(e){this.cache=t.concat([this.cache,e]);for(var n;this.cache.length>=16;)n=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(n)},n.prototype["final"]=function(e,n){return this.cache.length&&this.ghash(t.concat([this.cache,a],16)),this.ghash(i([0,e,0,n])),this.state};var u=Math.pow(2,32)}).call(this,t("buffer").Buffer)},{buffer:3}],19:[function(t,e,n){e.exports=function(e,n){function r(){return Object.keys(s)}n=n||{};var i=t("./encrypter")(e);n.createCipher=n.Cipher=i.createCipher,n.createCipheriv=n.Cipheriv=i.createCipheriv;var o=t("./decrypter")(e);n.createDecipher=n.Decipher=o.createDecipher,n.createDecipheriv=n.Decipheriv=o.createDecipheriv;var s=t("./modes");n.listCiphers=n.getCiphers=r}},{"./decrypter":16,"./encrypter":17,"./modes":20}],20:[function(t,e,n){n["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},n["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},n["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},n["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},n["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},n["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},n.aes128=n["aes-128-cbc"],n.aes192=n["aes-192-cbc"],n.aes256=n["aes-256-cbc"],n["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},n["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},n["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},n["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},n["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},n["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},n["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},n["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},n["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},n["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},n["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},n["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},n["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},n["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},n["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},n["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},n["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},n["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],21:[function(t,e,n){var r=t("../xor");n.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},n.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},{"../xor":29}],22:[function(t,e,n){(function(e){function r(t,n,r){var o=n.length,s=i(n,t._cache);return t._cache=t._cache.slice(o),t._prev=e.concat([t._prev,r?n:s]),s}var i=t("../xor");n.encrypt=function(t,n,i){for(var o,s=new e("");n.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=new e("")),!(t._cache.length<=n.length)){s=e.concat([s,r(t,n,i)]);break}o=t._cache.length,s=e.concat([s,r(t,n.slice(0,o),i)]),n=n.slice(o)}return s}}).call(this,t("buffer").Buffer)},{"../xor":29,buffer:3}],23:[function(t,e,n){(function(t){function e(t,e,n){for(var i,o,s,a=-1,u=8,c=0;++a<u;)i=t._cipher.encryptBlock(t._prev),o=e&1<<7-a?128:0,s=i[0]^o,c+=(128&s)>>a%8,t._prev=r(t._prev,n?o:s);return c}function r(e,n){var r=e.length,i=-1,o=new t(e.length);for(e=t.concat([e,new t([n])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}n.encrypt=function(n,r,i){for(var o=r.length,s=new t(o),a=-1;++a<o;)s[a]=e(n,r[a],i);return s}}).call(this,t("buffer").Buffer)},{buffer:3}],24:[function(t,e,n){(function(t){function e(e,n,r){var i=e._cipher.encryptBlock(e._prev),o=i[0]^n;return e._prev=t.concat([e._prev.slice(1),new t([r?n:o])]),o}n.encrypt=function(n,r,i){for(var o=r.length,s=new t(o),a=-1;++a<o;)s[a]=e(n,r[a],i);return s}}).call(this,t("buffer").Buffer)},{buffer:3}],25:[function(t,e,n){(function(e){function r(t){var e=t._cipher.encryptBlock(t._prev);return i(t._prev),e}function i(t){for(var e,n=t.length;n--;){if(e=t.readUInt8(n),255!==e){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}var o=t("../xor");n.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var i=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),o(n,i)}}).call(this,t("buffer").Buffer)},{"../xor":29,buffer:3}],26:[function(t,e,n){n.encrypt=function(t,e){return t._cipher.encryptBlock(e)},n.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},{}],27:[function(t,e,n){(function(e){function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=t("../xor");n.encrypt=function(t,n){for(;t._cache.length<n.length;)t._cache=e.concat([t._cache,r(t)]);var o=t._cache.slice(0,n.length);return t._cache=t._cache.slice(n.length),i(n,o)}}).call(this,t("buffer").Buffer)},{"../xor":29,buffer:3}],28:[function(t,e,n){(function(n){function r(t,e,s,a){return this instanceof r?(o.call(this),this._cipher=new i.AES(e),this._prev=new n(s.length),this._cache=new n(""),this._secCache=new n(""),this._decrypt=a,s.copy(this._prev),void(this._mode=t)):new r(t,e,s)}var i=t("./aes"),o=t("./cipherBase"),s=t("inherits");s(r,o),e.exports=r,r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()}}).call(this,t("buffer").Buffer)},{"./aes":13,"./cipherBase":15,buffer:3,inherits:149}],29:[function(t,e,n){(function(t){function n(e,n){for(var r=Math.min(e.length,n.length),i=new t(r),o=-1;++o<r;)i.writeUInt8(e[o]^n[o],o);return i}e.exports=n}).call(this,t("buffer").Buffer)},{buffer:3}],30:[function(t,e,n){(function(t){n["RSA-SHA224"]=n.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new t("302d300d06096086480165030402040500041c","hex")},n["RSA-SHA256"]=n.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new t("3031300d060960864801650304020105000420","hex")},n["RSA-SHA384"]=n.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new t("3041300d060960864801650304020205000430","hex")},n["RSA-SHA512"]=n.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new t("3051300d060960864801650304020305000440","hex")},n["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new t("3021300906052b0e03021a05000414","hex")},n["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new t("","hex")},n.DSA=n["DSA-SHA1"]=n["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new t("","hex")},n["RSA-RIPEMD160"]=n.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new t("3021300906052b2403020105000414","hex")},n["RSA-MD5"]=n.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new t("3020300c06082a864886f70d020505000410","hex")}}).call(this,t("buffer").Buffer)},{buffer:3}],31:[function(t,e,n){(function(n){function r(t,e){a.Writable.call(this);var n=c[t];if(!n)throw new Error("Unknown message digest");this._hash=e.createHash(n.hash),this._tag=n.id,this._crypto=e}function i(t,e){a.Writable.call(this);var n=c[t];if(!n)throw new Error("Unknown message digest");this._hash=e.createHash(n.hash),this._tag=n.id}var o=t("./sign"),s=t("./verify"),a=t("stream"),u=t("inherits"),c=t("./algos");e.exports=function(t,e){function n(t){return new r(t,e)}function o(t){return new i(t,e)}t.createSign=t.Sign=n,t.createVerify=t.Verify=o},u(r,a.Writable),r.prototype._write=function(t,e,n){this._hash.update(t),n()},r.prototype.update=function(t){return this.write(t),this},r.prototype.sign=function(t,e){this.end();var r=this._hash.digest(),i=o(n.concat([this._tag,r]),t,this._crypto);return e&&(i=i.toString(e)),i},u(i,a.Writable),i.prototype._write=function(t,e,n){this._hash.update(t),n()},i.prototype.update=function(t){return this.write(t),this},i.prototype.verify=function(t,e,r){this.end();var i=this._hash.digest();return n.isBuffer(e)||(e=new n(e,r)),s(e,n.concat([this._tag,i]),t)}}).call(this,t("buffer").Buffer)},{"./algos":30,"./sign":75,"./verify":76,buffer:3,inherits:149,stream:163}],32:[function(t,e,n){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,"le"!==e&&"be"!==e||(n=e,e=10),void(null!==t&&this._init(t||0,e||10,n||"be")))}function s(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function a(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function c(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function l(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function f(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function h(t){f.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.invm(this.m),this.minv=this.rinv.mul(this.r).sub(new o(1)).div(this.m).neg().mod(this.r)}"object"==typeof e&&(e.exports=o),o.BN=o,o.wordSize=26,o.prototype._init=function(t,e,n){if("number"==typeof t)return t<0&&(this.sign=!0,t=-t),void(t<67108864?(this.words=[67108863&t],this.length=1):(this.words=[67108863&t,t/67108864&67108863],this.length=2));if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var i=0;"-"===t[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.sign=!0),this.strip()},o.prototype._initArray=function(t,e,n){r("number"==typeof t.length),this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if("be"===n)for(var i=t.length-1,s=0;i>=0;i-=3){var a=t[i]|t[i-1]<<8|t[i-2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}else if("le"===n)for(var i=0,s=0;i<t.length;i+=3){var a=t[i]|t[i+1]<<8|t[i+2]<<16;this.words[s]|=a<<o&67108863,this.words[s+1]=a>>>26-o&67108863,o+=24,o>=26&&(o-=26,s++)}return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var r=0,n=t.length-6,i=0;n>=e;n-=6){var o=parseInt(t.slice(n,n+6),16);this.words[i]|=o<<r&67108863,this.words[i+1]|=o>>>26-r&4194303,r+=24,r>=26&&(r-=26,i++)}if(n+6!==e){var o=parseInt(t.slice(e,n+6),16);this.words[i]|=o<<r&67108863,this.words[i+1]|=o>>>26-r&4194303}this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,s=1,a=0,u=null,c=n;c<t.length;c++){var l,f=t[c];l=10===e||f<="9"?0|f:f>="a"?f.charCodeAt(0)-97+10:f.charCodeAt(0)-65+10,i*=e,i+=l,s*=e,a++,s>1048575&&(r(s<=67108863),u||(u=new o(s)),this.mul(u).copy(this),this.iadd(new o(i)),i=0,s=1,a=0)}0!==a&&(this.mul(new o(s)).copy(this),this.iadd(new o(i)))},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){if(t=t||10,16===t||"hex"===t){for(var n="",i=0,e=0|e||1,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,n=0!==o||s!==this.length-1?d[6-u.length]+u+n:u+n,i+=2,i>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return this.sign&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=p[t],l=v[t],n="",f=this.clone();for(f.sign=!1;0!==f.cmpn(0);){var h=f.modn(l).toString(t);f=f.idivn(l),n=0!==f.cmpn(0)?d[c-h.length]+h+n:h+n}return 0===this.cmpn(0)&&(n="0"+n),this.sign&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toArray=function(){this.strip();var t=new Array(this.byteLength());t[0]=0;for(var e=this.clone(),n=0;0!==e.cmpn(0);n++){var r=e.andln(255);e.ishrn(8),t[t.length-n-1]=r}return t},o.prototype._countBits=function(t){return t>=33554432?26:t>=16777216?25:t>=8388608?24:t>=4194304?23:t>=2097152?22:t>=1048576?21:t>=524288?20:t>=262144?19:t>=131072?18:t>=65536?17:t>=32768?16:t>=16384?15:t>=8192?14:t>=4096?13:t>=2048?12:t>=1024?11:t>=512?10:t>=256?9:t>=128?8:t>=64?7:t>=32?6:t>=16?5:t>=8?4:t>=4?3:t>=2?2:t>=1?1:0},o.prototype.bitLength=function(){var t=0,e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.byteLength=function(){this.words[this.length-1];return Math.ceil(this.bitLength()/8)},o.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},o.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var e=this.isub(t);return t.sign=!0,e._normSign()}var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++){var e=n.words[o]+r.words[o]+i;this.words[o]=67108863&e,i=e>>>26}for(;0!==i&&o<n.length;o++){var e=n.words[o]+i;this.words[o]=67108863&e,i=e>>>26}if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;var e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var n=this.cmp(t);if(0===n)return this.sign=!1,this.length=1,this.words[0]=0,this;if(n>0)var r=this,i=t;else var r=t,i=this;for(var o=0,s=0;s<i.length;s++){var e=r.words[s]-i.words[s]-o;e<0?(e+=67108864,o=1):o=0,this.words[s]=e}for(;0!==o&&s<r.length;s++){var e=r.words[s]-o;e<0?(e+=67108864,o=1):o=0,this.words[s]=e}if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.sign=!0),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)},o.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0;r<e.length-1;r++){for(var i=n>>>26,o=67108863&n,s=Math.min(r,t.length-1),a=Math.max(0,r-this.length+1);a<=s;a++){var u=r-a,c=0|this.words[u],l=0|t.words[a],f=c*l,h=67108863&f;i=i+(f/67108864|0)|0,h=h+o|0,o=67108863&h,i=i+(h>>>26)|0}e.words[r]=o,n=i}return 0!==n?e.words[r]=n:e.length--,e.strip()},o.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0,i=0;i<e.length-1;i++){var o=r;r=0;for(var s=67108863&n,a=Math.min(i,t.length-1),u=Math.max(0,i-this.length+1);u<=a;u++){var c=i-u,l=0|this.words[c],f=0|t.words[u],h=l*f,d=67108863&h;o=o+(h/67108864|0)|0,d=d+s|0,s=67108863&d,o=o+(d>>>26)|0,r+=o>>>26,o&=67108863}e.words[i]=s,n=o,o=r}return 0!==n?e.words[i]=n:e.length--,e.strip()},o.prototype.mulTo=function(t,e){
var n;return n=this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,n=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var r=this.length-2;r>=0;r--){for(var i=0,o=0,s=Math.min(r,n-1),a=Math.max(0,r-e+1);a<=s;a++){var u=r-a,c=this.words[u],l=t.words[a],f=c*l,h=67108863&f;i+=f/67108864|0,h+=o,o=67108863&h,i+=h>>>26}this.words[r]=o,this.words[r+1]+=i,i=0}for(var i=0,u=1;u<this.length;u++){var d=this.words[u]+i;this.words[u]=67108863&d,i=d>>>26}return this.strip()},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.mul(this)},o.prototype.ishln=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;this.clone();if(0!==e){for(var o=0,s=0;s<this.length;s++){var a=this.words[s]&i,u=this.words[s]-a<<e;this.words[s]=u|o,o=a>>>26-e}o&&(this.words[s]=o,this.length++)}if(0!==n){for(var s=this.length-1;s>=0;s--)this.words[s+n]=this.words[s];for(var s=0;s<n;s++)this.words[s]=0;this.length+=n}return this.strip()},o.prototype.ishrn=function(t,e,n){r("number"==typeof t&&t>=0),e=e?(e-e%26)/26:0;var i=t%26,o=Math.min((t-i)/26,this.length),s=67108863^67108863>>>i<<i,a=n;if(e-=o,e=Math.max(0,e),a){for(var u=0;u<o;u++)a.words[u]=this.words[u];a.length=o}if(0===o);else if(this.length>o){this.length-=o;for(var u=0;u<this.length;u++)this.words[u]=this.words[u+o]}else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=e);u--){var l=this.words[u];this.words[u]=c<<26-i|l>>>i,c=l&s}return a&&0!==c&&(a.words[a.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),n?{hi:this,lo:a}:this},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return!1;var o=this.words[n];return!!(o&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(!this.sign,"imaskn works only with positive numbers"),0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){if(r("number"==typeof t),t<0)return this.isubn(-t);if(this.sign)return 1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this);this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.sign=!1,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._wordDiv=function(t,e){for(var n=this.length-t.length,r=this.clone(),i=t,s="mod"!==e&&new o(0);r.length>i.length;){var a=67108864*r.words[r.length-1]+r.words[r.length-2],u=a/i.words[i.length-1],c=u/67108864|0,l=67108863&u;u=new o(null),u.words=[l,c],u.length=2;var n=26*(r.length-i.length-1);if(s){var f=u.shln(n);r.sign?s.isub(f):s.iadd(f)}u=u.mul(i).ishln(n),r.sign?r.iadd(u):r.isub(u)}for(;r.ucmp(i)>=0;){var a=r.words[r.length-1],u=new o(a/i.words[i.length-1]|0),n=26*(r.length-i.length);if(s){var f=u.shln(n);r.sign?s.isub(f):s.iadd(f)}u=u.mul(i).ishln(n),r.sign?r.iadd(u):r.isub(u)}return r.sign&&(s&&s.isubn(1),r.iadd(i)),{div:s?s:null,mod:r}},o.prototype.divmod=function(t,e){if(r(0!==t.cmpn(0)),this.sign&&!t.sign){var n,i,s=this.neg().divmod(t,e);return"mod"!==e&&(n=s.div.neg()),"div"!==e&&(i=0===s.mod.cmpn(0)?s.mod:t.sub(s.mod)),{div:n,mod:i}}if(!this.sign&&t.sign){var n,s=this.divmod(t.neg(),e);return"mod"!==e&&(n=s.div.neg()),{div:n,mod:s.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div").div},o.prototype.mod=function(t){return this.divmod(t,"mod").mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var n=e.div.sign?e.mod.isub(t):e.mod,r=t.shrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+this.words[i])%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=this.words[n]+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype._egcd=function(t,e){r(!e.sign),r(0!==e.cmpn(0));var n=this,i=e.clone();n=n.sign?n.mod(e):n.clone();for(var s=new o(0);i.isEven();)i.ishrn(1);for(var a=i.clone();n.cmpn(1)>0&&i.cmpn(1)>0;){for(;n.isEven();)n.ishrn(1),t.isEven()?t.ishrn(1):t.iadd(a).ishrn(1);for(;i.isEven();)i.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(a).ishrn(1);n.cmp(i)>=0?(n.isub(i),t.isub(s)):(i.isub(n),s.isub(t))}return 0===n.cmpn(1)?t:s},o.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),n=t.clone();e.sign=!1,n.sign=!1;for(var r=0;e.isEven()&&n.isEven();r++)e.ishrn(1),n.ishrn(1);for(;e.isEven();)e.ishrn(1);do{for(;n.isEven();)n.ishrn(1);if(e.cmp(n)<0){var i=e;e=n,n=i}e.isub(e.div(n).mul(n))}while(0!==e.cmpn(0)&&0!==n.cmpn(0));return 0===e.cmpn(0)?n.ishln(r):e.ishln(r)},o.prototype.invm=function(t){return this._egcd(new o(1),t).mod(t)},o.prototype.isEven=function(t){return 0===(1&this.words[0])},o.prototype.isOdd=function(t){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n){for(var o=this.length;o<n+1;o++)this.words[o]=0;return this.words[n]|=i,this.length=n+1,this}for(var s=i,o=n;0!==s&&o<this.length;o++){var a=this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},o.prototype.cmpn=function(t){var e=t<0;if(e&&(t=-t),this.sign&&!e)return-1;if(!this.sign&&e)return 1;t&=67108863,this.strip();var n;if(this.length>1)n=1;else{var r=this.words[0];n=r===t?0:r<t?-1:1}return this.sign&&(n=-n),n},o.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=this.words[n],i=t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.red=function(t){return new f(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};s.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},s.prototype.ireduce=function(t){var e,n=t;do{var r=n.ishrn(this.n,0,this.tmp);n=this.imulK(r.hi),n=n.iadd(r.lo),e=n.bitLength()}while(e>this.n);var i=e<this.n?-1:n.cmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},s.prototype.imulK=function(t){return t.imul(this.k)},i(a,s),a.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0,r=0,i=0;i<t.length;i++){var o=t.words[i];n+=64*o,r+=977*o,n+=r/67108864|0,e+=n/67108864|0,n&=67108863,r&=67108863,t.words[i]=r,r=n,n=e,e=0}return 0===t.words[t.length-1]&&t.length--,0===t.words[t.length-1]&&t.length--,t},i(u,s),i(c,s),i(l,s),l.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*t.words[n]+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function g(t){if(m[t])return m[t];var g;if("k256"===t)g=new a;else if("p224"===t)g=new u;else if("p192"===t)g=new c;else{if("p25519"!==t)throw new Error("Unknown prime "+t);g=new l}return m[t]=g,g},f.prototype._verify1=function(t){r(!t.sign,"red works only with positives"),r(t.red,"red works only with red numbers")},f.prototype._verify2=function(t,e){r(!t.sign&&!e.sign,"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},f.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},f.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},f.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},f.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},f.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},f.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},f.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},f.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},f.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},f.prototype.isqr=function(t){return this.imul(t,t)},f.prototype.sqr=function(t){return this.mul(t,t)},f.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).ishrn(2),i=this.pow(t,n);return i}for(var s=this.m.subn(1),a=0;0!==s.cmpn(0)&&0===s.andln(1);)a++,s.ishrn(1);r(0!==s.cmpn(0));var u=new o(1).toRed(this),c=u.redNeg(),l=this.m.subn(1).ishrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,l).cmp(c);)f.redIAdd(c);for(var h=this.pow(f,s),i=this.pow(t,s.addn(1).ishrn(1)),d=this.pow(t,s),p=a;0!==d.cmp(u);){for(var v=d,m=0;0!==v.cmp(u);m++)v=v.redSqr();r(m<p);var g=this.pow(h,new o(1).ishln(p-m-1));i=i.redMul(g),h=g.redSqr(),d=d.redMul(h),p=m}return i},f.prototype.invm=function(t){var e=t._egcd(new o(1),this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},f.prototype.pow=function(t,e){for(var n=[],r=e.clone();0!==r.cmpn(0);)n.push(r.andln(1)),r.ishrn(1);for(var i=t,o=0;o<n.length&&0===n[o];o++,i=this.sqr(i));if(++o<n.length)for(var r=this.sqr(i);o<n.length;o++,r=this.sqr(r))0!==n[o]&&(i=this.mul(i,r));return i},f.prototype.convertTo=function(t){return t.clone()},f.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new h(t)},i(h,f),h.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},h.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},h.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},h.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).ishrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},h.prototype.invm=function(t){var e=this.imod(t.invm(this.m).mul(this.r2));return e._forceRed(this)}},{}],33:[function(t,e,n){(function(n){function r(t,e){var n=o(t,e),r=n.toRed(s.mont(t.modulus)).redPow(new s(t.publicExponent)).fromRed();return{blinder:r,unblinder:n.invm(t.modulus)}}function i(t,e,i){var o=r(e,i),a=e.modulus.byteLength(),u=(s.mont(e.modulus),new s(t).mul(o.blinder).mod(e.modulus)),c=u.toRed(s.mont(e.prime1)),l=u.toRed(s.mont(e.prime2)),f=e.coefficient,h=e.prime1,d=e.prime2,p=c.redPow(e.exponent1),v=l.redPow(e.exponent2);p=p.fromRed(),v=v.fromRed();var m=p.isub(v).imul(f).mod(h);m.imul(d),v.iadd(m);var g=new n(v.imul(o.unblinder).mod(e.modulus).toArray());if(g.length<a){var b=new n(a-g.length);b.fill(0),g=n.concat([b,g],a)}return g}function o(t,e){for(var n=t.modulus.byteLength(),r=new s(e.randomBytes(n));r.cmp(t.modulus)>=0||!r.mod(t.prime1)||!r.mod(t.prime2);)r=new s(e.randomBytes(n));return r}var s=t("bn.js");e.exports=i,i.getr=o}).call(this,t("buffer").Buffer)},{"bn.js":34,buffer:3}],34:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],35:[function(t,e,n){var r=n;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.hmacDRBG=t("./elliptic/hmac-drbg"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec")},{"../package.json":54,"./elliptic/curve":38,"./elliptic/curves":41,"./elliptic/ec":42,"./elliptic/hmac-drbg":45,"./elliptic/utils":46,brorand:47}],36:[function(t,e,n){function r(t,e){this.type=t,this.p=new s(e.p,16),this.red=e.prime?s.red(e.prime):s.mont(this.p),this.zero=new s(0).toRed(this.red),this.one=new s(1).toRed(this.red),this.two=new s(2).toRed(this.red),this.n=e.n&&new s(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function i(t,e){this.curve=t,this.type=e,this.precomputed=null}var o=t("assert"),s=t("bn.js"),a=t("../../elliptic"),u=a.utils.getNAF,c=a.utils.getJSF;e.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(t){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(t,e){var n=t._getDoubles(),r=u(e,1),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var o=[],s=0;s<r.length;s+=n.step){for(var a=0,e=s+n.step-1;e>=s;e--)a=(a<<1)+r[e];o.push(a)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),f=i;f>0;f--){for(var s=0;s<o.length;s++){var a=o[s];a===f?l=l.mixedAdd(n.points[s]):a===-f&&(l=l.mixedAdd(n.points[s].neg()))}c=c.add(l)}return c.toP()},r.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,s=u(e,n),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var e=0;c>=0&&0===s[c];c--)e++;if(c>=0&&e++,a=a.dblp(e),c<0)break;var l=s[c];o(0!==l),a="affine"===t.type?l>0?a.mixedAdd(i[l-1>>1]):a.mixedAdd(i[-l-1>>1].neg()):l>0?a.add(i[l-1>>1]):a.add(i[-l-1>>1].neg())}return"affine"===t.type?a.toP():a},r.prototype._wnafMulAdd=function(t,e,n,r){for(var i=this._wnafT1,o=this._wnafT2,s=this._wnafT3,a=0,l=0;l<r;l++){var f=e[l],h=f._getNAFPoints(t);i[l]=h.wnd,o[l]=h.points}for(var l=r-1;l>=1;l-=2){var d=l-1,p=l;if(1===i[d]&&1===i[p]){var v=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(v[1]=e[d].add(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].add(e[p].neg())):(v[1]=e[d].toJ().mixedAdd(e[p]),v[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=c(n[d],n[p]);a=Math.max(g[0].length,a),s[d]=new Array(a),s[p]=new Array(a);for(var b=0;b<a;b++){var y=0|g[0][b],_=0|g[1][b];s[d][b]=m[3*(y+1)+(_+1)],s[p][b]=0,o[d]=v}}else s[d]=u(n[d],i[d]),s[p]=u(n[p],i[p]),a=Math.max(s[d].length,a),a=Math.max(s[p].length,a)}for(var w=this.jpoint(null,null,null),S=this._wnafT4,l=a;l>=0;l--){for(var x=0;l>=0;){for(var E=!0,b=0;b<r;b++)S[b]=0|s[b][l],0!==S[b]&&(E=!1);if(!E)break;x++,l--}if(l>=0&&x++,w=w.dblp(x),l<0)break;for(var b=0;b<r;b++){var f,C=S[b];0!==C&&(C>0?f=o[b][C-1>>1]:C<0&&(f=o[b][-C-1>>1].neg()),w="affine"===f.type?w.mixedAdd(f):w.add(f))}}for(var l=0;l<r;l++)o[l]=null;return w.toP()},r.BasePoint=i,i.prototype.validate=function(){return this.curve.validate(this)},i.prototype.precompute=function(t,e){if(this.precomputed)return this;var n={doubles:null,naf:null,beta:null};return n.naf=this._getNAFPoints(8),n.doubles=this._getDoubles(4,t),n.beta=this._getBeta(),this.precomputed=n,this},i.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},i.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},{"../../elliptic":35,assert:1,"bn.js":32}],37:[function(t,e,n){function r(t){this.twisted=1!=t.a,this.mOneA=this.twisted&&t.a==-1,this.extended=this.mOneA,l.call(this,"mont",t),this.a=new u(t.a,16).mod(this.red.m).toRed(this.red),this.c=new u(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new u(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==t.c}function i(t,e,n,r,i){l.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new u(e,16),this.y=new u(n,16),this.z=r?new u(r,16):this.curve.one,this.t=i&&new u(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=t("assert"),s=t("../curve"),a=t("../../elliptic"),u=t("bn.js"),c=t("inherits"),l=s.base;a.utils.getNAF;c(r,l),e.exports=r,r.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},r.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},r.prototype.point=function(t,e,n,r){return new i(this,t,e,n,r)},r.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},r.prototype.pointFromX=function(t,e){e=new u(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()).redSqrt(),a=o.fromRed().isOdd();return(t&&!a||!t&&a)&&(o=o.redNeg()),this.point(e,o,s.one)},r.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},c(i,l.BasePoint),i.fromJSON=function(t,e){return new i(t,e[0],e[1],e[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},i.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),s=o.redSub(n),a=r.redSub(e),u=i.redMul(s),c=o.redMul(a),l=i.redMul(a),f=s.redMul(o);return this.curve.point(u,c,f,l)},i.prototype._projDbl=function(){var t=this.x.redAdd(this.y).redSqr(),e=this.x.redSqr(),n=this.y.redSqr();if(this.curve.twisted){var r=this.curve._mulA(e),i=r.redAdd(n);if(this.zOne)var o=t.redSub(e).redSub(n).redMul(i.redSub(this.curve.two)),s=i.redMul(r.redSub(n)),a=i.redSqr().redSub(i).redSub(i);else var u=this.z.redSqr(),c=i.redSub(u).redISub(u),o=t.redSub(e).redISub(n).redMul(c),s=i.redMul(r.redSub(n)),a=i.redMul(c)}else var r=e.redAdd(n),u=this.curve._mulC(redMul(this.z)).redSqr(),c=r.redSub(u).redSub(u),o=this.curve._mulC(t.redISub(r)).redMul(c),s=this.curve._mulC(r).redMul(e.redISub(n)),a=r.redMul(c);return this.curve.point(o,s,a)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),s=i.redSub(r),a=i.redAdd(r),u=n.redAdd(e),c=o.redMul(s),l=a.redMul(u),f=o.redMul(u),h=s.redMul(a);return this.curve.point(c,l,h,f)},i.prototype._projAdd=function(t){var e=this.z.redMul(t.z),n=e.redSqr(),r=this.x.redMul(t.x),i=this.y.redMul(t.y),o=this.curve.d.redMul(r).redMul(i),s=n.redSub(o),a=n.redAdd(o),u=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(r).redISub(i),c=e.redMul(s).redMul(u);if(this.curve.twisted)var l=e.redMul(a).redMul(i.redSub(this.curve._mulA(r))),f=s.redMul(a);else var l=e.redMul(a).redMul(i.redSub(r)),f=this.curve._mulC(s).redMul(a);return this.curve.point(c,l,f)},i.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},i.prototype.mul=function(t){return this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2)},i.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},{"../../elliptic":35,"../curve":38,assert:1,"bn.js":32,inherits:149}],38:[function(t,e,n){var r=n;r.base=t("./base"),r["short"]=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":36,"./edwards":37,"./mont":39,"./short":40}],39:[function(t,e,n){function r(t){c.call(this,"mont",t),this.a=new a(t.a,16).toRed(this.red),this.b=new a(t.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(t,e,n){c.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(e,16),this.z=new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=(t("assert"),t("../curve")),s=t("../../elliptic"),a=t("bn.js"),u=t("inherits"),c=o.base;s.utils.getNAF;u(r,c),e.exports=r,r.prototype.point=function(t,e){return new i(this,t,e)},r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},r.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e),i=r.redSqrt();return 0===i.redSqr().cmp(r)},u(i,c.BasePoint),i.prototype.precompute=function(){},i.fromJSON=function(t,e){return new i(t,e[0],e[1]||t.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var t=this.x.redAdd(this.z),e=t.redSqr(),n=this.x.redSub(this.z),r=n.redSqr(),i=e.redSub(r),o=e.redMul(r),s=i.redMul(r.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,s)},i.prototype.add=function(t){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z),s=o.redMul(n),a=i.redMul(r),u=e.z.redMul(s.redAdd(a).redSqr()),c=e.x.redMul(s.redISub(a).redSqr());return this.curve.point(u,c)},i.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=this,o=[];0!==e.cmpn(0);e.ishrn(1))o.push(e.andln(1));for(var s=o.length-1;s>=0;s--)0===o[s]?(n=n.diffAdd(r,i),r=r.dbl()):(r=n.diffAdd(r,i),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":35,"../curve":38,assert:1,"bn.js":32,inherits:149}],40:[function(t,e,n){function r(t){f.call(this,"short",t),this.a=new c(t.a,16).toRed(this.red),this.b=new c(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(t,e,n,r){f.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new c(e,16),this.y=new c(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(t,e,n,r){f.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new c(0)):(this.x=new c(e,16),this.y=new c(n,16),this.z=new c(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var s=t("assert"),a=t("../curve"),u=t("../../elliptic"),c=t("bn.js"),l=t("inherits"),f=a.base;u.utils.getNAF;l(r,f),e.exports=r,r.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new c(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=r[0].cmp(r[1])<0?r[0]:r[1],e=e.toRed(this.red)}if(t.lambda)n=new c(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?n=i[0]:(n=i[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}var o;return o=t.basis?t.basis.map(function(t){return{a:new c(t.a,16),b:new c(t.b,16)}}):this._getEndoBasis(n),{beta:e,lambda:n,basis:o}}},r.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:c.mont(t),n=new c(2).toRed(e).redInvm(),r=n.redNeg(),i=(new c(1).toRed(e),new c(3).toRed(e).redNeg().redSqrt().redMul(n)),o=r.redAdd(i).fromRed(),s=r.redSub(i).fromRed();return[o,s]},r.prototype._getEndoBasis=function(t){for(var e,n,r,i,o,s,a,u=this.n.shrn(Math.floor(this.n.bitLength()/2)),l=t,f=this.n.clone(),h=new c(1),d=new c(0),p=new c(0),v=new c(1),m=0;0!==l.cmpn(0);){var g=f.div(l),b=f.sub(g.mul(l)),y=p.sub(g.mul(h)),_=v.sub(g.mul(d));if(!r&&b.cmp(u)<0)e=a.neg(),n=h,r=b.neg(),i=y;else if(r&&2===++m)break;a=b,f=l,l=b,p=h,h=y,v=d,d=_}o=b.neg(),s=y;var w=r.sqr().add(i.sqr()),S=o.sqr().add(s.sqr());return S.cmp(w)>=0&&(o=e,s=n),r.sign&&(r=r.neg(),i=i.neg()),o.sign&&(o=o.neg(),s=s.neg()),[{a:r,b:i},{a:o,b:s}]},r.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),s=i.mul(n.a),a=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b),l=t.sub(s).sub(a),f=u.add(c).neg();return{k1:l,k2:f}},r.prototype.point=function(t,e,n){return new i(this,t,e,n)},r.prototype.pointFromX=function(t,e){e=new c(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt(),i=r.fromRed().isOdd();return(t&&!i||!t&&i)&&(r=r.redNeg()),this.point(e,r)},r.prototype.jpoint=function(t,e,n){return new o(this,t,e,n)},r.prototype.pointFromJSON=function(t,e){return i.fromJSON(this,t,e)},r.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(t,e){for(var n=this._endoWnafT1,r=this._endoWnafT2,i=0;i<t.length;i++){var o=this._endoSplit(e[i]),s=t[i],a=s._getBeta();o.k1.sign&&(o.k1.sign=!o.k1.sign,s=s.neg(!0)),o.k2.sign&&(o.k2.sign=!o.k2.sign,a=a.neg(!0)),n[2*i]=s,n[2*i+1]=a,r[2*i]=o.k1,r[2*i+1]=o.k2}for(var u=this._wnafMulAdd(1,n,r,2*i),c=0;c<2*i;c++)n[c]=null,r[c]=null;return u},l(i,f.BasePoint),i.prototype._getBeta=function(){function t(t){return r.point(t.x.redMul(r.endo.beta),t.y)}if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var n=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve;e.beta=n,n.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(t)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(t)}}}return n}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(t,e,n){function r(e){return t.point(e[0],e[1],n)}"string"==typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);
if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(t){return t=new c(t,16),this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},i.prototype.neg=function(t){function e(t){return t.neg()}if(this.inf)return this;var n=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed;n.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(e)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(e)}}}return n},i.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var t=this.curve.jpoint(this.x,this.y,this.curve.one);return t},l(o,f.BasePoint),o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),s=t.y.redMul(n.redMul(this.z)),a=r.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),l=c.redMul(a),f=r.redMul(c),h=u.redSqr().redIAdd(l).redISub(f).redISub(f),d=u.redMul(f.redISub(h)).redISub(o.redMul(l)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(h,d,p)},o.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),s=n.redSub(r),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),l=n.redMul(u),f=a.redSqr().redIAdd(c).redISub(l).redISub(l),h=a.redMul(l.redISub(f)).redISub(i.redMul(c)),d=this.z.redMul(s);return this.curve.jpoint(f,h,d)},o.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}for(var r=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s),n=0;n<t;n++){var l=o.redSqr(),f=c.redSqr(),h=f.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(u)),p=o.redMul(f),v=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=d.redMul(m);g=g.redIAdd(g).redISub(h);var b=c.redMul(a);n+1<t&&(u=u.redMul(h)),o=v,a=b,c=g}return this.curve.jpoint(o,c.redMul(i),a)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){if(this.zOne){var t=this.x.redSqr(),e=this.y.redSqr(),n=e.redSqr(),r=this.x.redAdd(e).redSqr().redISub(t).redISub(n);r=r.redIAdd(r);var i=t.redAdd(t).redIAdd(t),o=i.redSqr().redISub(r).redISub(r),s=n.redIAdd(n);s=s.redIAdd(s),s=s.redIAdd(s);var a=o,u=i.redMul(r.redISub(o)).redISub(s),c=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),h=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(l).redISub(h);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),v=p.redSqr(),m=h.redIAdd(h);m=m.redIAdd(m),m=m.redIAdd(m);var a=v.redISub(d).redISub(d),u=p.redMul(d.redISub(a)).redISub(m),c=this.y.redMul(this.z);c=c.redIAdd(c)}return this.curve.jpoint(a,u,c)},o.prototype._threeDbl=function(){if(this.zOne){var t=this.x.redSqr(),e=this.y.redSqr(),n=e.redSqr(),r=this.x.redAdd(e).redSqr().redISub(t).redISub(n);r=r.redIAdd(r);var i=t.redAdd(t).redIAdd(t).redIAdd(this.curve.a),o=i.redSqr().redISub(r).redISub(r),s=o,a=n.redIAdd(n);a=a.redIAdd(a),a=a.redIAdd(a);var u=i.redMul(r.redISub(o)).redISub(a),c=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),h=this.x.redMul(f),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h);p=p.redIAdd(p);var v=p.redAdd(p),s=d.redSqr().redISub(v),c=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l),m=f.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var u=d.redMul(p.redISub(s)).redISub(m)}return this.curve.jpoint(s,u,c)},o.prototype._dbl=function(){var t=this.curve.a,e=(this.curve.tinv,this.x),n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),s=n.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e);u=u.redIAdd(u);var c=u.redMul(s),l=a.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),h=s.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=a.redMul(f).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,d,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),s=this.x.redAdd(e).redSqr().redISub(t).redISub(r);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(o);var a=s.redSqr(),u=r.redIAdd(r);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),l=e.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var f=this.x.redMul(a).redISub(l);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(n).redISub(a);return this.curve.jpoint(f,h,d)},o.prototype.mul=function(t,e){return t=new c(t,e),this.curve._wnafMul(this,t)},o.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":35,"../curve":38,assert:1,"bn.js":32,inherits:149}],41:[function(t,e,n){function r(t){"short"===t.type?this.curve=new u.curve["short"](t):"edwards"===t.type?this.curve=new u.curve.edwards(t):this.curve=new u.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(t,e){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){var n=new r(e);return Object.defineProperty(o,t,{configurable:!0,enumerable:!0,value:n}),n}})}var o=n,s=t("assert"),a=t("hash.js"),u=(t("bn.js"),t("../elliptic"));o.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}]})},{"../elliptic":35,assert:1,"bn.js":32,"hash.js":48}],42:[function(t,e,n){function r(t){return this instanceof r?("string"==typeof t&&(i(s.curves.hasOwnProperty(t),"Unknown curve "+t),t=s.curves[t]),t instanceof s.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.shrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),void(this.hash=t.hash||t.curve.hash)):new r(t)}var i=t("assert"),o=t("bn.js"),s=t("../../elliptic"),a=(s.utils,t("./key")),u=t("./signature");e.exports=r,r.prototype.keyPair=function(t,e){return new a(this,t,e)},r.prototype.genKeyPair=function(t){t||(t={});for(var e=new s.hmacDRBG({hash:this.hash,pers:t.pers,entropy:t.entropy||s.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new o(2));;){var i=new o(e.generate(n));if(!(i.cmp(r)>0))return i.iaddn(1),this.keyPair(i)}},r.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.shrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},r.prototype.sign=function(t,e,n){e=this.keyPair(e,"hex"),t=this._truncateToN(new o(t,16)),n||(n={});for(var r=this.n.byteLength(),i=e.getPrivate().toArray(),a=i.length;a<21;a++)i.unshift(0);for(var c=t.toArray(),a=c.length;a<r;a++)c.unshift(0);for(var l=new s.hmacDRBG({hash:this.hash,entropy:i,nonce:c}),f=this.n.sub(new o(1));;){var h=new o(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(f)>=0)){var d=this.g.mul(h);if(!d.isInfinity()){var p=d.getX().mod(this.n);if(0!==p.cmpn(0)){var v=h.invm(this.n).mul(p.mul(e.getPrivate()).iadd(t)).mod(this.n);if(0!==v.cmpn(0))return n.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v)),new u(p,v)}}}}},r.prototype.verify=function(t,e,n){t=this._truncateToN(new o(t,16)),n=this.keyPair(n,"hex"),e=new u(e,"hex");var r=e.r,i=e.s;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var s=i.invm(this.n),a=s.mul(t).mod(this.n),c=s.mul(r).mod(this.n),l=this.g.mulAdd(a,n.getPublic(),c);return!l.isInfinity()&&0===l.getX().mod(this.n).cmp(r)}},{"../../elliptic":35,"./key":43,"./signature":44,assert:1,"bn.js":32}],43:[function(t,e,n){function r(t,e,n){return e instanceof r?e:n instanceof r?n:(e||(e=n,n=null),null!==e&&"object"==typeof e&&(e.x?(n=e,e=null):(e.priv||e.pub)&&(n=e.pub,e=e.priv)),this.ec=t,this.priv=null,this.pub=null,void(this._importPublicHex(e,n)||("hex"===n&&(n=null),e&&this._importPrivate(e),n&&this._importPublic(n))))}var i=(t("assert"),t("bn.js")),o=t("../../elliptic"),s=o.utils;e.exports=r,r.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(t,e){if(this.pub||(this.pub=this.ec.g.mul(this.priv)),"string"==typeof t&&(e=t,t=null),!e)return this.pub;for(var n=this.ec.curve.p.byteLength(),r=this.pub.getX().toArray(),i=r.length;i<n;i++)r.unshift(0);if(t)var o=[this.pub.getY().isEven()?2:3].concat(r);else{for(var a=this.pub.getY().toArray(),i=a.length;i<n;i++)a.unshift(0);var o=[4].concat(r,a)}return s.encode(o,e)},r.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(t){this.priv=new i(t,16),this.priv=this.priv.mod(this.ec.curve.n)},r.prototype._importPublic=function(t){this.pub=this.ec.curve.point(t.x,t.y)},r.prototype._importPublicHex=function(t,e){t=s.toArray(t,e);var n=this.ec.curve.p.byteLength();if(4===t[0]&&t.length-1===2*n)this.pub=this.ec.curve.point(t.slice(1,1+n),t.slice(1+n,1+2*n));else{if(2!==t[0]&&3!==t[0]||t.length-1!==n)return!1;this.pub=this.ec.curve.pointFromX(3===t[0],t.slice(1,1+n))}return!0},r.prototype.derive=function(t){return t.mul(this.priv).getX()},r.prototype.sign=function(t){return this.ec.sign(t,this)},r.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":35,assert:1,"bn.js":32}],44:[function(t,e,n){function r(t,e){return t instanceof r?t:void(this._importDER(t,e)||(i(t&&e,"Signature without r or s"),this.r=new o(t,16),this.s=new o(e,16)))}var i=t("assert"),o=t("bn.js"),s=t("../../elliptic"),a=s.utils;e.exports=r,r.prototype._importDER=function(t,e){if(t=a.toArray(t,e),t.length<6||48!==t[0]||2!==t[2])return!1;var n=t[1];if(1+n>t.length)return!1;var r=t[3];if(r>=128)return!1;if(4+r+2>=t.length)return!1;if(2!==t[4+r])return!1;var i=t[5+r];return!(i>=128)&&(!(4+r+2+i>t.length)&&(this.r=new o(t.slice(4,4+r)),this.s=new o(t.slice(4+r+2,4+r+2+i)),!0))},r.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n));var r=e.length+n.length+4,i=[48,r,2,e.length];return i=i.concat(e,[2,n.length],n),a.encode(i,t)}},{"../../elliptic":35,assert:1,"bn.js":32}],45:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=a.toArray(t.entropy,t.entropyEnc),n=a.toArray(t.nonce,t.nonceEnc),o=a.toArray(t.pers,t.persEnc);i(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,o)}var i=t("assert"),o=t("hash.js"),s=t("../elliptic"),a=s.utils;e.exports=r,r.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this.reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new o.hmac(this.hash,this.K)},r.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(t,e,n,r){"string"!=typeof e&&(r=n,n=e,e=null),t=a.toBuffer(t,e),n=a.toBuffer(n,r),i(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this.reseed=1},r.prototype.generate=function(t,e,n,r){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(r=n,n=e,e=null),n&&(n=a.toArray(n,r),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var o=i.slice(0,t);return this._update(n),this.reseed++,a.encode(o,e)}},{"../elliptic":35,assert:1,"hash.js":48}],46:[function(t,e,n){function r(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e){t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!==0&&(t="0"+t);for(var r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}else for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}function i(t){for(var e="",n=0;n<t.length;n++)e+=o(t[n].toString(16));return e}function o(t){return 1===t.length?"0"+t:t}function s(t,e){for(var n=[],r=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var s=i.andln(r-1);o=s>(r>>1)-1?(r>>1)-s:s,i.isubn(o)}else o=0;n.push(o);for(var a=0!==i.cmpn(0)&&0===i.andln(r-1)?e+1:1,u=1;u<a;u++)n.push(0);i.ishrn(a)}return n}function a(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o=t.andln(3)+r&3,s=e.andln(3)+i&3;3===o&&(o=-1),3===s&&(s=-1);var a;if(0===(1&o))a=0;else{var u=t.andln(7)+r&7;a=3!==u&&5!==u||2!==s?o:-o}n[0].push(a);var c;if(0===(1&s))c=0;else{var u=e.andln(7)+i&7;c=3!==u&&5!==u||2!==o?s:-s}n[1].push(c),2*r===a+1&&(r=1-r),2*i===c+1&&(i=1-i),t.ishrn(1),e.ishrn(1)}return n}var u=(t("assert"),t("bn.js"),n);u.toArray=r,u.toHex=i,u.encode=function(t,e){return"hex"===e?i(t):t},u.zero2=o,u.getNAF=s,u.getJSF=a},{assert:1,"bn.js":32}],47:[function(t,e,n){function r(t){this.rand=t}var i;if(e.exports=function(t){return i||(i=new r(null)),i.generate(t)},e.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return window.crypto.getRandomValues(e),e}:window.msCrypto&&window.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return window.msCrypto.getRandomValues(e),e}:r.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var o=t("crypto");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(s){r.prototype._rand=function(t){for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e}}},{}],48:[function(t,e,n){var r=n;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":49,"./hash/hmac":50,"./hash/ripemd":51,"./hash/sha":52,"./hash/utils":53}],49:[function(t,e,n){function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.endian="big"}var i=t("../hash"),o=i.utils,s=o.assert;n.BlockHash=r,r.prototype.update=function(t,e){if(t=o.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this.blockSize/8){t=this.pending;var n=t.length%(this.blockSize/8);this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=o.join32(t.slice(0,t.length-n),this.endian);for(var r=0;r<t.length;r+=this.blockSize/32)this._update(t.slice(r,r+this.blockSize/32))}return this},r.prototype.digest=function(t){return this.update(this._pad()),s(null===this.pending),this._digest(t)},r.prototype._pad=function(){var t=this.pendingTotal,e=this.blockSize/8,n=e-(t+8)%e,r=new Array(n+8);r[0]=128;for(var i=1;i<n;i++)r[i]=0;return t<<=3,"big"===this.endian?(r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t):(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0),r}},{"../hash":48}],50:[function(t,e,n){function r(t,e,n){return this instanceof r?(this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,void this._init(o.toArray(e,n))):new r(t,e,n)}var i=t("../hash"),o=i.utils,s=o.assert;e.exports=r,r.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),s(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(var n=t.slice(),e=0;e<t.length;e++)t[e]^=54,n[e]^=92;this.hash={inner:(new this.Hash).update(t),outer:(new this.Hash).update(n)}},r.prototype.update=function(t,e){return this.hash.inner.update(t,e),this},r.prototype.digest=function(t){return this.hash.outer.update(this.hash.inner.digest()),this.hash.outer.digest(t)}},{"../hash":48}],51:[function(t,e,n){function r(){return this instanceof r?(d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new r}function i(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function o(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function s(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var a=t("../hash"),u=a.utils,c=u.rotl32,l=u.sum32,f=u.sum32_3,h=u.sum32_4,d=a.common.BlockHash;u.inherits(r,d),n.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.prototype._update=function(t){for(var e=this.h[0],n=this.h[1],r=this.h[2],a=this.h[3],u=this.h[4],d=e,b=n,y=r,_=a,w=u,S=0;S<80;S++){var x=l(c(h(e,i(S,n,r,a),t[p[S]],o(S)),m[S]),u);e=u,u=a,a=c(r,10),r=n,n=x,x=l(c(h(d,i(79-S,b,y,_),t[v[S]],s(S)),g[S]),w),d=w,w=_,_=c(y,10),y=b,b=x}x=f(this.h[1],r,_),this.h[1]=f(this.h[2],a,w),this.h[2]=f(this.h[3],u,d),this.h[3]=f(this.h[4],e,b),this.h[4]=f(this.h[0],n,y),this.h[0]=x},r.prototype._digest=function(t){return"hex"===t?u.toHex32(this.h,"little"):u.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":48}],52:[function(t,e,n){function r(){return this instanceof r?(b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],void(this.k=y)):new r}function i(){return this instanceof i?(r.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new i}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}function a(t){return p(t,2)^p(t,13)^p(t,22)}function u(t){return p(t,6)^p(t,11)^p(t,25)}function c(t){return p(t,7)^p(t,18)^t>>>3}function l(t){return p(t,17)^p(t,19)^t>>>10}var f=t("../hash"),h=f.utils,d=h.assert,p=h.rotr32,v=(h.rotl32,h.sum32),m=h.sum32_4,g=h.sum32_5,b=f.common.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];h.inherits(r,b),n.sha256=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.prototype._update=function(t){for(var e=new Array(64),n=0;n<16;n++)e[n]=t[n];for(;n<e.length;n++)e[n]=m(l(e[n-2]),e[n-7],c(e[n-15]),e[n-16]);var r=this.h[0],i=this.h[1],f=this.h[2],h=this.h[3],p=this.h[4],b=this.h[5],y=this.h[6],_=this.h[7];d(this.k.length===e.length);for(var n=0;n<e.length;n++){var w=g(_,u(p),o(p,b,y),this.k[n],e[n]),S=v(a(r),s(r,i,f));_=y,y=b,b=p,p=v(h,w),h=f,f=i,i=r,r=v(w,S)}this.h[0]=v(this.h[0],r),this.h[1]=v(this.h[1],i),this.h[2]=v(this.h[2],f),this.h[3]=v(this.h[3],h),this.h[4]=v(this.h[4],p),this.h[5]=v(this.h[5],b),this.h[6]=v(this.h[6],y),this.h[7]=v(this.h[7],_)},r.prototype._digest=function(t){return"hex"===t?h.toHex32(this.h,"big"):h.split32(this.h,"big")},h.inherits(i,r),n.sha224=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.prototype._digest=function(t){return"hex"===t?h.toHex32(this.h.slice(0,7),"big"):h.split32(this.h.slice(0,7),"big")}},{"../hash":48}],53:[function(t,e,n){function r(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"==typeof t)if(e){if("hex"===e){t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!=0&&(t="0"+t);for(var r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,s=255&i;o?n.push(o,s):n.push(s)}else for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}function i(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e}function o(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=i>>>24|i>>>8&65280|i<<8&16711680|(255&i)<<24,i<0&&(i+=4294967296)),n+=a(i.toString(16))}return n}function s(t){return 1===t.length?"0"+t:t}function a(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}function u(t,e){m(t.length%4===0);for(var n=new Array(t.length/4),r=0,i=0;r<n.length;r++,i+=4){var o;o="big"===e?t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]:t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i],o<0&&(o+=4294967296),n[r]=o}return n}function c(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n}function l(t,e){return t>>>e|t<<32-e}function f(t,e){return t<<e|t>>>32-e}function h(t,e){var n=t+e&4294967295;return n<0&&(n+=4294967296),n}function d(t,e,n){var r=t+e+n&4294967295;return r<0&&(r+=4294967296),r}function p(t,e,n,r){var i=t+e+n+r&4294967295;return i<0&&(i+=4294967296),i}function v(t,e,n,r,i){var o=t+e+n+r+i&4294967295;return o<0&&(o+=4294967296),o}function m(t,e){if(!t)throw new Error(e||"Assertion failed")}var g=n;g.toArray=r,g.toHex=i,g.toHex32=o,g.zero2=s,g.zero8=a,g.join32=u,g.split32=c,g.rotr32=l,g.rotl32=f,g.sum32=h,g.sum32_3=d,g.sum32_4=p,g.sum32_5=v,g.assert=m,"function"==typeof Object.create?g.inherits=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:g.inherits=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],54:[function(t,e,n){e.exports={name:"elliptic",version:"0.15.17",description:"EC cryptography",main:"lib/elliptic.js",scripts:{test:"mocha --reporter=spec test/*-test.js"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:{name:"Fedor Indutny",email:"fedor@indutny.com"},license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{browserify:"^3.44.2",mocha:"^1.18.2","uglify-js":"^2.4.13"},dependencies:{"bn.js":"^0.16.0",brorand:"^1.0.1","hash.js":"^0.2.0",inherits:"^2.0.1"},readme:"# Elliptic [![Build Status](https://secure.travis-ci.org/indutny/elliptic.png)](http://travis-ci.org/indutny/elliptic)\n\nFast elliptic-curve cryptography in a plain javascript implementation.\n\nNOTE: Please take a look at http://safecurves.cr.yp.to/ before choosing a curve\nfor your cryptography operations.\n\n## Incentive\n\nECC is much slower than regular RSA cryptography, the JS implementations are\neven more slower.\n\n## Benchmarks\n\n```bash\n$ node benchmarks/index.js\nBenchmarking: sign\nelliptic#sign x 262 ops/sec Â±0.51% (177 runs sampled)\neccjs#sign x 55.91 ops/sec Â±0.90% (144 runs sampled)\n------------------------\nFastest is elliptic#sign\n========================\nBenchmarking: verify\nelliptic#verify x 113 ops/sec Â±0.50% (166 runs sampled)\neccjs#verify x 48.56 ops/sec Â±0.36% (125 runs sampled)\n------------------------\nFastest is elliptic#verify\n========================\nBenchmarking: gen\nelliptic#gen x 294 ops/sec Â±0.43% (176 runs sampled)\neccjs#gen x 62.25 ops/sec Â±0.63% (129 runs sampled)\n------------------------\nFastest is elliptic#gen\n========================\nBenchmarking: ecdh\nelliptic#ecdh x 136 ops/sec Â±0.85% (156 runs sampled)\n------------------------\nFastest is elliptic#ecdh\n========================\n```\n\n## API\n\n### ECDSA\n\n```javascript\nvar EC = require('elliptic').ec;\n\n// Create and initialize EC context\n// (better do it once and reuse it)\nvar ec = new EC('secp256k1');\n\n// Generate keys\nvar key = ec.genKeyPair();\n\n// Sign message (must be an array, or it'll be treated as a hex sequence)\nvar msg = [ 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 ];\nvar signature = key.sign(msg);\n\n// Export DER encoded signature in Array\nvar derSign = signature.toDER();\n\n// Verify signature\nconsole.log(key.verify(msg, derSign));\n```\n\n### ECDH\n\n```javascript\n// Generate keys\nvar key1 = ec.genKeyPair();\nvar key2 = ec.genKeyPair();\n\nvar shared1 = key1.derive(key2.getPublic());\nvar shared2 = key2.derive(key1.getPublic());\n\nconsole.log('Both shared secrets are BN instances');\nconsole.log(shared1.toString(16));\nconsole.log(shared2.toString(16));\n```\n\nNOTE: `.derive()` returns a [BN][1] instance.\n\n## Supported curves\n\nElliptic.js support following curve types:\n\n* Short Weierstrass\n* Montgomery\n* Edwards\n* Twisted Edwards\n\nFollowing curve 'presets' are embedded into the library:\n\n* `secp256k1`\n* `p192`\n* `p224`\n* `p256`\n* `curve25519`\n* `ed25519`\n\nNOTE: That `curve25519` could not be used for ECDSA, use `ed25519` instead.\n\n### Implementation details\n\nECDSA is using deterministic `k` value generation as per [RFC6979][0]. Most of\nthe curve operations are performed on non-affine coordinates (either projective\nor extended), various windowing techniques are used for different cases.\n\nAll operations are performed in reduction context using [bn.js][1], hashing is\nprovided by [hash.js][2]\n\n#### LICENSE\n\nThis software is licensed under the MIT License.\n\nCopyright Fedor Indutny, 2014.\n\nPermission is hereby granted, free of charge, to any person obtaining a\ncopy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to permit\npersons to whom the Software is furnished to do so, subject to the\nfollowing conditions:\n\nThe above copyright notice and this permission notice shall be included\nin all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\nOR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\nNO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\nDAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\nUSE OR OTHER DEALINGS IN THE SOFTWARE.\n\n[0]: http://tools.ietf.org/html/rfc6979\n[1]: https://github.com/indutny/bn.js\n[2]: https://github.com/indutny/hash.js\n",readmeFilename:"README.md",_id:"elliptic@0.15.17",_from:"elliptic@^0.15.14"}},{}],55:[function(t,e,n){(function(t){e.exports=function(e,n,r,i){i/=8;for(var o,s,a,u=0,c=new t(i),l=0;;){if(o=e.createHash("md5"),l++>0&&o.update(s),o.update(n),o.update(r),s=o.digest(),a=0,i>0)for(;;){if(0===i)break;if(a===s.length)break;c[u++]=s[a++],i--}if(0===i)break}for(a=0;a<s.length;a++)s[a]=0;return c}}).call(this,t("buffer").Buffer)},{buffer:3}],56:[function(t,e,n){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],57:[function(t,e,n){var r=t("asn1.js"),i=t("asn1.js-rfc3280"),o=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});n.RSAPrivateKey=o;var s=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});n.RSAPublicKey=s;var a=i.SubjectPublicKeyInfo;n.PublicKey=a;var u=r.define("ECPublicKey",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").bitstr())});n.ECPublicKey=u;var c=r.define("ECPrivateWrap",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").octstr())});n.ECPrivateWrap=c;var l=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(i.AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});n.PrivateKey=l;var f=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}),h=r.define("dsaParams",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()))});n.EncryptedPrivateKey=f;var d=r.define("DSAPublicKey",function(){this.seq().obj(this.key("algorithm").use(h),this.key("subjectPublicKey").bitstr())});n.DSAPublicKey=d;var p=r.define("DSAPrivateWrap",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").seq().obj(this.key("id").objid(),this.key("parameters").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]())),this.key("subjectPrivateKey").octstr())});n.DSAPrivateWrap=p;var v=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});n.DSAPrivateKey=v,n.DSAparam=r.define("DSAparam",function(){this["int"]()});var m=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(g),this.key("publicKey").optional().explicit(1).bitstr())});n.ECPrivateKey=m;var g=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),b=r.define("ECPrivateKey2",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("publicKey").seq().obj(this.key("key").bitstr()))});n.ECPrivateKey2=b,n.signature=r.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})},{"asn1.js":61,"asn1.js-rfc3280":60}],58:[function(t,e,n){(function(n){function r(t){for(var e=[];t;){if(t.length<64){e.push(t);break}e.push(t.slice(0,64)),t=t.slice(64)}return e.join("\n")}var i=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,o=/^-----BEGIN (.*)-----\n/,s=t("./EVP_BytesToKey");e.exports=function(t,e,a){var u=t.toString(),c=u.match(i);if(!c)return t;var l="aes"+c[1],f=new n(c[2],"hex"),h=new n(c[3].replace(/\n\r?/g,""),"base64"),d=s(a,e,f.slice(0,8),parseInt(c[1])),p=[],v=a.createDecipheriv(l,d,f);p.push(v.update(h)),p.push(v["final"]());var m=n.concat(p).toString("base64"),g=u.match(o)[1];return"-----BEGIN "+g+"-----\n"+r(m)+"\n-----END "+g+"-----\n"}}).call(this,t("buffer").Buffer)},{"./EVP_BytesToKey":55,buffer:3}],59:[function(t,e,n){(function(n){function r(t,e){var r;"object"!=typeof t||n.isBuffer(t)||(r=t.passphrase,t=t.key),"string"==typeof t&&(t=new n(t)),r&&(t=u(t,r,e));var a,c,l=o.strip(t),f=l.tag,h=new n(l.base64,"base64");switch(f){case"PUBLIC KEY":switch(c=s.PublicKey.decode(h,"der"),a=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return{type:"ec",data:s.ECPublicKey.decode(h,"der")};case"1.2.840.10040.4.1":return c=s.DSAPublicKey.decode(h,"der"),c.algorithm.parameters.pub_key=s.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.parameters};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+f);case"ENCRYPTED PRIVATE KEY":h=s.EncryptedPrivateKey.decode(h,"der"),h=i(e,h,r);case"PRIVATE KEY":switch(c=s.PrivateKey.decode(h,"der"),a=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return s.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return c=s.ECPrivateWrap.decode(h,"der"),{curve:c.algorithm.curve,privateKey:s.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c=s.DSAPrivateWrap.decode(h,"der"),c.algorithm.parameters.priv_key=s.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.parameters};default:throw new Error("unknown key id "+a)}throw new Error("unknown key type "+f);case"RSA PUBLIC KEY":return s.RSAPublicKey.decode(h,"der");case"RSA PRIVATE KEY":return s.RSAPrivateKey.decode(h,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:s.DSAPrivateKey.decode(h,"der")};case"EC PRIVATE KEY":return h=s.ECPrivateKey.decode(h,"der"),{curve:h.parameters.value,privateKey:h.privateKey};default:throw new Error("unknown key type "+f)}}function i(t,e,r){var i=e.algorithm.decrypt.kde.kdeparams.salt,o=e.algorithm.decrypt.kde.kdeparams.iters,s=a[e.algorithm.decrypt.cipher.algo.join(".")],u=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,l=parseInt(s.split("-")[1],10)/8,f=t.pbkdf2Sync(r,i,o,l),h=t.createDecipheriv(s,f,u),d=[];return d.push(h.update(c)),d.push(h["final"]()),n.concat(d)}var o=t("pemstrip"),s=t("./asn1"),a=t("./aesid.json"),u=t("./fixProc");e.exports=r,r.signature=s.signature}).call(this,t("buffer").Buffer)},{"./aesid.json":56,"./asn1":57,"./fixProc":58,buffer:3,pemstrip:74}],60:[function(t,e,n){try{var r=t("asn1.js")}catch(i){var r=t("../..")}var o=r.define("CRLReason",function(){this["enum"]({0:"unspecified",1:"keyCompromise",2:"CACompromise",3:"affiliationChanged",4:"superseded",5:"cessationOfOperation",6:"certificateHold",8:"removeFromCRL",9:"privilegeWithdrawn",10:"AACompromise"})});n.CRLReason=o;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())});n.AlgorithmIdentifier=s;var a=r.define("Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(s),this.key("signature").bitstr())});n.Certificate=a;var u=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(c),this.key("serialNumber").use(l),this.key("signature").use(s),this.key("issuer").use(g),this.key("validity").use(f),this.key("subject").use(g),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").optional().explicit(1).use(d),this.key("subjectUniqueID").optional().explicit(2).use(d),this.key("extensions").optional().explicit(3).use(v))});n.TBSCertificate=u;var c=r.define("Version",function(){this["int"]({0:"v1",1:"v2",2:"v3"})});n.Version=c;var l=r.define("CertificateSerialNumber",function(){this["int"]()});n.CertificateSerialNumber=l;var f=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(h),this.key("notAfter").use(h))});n.Validity=f;var h=r.define("Time",function(){this.choice({utcTime:this.utctime(),genTime:this.gentime()})});n.Time=h;var d=r.define("UniqueIdentifier",function(){this.bitstr()});n.UniqueIdentifier=d;var p=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});n.SubjectPublicKeyInfo=p;var v=r.define("Extensions",function(){this.seqof(m)});n.Extensions=v;var m=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr());
});n.Extension=m;var g=r.define("Name",function(){this.choice({rdn:this.use(b)})});n.Name=g;var b=r.define("RDNSequence",function(){this.seqof(y)});n.RDNSequence=b;var y=r.define("RelativeDistinguishedName",function(){this.setof(_)});n.RelativeDistinguishedName=y;var _=r.define("AttributeTypeAndValue",function(){this.seq().obj(this.key("type").use(w),this.key("value").use(S))});n.AttributeTypeAndValue=_;var w=r.define("AttributeType",function(){this.objid()});n.AttributeType=w;var S=r.define("AttributeValue",function(){this.any()});n.AttributeValue=S},{"asn1.js":61}],61:[function(t,e,n){var r=n;r.bignum=t("bn.js"),r.define=t("./asn1/api").define,r.base=t("./asn1/base"),r.constants=t("./asn1/constants"),r.decoders=t("./asn1/decoders"),r.encoders=t("./asn1/encoders")},{"./asn1/api":62,"./asn1/base":64,"./asn1/constants":68,"./asn1/decoders":70,"./asn1/encoders":72,"bn.js":73}],62:[function(t,e,n){function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}var i=t("../asn1"),o=t("util"),s=t("vm"),a=n;a.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(t){var e=s.runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})");return o.inherits(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},r.prototype._getDecoder=function(t){return this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},r.prototype._getEncoder=function(t){return this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},{"../asn1":61,util:166,vm:167}],63:[function(t,e,n){function r(t,e){return s.call(this,e),a.isBuffer(t)?(this.base=t,this.offset=0,void(this.length=t.length)):void this.error("Input not Buffer")}function i(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof i||(t=new i(t,e)),this.length+=t.length,t},this);else if("number"==typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"==typeof t)this.value=t,this.length=a.byteLength(t);else{if(!a.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}var o=(t("assert"),t("util")),s=t("../base").Reporter,a=t("buffer").Buffer;o.inherits(r,s),n.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset}},r.prototype.restore=function(t){var e=new r(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,e},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},r.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},r.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},n.EncoderBuffer=i,i.prototype.join=function(t,e){return t||(t=new a(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"==typeof this.value?t[e]=this.value:"string"==typeof this.value?t.write(this.value,e):a.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},{"../base":64,assert:1,buffer:3,util:166}],64:[function(t,e,n){var r=n;r.Reporter=t("./reporter").Reporter,r.DecoderBuffer=t("./buffer").DecoderBuffer,r.EncoderBuffer=t("./buffer").EncoderBuffer,r.Node=t("./node")},{"./buffer":63,"./node":65,"./reporter":66}],65:[function(t,e,n){function r(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n["default"]=null,n.explicit=null,n.implicit=null,n.parent||(n.children=[],this._wrap())}var i=t("assert"),o=t("../base").Reporter,s=t("../base").EncoderBuffer,a=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str"],u=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(a),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];e.exports=r;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];r.prototype.clone=function(){var t=this._baseState,e={};l.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},r.prototype._wrap=function(){var t=this._baseState;u.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},r.prototype._init=function(t){var e=this._baseState;i(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),i.equal(e.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(i(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(i(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!=typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n}),e}))},c.forEach(function(t){r.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),a.forEach(function(t){r.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return i(null===e.tag),e.tag=t,this._useArgs(n),this}}),r.prototype.use=function(t){var e=this._baseState;return i(null===e.use),e.use=t,this},r.prototype.optional=function(){var t=this._baseState;return t.optional=!0,this},r.prototype.def=function(t){var e=this._baseState;return i(null===e["default"]),e["default"]=t,e.optional=!0,this},r.prototype.explicit=function(t){var e=this._baseState;return i(null===e.explicit&&null===e.implicit),e.explicit=t,this},r.prototype.implicit=function(t){var e=this._baseState;return i(null===e.explicit&&null===e.implicit),e.implicit=t,this},r.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},r.prototype.key=function f(f){var t=this._baseState;return i(null===t.key),t.key=f,this},r.prototype.any=function(){var t=this._baseState;return t.any=!0,this},r.prototype.choice=function(t){var e=this._baseState;return i(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},r.prototype._decode=function(t){var e=this._baseState;if(null===e.parent)return t.wrapResult(e.children[0]._decode(t));var n,r=e["default"],i=!0;if(null!==e.key&&(n=t.enterKey(e.key)),e.optional&&(i=this._peekTag(t,null!==e.explicit?e.explicit:null!==e.implicit?e.implicit:e.tag||0),t.isError(i)))return i;var o;if(e.obj&&i&&(o=t.enterObject()),i){if(null!==e.explicit){var s=this._decodeTag(t,e.explicit);if(t.isError(s))return s;t=s}if(null===e.use&&null===e.choice){if(e.any)var a=t.save();var u=this._decodeTag(t,null!==e.implicit?e.implicit:e.tag,e.any);if(t.isError(u))return u;e.any?r=t.raw(a):t=u}if(r=e.any?r:null===e.choice?this._decodeGeneric(e.tag,t):this._decodeChoice(t),t.isError(r))return r;if(!e.any&&null===e.choice&&null!==e.children){var c=e.children.some(function(e){e._decode(t)});if(c)return err}}return e.obj&&i&&(r=t.leaveObject(o)),null===e.key||null===r&&i!==!0||t.leaveKey(n,e.key,r),r},r.prototype._decodeGeneric=function(t,e){var n=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,n.args[0]):"octstr"===t||"bitstr"===t||"ia5str"===t?this._decodeStr(e,t):"objid"===t&&n.args?this._decodeObjid(e,n.args[0],n.args[1]):"objid"===t?this._decodeObjid(e,null,null):"gentime"===t||"utctime"===t?this._decodeTime(e,t):"null_"===t?this._decodeNull(e):"bool"===t?this._decodeBool(e):"int"===t||"enum"===t?this._decodeInt(e,n.args&&n.args[0]):null!==n.use?this._getUse(n.use,e._reporterState.obj)._decode(e):e.error("unknown tag: "+t)},r.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),i(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(t){var e=this._baseState,n=null,r=!1;return Object.keys(e.choice).some(function(i){var o=t.save(),s=e.choice[i];try{var a=s._decode(t);if(t.isError(a))return!1;n={type:i,value:a},r=!0}catch(u){return t.restore(o),!1}return!0},this),r?n:t.error("Choice not matched")},r.prototype._createEncoderBuffer=function(t){return new s(t,this.reporter)},r.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r["default"]||r["default"]!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},r.prototype._encodeValue=function(t,e,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new o);var i=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r["default"])return;t=r["default"]}var s=null,a=!1;if(r.any)i=this._createEncoderBuffer(t);else if(r.choice)i=this._encodeChoice(t,e);else if(r.children)s=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!=typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i},this).filter(function(t){return t}),s=this._createEncoderBuffer(s);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,s=this._createEncoderBuffer(t.map(function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)},u))}else null!==r.use?i=this._getUse(r.use,n)._encode(t,e):(s=this._encodePrimitive(r.tag,t),a=!0);var i;if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,l=null===r.implicit?"universal":"context";null===c?null===r.use&&e.error("Tag could be ommited only for .use()"):null===r.use&&(i=this._encodeComposite(c,a,l,s))}return null!==r.explicit&&(i=this._encodeComposite(r.explicit,!1,"context",i)),i},r.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||i(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},r.prototype._encodePrimitive=function(t,e){var n=this._baseState;if("octstr"===t||"bitstr"===t||"ia5str"===t)return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);throw new Error("Unsupported tag: "+t)}},{"../base":64,assert:1}],66:[function(t,e,n){function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function i(t,e){this.path=t,this.rethrow(e)}var o=t("util");n.Reporter=r,r.prototype.isError=function(t){return t instanceof i},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.leaveKey=function(t,e,n){var r=this._reporterState;r.path=r.path.slice(0,t-1),null!==r.obj&&(r.obj[e]=n)},r.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},r.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},r.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof i;if(e=r?t:new i(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},r.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},o.inherits(i,Error),i.prototype.rethrow=function(t){return this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace(this,i),this}},{util:166}],67:[function(t,e,n){var r=t("../constants");n.tagClass={0:"universal",1:"application",2:"context",3:"private"},n.tagClassByName=r._reverse(n.tagClass),n.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},n.tagByName=r._reverse(n.tag)},{"../constants":68}],68:[function(t,e,n){var r=n;r._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n=0|n);var r=t[n];e[r]=n}),e},r.der=t("./der")},{"./der":67}],69:[function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){c.Node.call(this,"der",t)}function o(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=f.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;var s=f.tag[n];return{cls:r,primitive:i,tag:n,tagStr:s}}function s(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>=4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var s=t.readUInt8(n);if(t.isError(s))return s;r|=s}return r}var a=t("util"),u=t("../../asn1"),c=u.base,l=u.bignum,f=u.constants.der;e.exports=r,r.prototype.decode=function(t,e){return t instanceof c.DecoderBuffer||(t=new c.DecoderBuffer(t,e)),this.tree._decode(t,e)},a.inherits(i,c.Node),i.prototype._peekTag=function(t,e){if(t.isEmpty())return!1;var n=t.save(),r=o(t,'Failed to peek tag: "'+e+'"');return t.isError(r)?r:(t.restore(n),r.tag===e||r.tagStr===e)},i.prototype._decodeTag=function(t,e,n){var r=o(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=s(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var a=t.start(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:t.cut(a)},i.prototype._skipUntilEnd=function(t,e){for(;;){var n=o(t,e);if(t.isError(n))return n;var r=s(t,n.primitive,e);if(t.isError(r))return r;var i;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(t,e,n){for(var r=[];!t.isEmpty();){var i=this._peekTag(t,"end");if(t.isError(i))return i;var o=n.decode(t,"der");if(t.isError(o)&&i)break;r.push(o)}return r},i.prototype._decodeStr=function(t,e){if("octstr"===e)return t.raw();if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}return"ia5str"===e?t.raw().toString():this.error("Decoding of string type: "+e+" unsupported")},i.prototype._decodeObjid=function(t,e,n){for(var r=[],i=0;!t.isEmpty();){var o=t.readUInt8();i<<=7,i|=127&o,0===(128&o)&&(r.push(i),i=0)}128&o&&r.push(i);var s=r[0]/40|0,a=r[0]%40;return n?result=r:result=[s,a].concat(r.slice(1)),e&&(result=e[result.join(" ")]),result},i.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),s=0|n.slice(8,10),a=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==e)return this.error("Decoding "+e+" time is not supported yet");var r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),s=0|n.slice(6,8),a=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,s,a,u,0)},i.prototype._decodeNull=function(t){return null},i.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},i.prototype._decodeInt=function(t,e){var n=0,r=t.raw();if(r.length>3)return new l(r);for(;!t.isEmpty();){n<<=8;var i=t.readUInt8();if(t.isError(i))return i;n|=i}return e&&(n=e[n]||n),n},i.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getDecoder("der").tree}},{"../../asn1":61,util:166}],70:[function(t,e,n){var r=n;r.der=t("./der")},{"./der":69}],71:[function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){l.Node.call(this,"der",t)}function o(t){return t<=10?"0"+t:t}function s(t,e,n,r){var i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),h.tagByName.hasOwnProperty(t))i=h.tagByName[t];else{if("number"!=typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}return i>=31?r.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=h.tagClassByName[n||"universal"]<<6)}var a=t("util"),u=t("buffer").Buffer,c=t("../../asn1"),l=c.base,f=c.bignum,h=c.constants.der;e.exports=r,r.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},a.inherits(i,l.Node),i.prototype._encodeComposite=function(t,e,n,r){var i=s(t,e,n,this.reporter);if(r.length<128){var o=new u(2);return o[0]=i,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var a=1,c=r.length;c>=256;c>>=8)a++;var o=new u(2+a);o[0]=i,o[1]=128|a;for(var c=1+a,l=r.length;l>0;c--,l>>=8)o[c]=255&l;return this._createEncoderBuffer([o,r])},i.prototype._encodeStr=function(t,e){return"octstr"===e?this._createEncoderBuffer(t):"bitstr"===e?this._createEncoderBuffer([0|t.unused,t.data]):"ia5str"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},i.prototype._encodeObjid=function(t,e,n){if("string"==typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/\s+/g);for(var r=0;r<t.length;r++)t[r]|=0}else Array.isArray(t)&&(t=t.slice());if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var i=0,r=0;r<t.length;r++){var o=t[r];for(i++;o>=128;o>>=7)i++}for(var s=new u(i),a=s.length-1,r=t.length-1;r>=0;r--){var o=t[r];for(s[a--]=127&o;(o>>=7)>0;)s[a--]=128|127&o}return this._createEncoderBuffer(s)},i.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[r.getFullYear(),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[r.getFullYear()%100,o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(t,e){if("string"==typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if(null!==f&&t instanceof f){var n=t.toArray();t.sign===!1&&128&n[0]&&n.unshift(0),t=new u(n)}if(u.isBuffer(t)){var r=t.length;0===t.length&&r++;var i=new u(r);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var r=1,o=t;o>=256;o>>=8)r++;for(var i=new Array(r),o=i.length-1;o>=0;o--)i[o]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new u(i))},i.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},i.prototype._use=function(t,e){return"function"==typeof t&&(t=t(e)),t._getEncoder("der").tree},i.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i["default"])return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i["default"],e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},{"../../asn1":61,buffer:3,util:166}],72:[function(t,e,n){var r=n;r.der=t("./der")},{"./der":71}],73:[function(t,e,n){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e){return null!==t&&"object"==typeof t&&Array.isArray(t.words)?t:(this.sign=!1,this.words=null,this.length=0,this.red=null,void(null!==t&&this._init(t||0,e||10)))}function s(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function a(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function u(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function c(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function l(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function f(t){if("string"==typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else this.m=t,this.prime=null}function h(t){f.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.invm(this.m),this.minv=this.rinv.mul(this.r).sub(new o(1)).div(this.m).neg().mod(this.r)}"object"==typeof e&&(e.exports=o),o.BN=o,o.wordSize=26,o.prototype._init=function(t,e){if("number"==typeof t)return t<0&&(this.sign=!0,t=-t),void(t<67108864?(this.words=[67108863&t],this.length=1):(this.words=[67108863&t,t/67108864&67108863],this.length=2));if("object"==typeof t){r("number"==typeof t.length),this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var i=0,n=t.length-1,o=0;n>=0;n-=3){var s=t[n]|t[n-1]<<8|t[n-2]<<16;this.words[o]|=s<<i&67108863,this.words[o+1]=s>>>26-i&67108863,i+=24,i>=26&&(i-=26,o++)}return this.strip()}"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var a=0;"-"===t[0]&&a++,16===e?this._parseHex(t,a):this._parseBase(t,e,a),"-"===t[0]&&(this.sign=!0),this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;for(var r=0,n=t.length-6,i=0;n>=e;n-=6){var o=parseInt(t.slice(n,n+6),16);this.words[i]|=o<<r&67108863,this.words[i+1]|=o>>>26-r&4194303,r+=24,r>=26&&(r-=26,i++)}if(n+6!==e){var o=parseInt(t.slice(e,n+6),16);this.words[i]|=o<<r&67108863,this.words[i+1]|=o>>>26-r&4194303}this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var i=0,s=1,a=0,u=null,c=n;c<t.length;c++){var l,f=t[c];l=10===e||f<="9"?0|f:f>="a"?f.charCodeAt(0)-97+10:f.charCodeAt(0)-65+10,i*=e,i+=l,s*=e,a++,s>1048575&&(r(s<=67108863),u||(u=new o(s)),this.mul(u).copy(this),this.iadd(new o(i)),i=0,s=1,a=0)}0!==a&&(this.mul(new o(s)).copy(this),this.iadd(new o(i)))},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.sign=this.sign,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var d=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],p=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],v=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){if(t=t||10,16===t||"hex"===t){for(var n="",i=0,e=0|e||1,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,n=0!==o||s!==this.length-1?d[6-u.length]+u+n:u+n,i+=2,i>=26&&(i-=26,s--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return this.sign&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=p[t],l=v[t],n="",f=this.clone();for(f.sign=!1;0!==f.cmpn(0);){var h=f.modn(l).toString(t);f=f.idivn(l),n=0!==f.cmpn(0)?d[c-h.length]+h+n:h+n}return 0===this.cmpn(0)&&(n="0"+n),this.sign&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toArray=function(){this.strip();var t=new Array(this.byteLength());t[0]=0;for(var e=this.clone(),n=0;0!==e.cmpn(0);n++){var r=e.andln(255);e.ishrn(8),t[t.length-n-1]=r}return t},o.prototype._countBits=function(t){return t>=33554432?26:t>=16777216?25:t>=8388608?24:t>=4194304?23:t>=2097152?22:t>=1048576?21:t>=524288?20:t>=262144?19:t>=131072?18:t>=65536?17:t>=32768?16:t>=16384?15:t>=8192?14:t>=4096?13:t>=2048?12:t>=1024?11:t>=512?10:t>=256?9:t>=128?8:t>=64?7:t>=32?6:t>=16?5:t>=8?4:t>=4?3:t>=2?2:t>=1?1:0},o.prototype.bitLength=function(){var t=0,e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.byteLength=function(){this.words[this.length-1];return Math.ceil(this.bitLength()/8)},o.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var t=this.clone();return t.sign=!this.sign,t},o.prototype.iadd=function(t){if(this.sign&&!t.sign){this.sign=!1;var e=this.isub(t);return this.sign=!this.sign,this._normSign()}if(!this.sign&&t.sign){t.sign=!1;var e=this.isub(t);return t.sign=!0,e._normSign()}var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++){var e=n.words[o]+r.words[o]+i;this.words[o]=67108863&e,i=e>>>26}for(;0!==i&&o<n.length;o++){var e=n.words[o]+i;this.words[o]=67108863&e,i=e>>>26}if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){if(t.sign&&!this.sign){t.sign=!1;var e=this.sub(t);return t.sign=!0,e}if(!t.sign&&this.sign){this.sign=!1;var e=t.sub(this);return this.sign=!0,e}return this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(t.sign){t.sign=!1;var e=this.iadd(t);return t.sign=!0,e._normSign()}if(this.sign)return this.sign=!1,this.iadd(t),this.sign=!0,this._normSign();var n=this.cmp(t);if(0===n)return this.sign=!1,this.length=1,this.words[0]=0,this;if(n>0)var r=this,i=t;else var r=t,i=this;for(var o=0,s=0;s<i.length;s++){var e=r.words[s]-i.words[s]-o;e<0?(e+=67108864,o=1):o=0,this.words[s]=e}for(;0!==o&&s<r.length;s++){var e=r.words[s]-o;e<0?(e+=67108864,o=1):o=0,this.words[s]=e}if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.sign=!0),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)},o.prototype._smallMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0;r<e.length-1;r++){for(var i=n>>>26,o=67108863&n,s=Math.min(r,t.length-1),a=Math.max(0,r-this.length+1);a<=s;a++){var u=r-a,c=0|this.words[u],l=0|t.words[a],f=c*l,h=67108863&f;i=i+(f/67108864|0)|0,h=h+o|0,o=67108863&h,i=i+(h>>>26)|0}e.words[r]=o,n=i}return 0!==n?e.words[r]=n:e.length--,e.strip()},o.prototype._bigMulTo=function(t,e){e.sign=t.sign!==this.sign,e.length=this.length+t.length;for(var n=0,r=0,i=0;i<e.length-1;i++){var o=r;r=0;for(var s=67108863&n,a=Math.min(i,t.length-1),u=Math.max(0,i-this.length+1);u<=a;u++){var c=i-u,l=0|this.words[c],f=0|t.words[u],h=l*f,d=67108863&h;o=o+(h/67108864|0)|0,d=d+s|0,s=67108863&d,o=o+(d>>>26)|0,r+=o>>>26,o&=67108863}e.words[i]=s,n=o,o=r}return 0!==n?e.words[i]=n:e.length--,e.strip()},o.prototype.mulTo=function(t,e){var n;return n=this.length+t.length<63?this._smallMulTo(t,e):this._bigMulTo(t,e)},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.imul=function(t){if(0===this.cmpn(0)||0===t.cmpn(0))return this.words[0]=0,this.length=1,this;var e=this.length,n=t.length;this.sign=t.sign!==this.sign,this.length=this.length+t.length,this.words[this.length-1]=0;for(var r=this.length-2;r>=0;r--){for(var i=0,o=0,s=Math.min(r,n-1),a=Math.max(0,r-e+1);a<=s;a++){var u=r-a,c=this.words[u],l=t.words[a],f=c*l,h=67108863&f;i+=f/67108864|0,h+=o,o=67108863&h,i+=h>>>26}this.words[r]=o,this.words[r+1]+=i,i=0}for(var i=0,u=1;u<this.length;u++){var d=this.words[u]+i;this.words[u]=67108863&d,i=d>>>26}return this.strip()},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.mul(this)},o.prototype.ishln=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=67108863>>>26-e<<26-e;this.clone();if(0!==e){for(var o=0,s=0;s<this.length;s++){var a=this.words[s]&i,u=this.words[s]-a<<e;this.words[s]=u|o,o=a>>>26-e}o&&(this.words[s]=o,this.length++)}if(0!==n){for(var s=this.length-1;s>=0;s--)this.words[s+n]=this.words[s];for(var s=0;s<n;s++)this.words[s]=0;this.length+=n}return this.strip()},o.prototype.ishrn=function(t,e,n){r("number"==typeof t&&t>=0),e=e?(e-e%26)/26:0;var i=t%26,o=Math.min((t-i)/26,this.length),s=67108863^67108863>>>i<<i,a=n;if(e-=o,e=Math.max(0,e),a){for(var u=0;u<o;u++)a.words[u]=this.words[u];a.length=o}if(0===o);else if(this.length>o){this.length-=o;for(var u=0;u<this.length;u++)this.words[u]=this.words[u+o]}else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=e);u--){var l=this.words[u];this.words[u]=c<<26-i|l>>>i,c=l&s}return a&&0!==c&&(a.words[a.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),n?{hi:this,lo:a}:this},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return!1;var o=this.words[n];return!!(o&i)},o.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(!this.sign,"imaskn works only with positive numbers"),0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){if(r("number"==typeof t),t<0)return this.isubn(-t);if(this.sign)return 1===this.length&&this.words[0]<t?(this.words[0]=t-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(t),this.sign=!0,this);this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,
e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"==typeof t),t<0)return this.iaddn(-t);if(this.sign)return this.sign=!1,this.iaddn(t),this.sign=!0,this;this.words[0]-=t;for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.sign=!1,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._wordDiv=function(t,e){for(var n=this.length-t.length,r=this.clone(),i=t,s="mod"!==e&&new o(0);r.length>i.length;){var a=67108864*r.words[r.length-1]+r.words[r.length-2],u=a/i.words[i.length-1],c=u/67108864|0,l=67108863&u;u=new o(null),u.words=[l,c],u.length=2;var n=26*(r.length-i.length-1);if(s){var f=u.shln(n);r.sign?s.isub(f):s.iadd(f)}u=u.mul(i).ishln(n),r.sign?r.iadd(u):r.isub(u)}for(;r.ucmp(i)>=0;){var a=r.words[r.length-1],u=new o(a/i.words[i.length-1]|0),n=26*(r.length-i.length);if(s){var f=u.shln(n);r.sign?s.isub(f):s.iadd(f)}u=u.mul(i).ishln(n),r.sign?r.iadd(u):r.isub(u)}return r.sign&&(s&&s.isubn(1),r.iadd(i)),{div:s?s:null,mod:r}},o.prototype.divmod=function(t,e){if(r(0!==t.cmpn(0)),this.sign&&!t.sign){var n,i,s=this.neg().divmod(t,e);return"mod"!==e&&(n=s.div.neg()),"div"!==e&&(i=0===s.mod.cmpn(0)?s.mod:t.sub(s.mod)),{div:n,mod:i}}if(!this.sign&&t.sign){var n,s=this.divmod(t.neg(),e);return"mod"!==e&&(n=s.div.neg()),{div:n,mod:s.mod}}return this.sign&&t.sign?this.neg().divmod(t.neg(),e):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div").div},o.prototype.mod=function(t){return this.divmod(t,"mod").mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(0===e.mod.cmpn(0))return e.div;var n=e.div.sign?e.mod.isub(t):e.mod,r=t.shrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:e.div.sign?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+this.words[i])%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=this.words[n]+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype._egcd=function(t,e){r(!e.sign),r(0!==e.cmpn(0));var n=this,i=e.clone();n=n.sign?n.mod(e):n.clone();for(var s=new o(0);i.isEven();)i.ishrn(1);for(var a=i.clone();n.cmpn(1)>0&&i.cmpn(1)>0;){for(;n.isEven();)n.ishrn(1),t.isEven()?t.ishrn(1):t.iadd(a).ishrn(1);for(;i.isEven();)i.ishrn(1),s.isEven()?s.ishrn(1):s.iadd(a).ishrn(1);n.cmp(i)>=0?(n.isub(i),t.isub(s)):(i.isub(n),s.isub(t))}return 0===n.cmpn(1)?t:s},o.prototype.gcd=function(t){if(0===this.cmpn(0))return t.clone();if(0===t.cmpn(0))return this.clone();var e=this.clone(),n=t.clone();e.sign=!1,n.sign=!1;for(var r=0;e.isEven()&&n.isEven();r++)e.ishrn(1),n.ishrn(1);for(;e.isEven();)e.ishrn(1);do{for(;n.isEven();)n.ishrn(1);if(e.cmp(n)<0){var i=e;e=n,n=i}e.isub(e.div(n).mul(n))}while(0!==e.cmpn(0)&&0!==n.cmpn(0));return 0===e.cmpn(0)?n.ishln(r):e.ishln(r)},o.prototype.invm=function(t){return this._egcd(new o(1),t).mod(t)},o.prototype.isEven=function(t){return 0===(1&this.words[0])},o.prototype.isOdd=function(t){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n){for(var o=this.length;o<n+1;o++)this.words[o]=0;return this.words[n]|=i,this.length=n+1,this}for(var s=i,o=n;0!==s&&o<this.length;o++){var a=this.words[o];a+=s,s=a>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},o.prototype.cmpn=function(t){var e=t<0;if(e&&(t=-t),this.sign&&!e)return-1;if(!this.sign&&e)return 1;t&=67108863,this.strip();var n;if(this.length>1)n=1;else{var r=this.words[0];n=r===t?0:r<t?-1:1}return this.sign&&(n=-n),n},o.prototype.cmp=function(t){if(this.sign&&!t.sign)return-1;if(!this.sign&&t.sign)return 1;var e=this.ucmp(t);return this.sign?-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=this.words[n],i=t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.red=function(t){return new f(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(!this.sign,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};s.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},s.prototype.ireduce=function(t){var e,n=t;do{var r=n.ishrn(this.n,0,this.tmp);n=this.imulK(r.hi),n=n.iadd(r.lo),e=n.bitLength()}while(e>this.n);var i=e<this.n?-1:n.cmp(this.p);return 0===i?(n.words[0]=0,n.length=1):i>0?n.isub(this.p):n.strip(),n},s.prototype.imulK=function(t){return t.imul(this.k)},i(a,s),a.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=t.length-3;e>=0;e--){var n=t.words[e],r=64*n,i=977*n;r+=i/67108864|0;var o=r/67108864|0;r&=67108863,i&=67108863,t.words[e+2]+=o,t.words[e+1]+=r,t.words[e]=i}var n=t.words[t.length-2];return n>=67108864&&(t.words[t.length-1]+=n>>>26,t.words[t.length-2]=67108863&n),0===t.words[t.length-1]&&t.length--,0===t.words[t.length-1]&&t.length--,t},i(u,s),i(c,s),i(l,s),l.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*t.words[n]+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function g(t){if(m[t])return m[t];var g;if("k256"===t)g=new a;else if("p224"===t)g=new u;else if("p192"===t)g=new c;else{if("p25519"!==t)throw new Error("Unknown prime "+t);g=new l}return m[t]=g,g},f.prototype._verify1=function(t){r(!t.sign,"red works only with positives"),r(t.red,"red works only with red numbers")},f.prototype._verify2=function(t,e){r(!t.sign&&!e.sign,"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},f.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.mod(this.m)._forceRed(this)},f.prototype.neg=function(t){var e=t.clone();return e.sign=!e.sign,e.iadd(this.m)._forceRed(this)},f.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},f.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},f.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},f.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},f.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.shln(e))},f.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},f.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},f.prototype.isqr=function(t){return this.imul(t,t)},f.prototype.sqr=function(t){return this.mul(t,t)},f.prototype.sqrt=function(t){if(0===t.cmpn(0))return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).ishrn(2),i=this.pow(t,n);return i}for(var s=this.m.subn(1),a=0;0!==s.cmpn(0)&&0===s.andln(1);)a++,s.ishrn(1);r(0!==s.cmpn(0));var u=new o(1).toRed(this),c=u.redNeg(),l=this.m.subn(1).ishrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,l).cmp(c);)f.redIAdd(c);for(var h=this.pow(f,s),i=this.pow(t,s.addn(1).ishrn(1)),d=this.pow(t,s),p=a;0!==d.cmp(u);){for(var v=d,m=0;0!==v.cmp(u);m++)v=v.redSqr();r(m<p);var g=this.pow(h,new o(1).ishln(p-m-1));i=i.redMul(g),h=g.redSqr(),d=d.redMul(h),p=m}return i},f.prototype.invm=function(t){var e=t._egcd(new o(1),this.m);return e.sign?(e.sign=!1,this.imod(e).redNeg()):this.imod(e)},f.prototype.pow=function(t,e){for(var n=[],r=e.clone();0!==r.cmpn(0);)n.push(r.andln(1)),r.ishrn(1);for(var i=t,o=0;o<n.length&&0===n[o];o++,i=this.sqr(i));if(++o<n.length)for(var r=this.sqr(i);o<n.length;o++,r=this.sqr(r))0!==n[o]&&(i=this.mul(i,r));return i},f.prototype.convertTo=function(t){return t.clone()},f.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new h(t)},i(h,f),h.prototype.convertTo=function(t){return this.imod(t.shln(this.shift))},h.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},h.prototype.imul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},h.prototype.mul=function(t,e){if(0===t.cmpn(0)||0===e.cmpn(0))return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).ishrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},h.prototype.invm=function(t){var e=this.imod(t.invm(this.m).mul(this.r2));return e._forceRed(this)}},{}],74:[function(t,e,n){n.strip=function(t){t=t.toString();var e=/^-----BEGIN (.*)-----\n/,n=e.exec(t),r=n[1],i=new RegExp("\n-----END "+r+"-----(\n*)$"),o=t.slice(n[0].length).replace(i,"").replace(/\n/g,"");return{tag:r,base64:o}};var r=function(t,e){for(var n=[];t;){if(t.length<e){n.push(t);break}n.push(t.substr(0,e)),t=t.substr(e)}return n.join("\n")};n.assemble=function(t){var e=t.tag,n=t.base64,i="-----BEGIN "+e+"-----",o="-----END "+e+"-----";return i+"\n"+r(n,64)+"\n"+o+"\n"}},{}],75:[function(t,e,n){(function(n){function r(t,e,n){var r=c(e,n);if(r.curve)return i(t,r,n);if("dsa"===r.type)return o(t,r,n);for(var s=r.modulus.byteLength(),a=[0,1];t.length+a.length+1<s;)a.push(255);a.push(0);for(var u=-1;++u<t.length;)a.push(t[u]);var l=h(a,r,n);return l}function i(t,e,r){f.rand=r.randomBytes;var i;"1.3.132.0.10"===e.curve.join(".")&&(i=new f.ec("secp256k1"));var o=i.genKeyPair();o._importPrivate(e.privateKey);var s=o.sign(t);return new n(s.toDER())}function o(t,e,n){for(var r,i=e.params.priv_key,o=e.params.p,c=e.params.q,f=(l.mont(c),e.params.g),h=new l(0),d=new l(t),p=!1;p===!1;){for(;!h.cmpn(0);)r=a(c,n),h=u(f,r,o,c);p=r.invm(c).imul(d.add(i.imul(h).mod(c)).mod(c)).mod(c),p.cmpn(0)||(p=!1,h=new l(0))}return s(h,p)}function s(t,e){t=t.toArray(),e=e.toArray(),128&t[0]&&(t=[0].concat(t)),128&e[0]&&(e=[0].concat(e));var r=t.length+e.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,e.length],e),new n(i)}function a(t,e){for(var n=new l(e.randomBytes(t.byteLength()));n.cmp(t)>=0;)n=new l(e.randomBytes(t.byteLength()));return n}function u(t,e,n,r){return t.toRed(l.mont(n)).redPow(e).fromRed().mod(r)}var c=t("parse-asn1"),l=t("bn.js"),f=t("elliptic"),h=t("browserify-rsa");e.exports=r}).call(this,t("buffer").Buffer)},{"bn.js":32,"browserify-rsa":33,buffer:3,elliptic:35,"parse-asn1":59}],76:[function(t,e,n){(function(n){function r(t,e,r){var s=a(r);if("ec"===s.type)return i(t,e,s);if("dsa"===s.type)return o(t,e,s);for(var u=s.modulus.byteLength(),l=[0,1];e.length+l.length+1<u;)l.push(255);l.push(0);for(var f=-1;++f<e.length;)l.push(e[f]);l=e;var h=c.mont(s.modulus);t=new c(t).toRed(h),t=t.redPow(new c(s.publicExponent)),t=new n(t.fromRed().toArray()),t=t.slice(t.length-e.length);var d=0;for(u=t.length,f=-1;++f<u;)d+=t[f]^e[f];return!d}function i(t,e,n){var r;"1.3.132.0.10"===n.data.algorithm.curve.join(".")&&(r=new u.ec("secp256k1"));var i=n.data.subjectPrivateKey.data;return r.verify(e.toString("hex"),t.toString("hex"),i.toString("hex"))}function o(t,e,n){var r=n.data.p,i=n.data.q,o=n.data.g,u=n.data.pub_key,l=a.signature.decode(t,"der"),f=l.s,h=l.r;s(f,i),s(h,i);var d=(c.mont(i),c.mont(r)),p=f.invm(i),v=o.toRed(d).redPow(new c(e).mul(p).mod(i)).fromRed().mul(u.toRed(d).redPow(h.mul(p).mod(i)).fromRed()).mod(r).mod(i);return!v.cmp(h)}function s(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}var a=t("parse-asn1"),u=t("elliptic"),c=t("bn.js");e.exports=r}).call(this,t("buffer").Buffer)},{"bn.js":32,buffer:3,elliptic:35,"parse-asn1":59}],77:[function(t,e,n){(function(n){function r(t,e){o.rand=e.randomBytes,this.curve=new o.ec(t),this.keys=void 0}function i(t,e){Array.isArray(t)||(t=t.toArray());var r=new n(t);return e?r.toString(e):r}var o=t("elliptic"),s=t("bn.js");e.exports=r,r.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},r.prototype.computeSecret=function(t,e,r){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),t=new s(t),t=t.toString(16);var o=this.curve.keyPair(t,"hex").getPublic(),a=o.mul(this.keys.getPrivate()).getX();return i(a,r)},r.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,t)},r.prototype.getPrivateKey=function(t){return i(this.keys.getPrivate(),t)},r.prototype.setPublicKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var r=new s(t);r=r.toArray(),this.keys._importPublicHex(r)},r.prototype.setPrivateKey=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e));var r=new s(t);r=r.toString(16),this.keys._importPrivate(r)}}).call(this,t("buffer").Buffer)},{"bn.js":79,buffer:3,elliptic:80}],78:[function(t,e,n){var r=t("./ecdh");e.exports=function(t,e){e.createECDH=function(e){return new r(e,t)}}},{"./ecdh":77}],79:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],80:[function(t,e,n){arguments[4][35][0].apply(n,arguments)},{"../package.json":99,"./elliptic/curve":83,"./elliptic/curves":86,"./elliptic/ec":87,"./elliptic/hmac-drbg":90,"./elliptic/utils":91,brorand:92,dup:35}],81:[function(t,e,n){arguments[4][36][0].apply(n,arguments)},{"../../elliptic":80,assert:1,"bn.js":79,dup:36}],82:[function(t,e,n){arguments[4][37][0].apply(n,arguments)},{"../../elliptic":80,"../curve":83,assert:1,"bn.js":79,dup:37,inherits:149}],83:[function(t,e,n){arguments[4][38][0].apply(n,arguments)},{"./base":81,"./edwards":82,"./mont":84,"./short":85,dup:38}],84:[function(t,e,n){arguments[4][39][0].apply(n,arguments)},{"../../elliptic":80,"../curve":83,assert:1,"bn.js":79,dup:39,inherits:149}],85:[function(t,e,n){arguments[4][40][0].apply(n,arguments)},{"../../elliptic":80,"../curve":83,assert:1,"bn.js":79,dup:40,inherits:149}],86:[function(t,e,n){arguments[4][41][0].apply(n,arguments)},{"../elliptic":80,assert:1,"bn.js":79,dup:41,"hash.js":93}],87:[function(t,e,n){arguments[4][42][0].apply(n,arguments)},{"../../elliptic":80,"./key":88,"./signature":89,assert:1,"bn.js":79,dup:42}],88:[function(t,e,n){arguments[4][43][0].apply(n,arguments)},{"../../elliptic":80,assert:1,"bn.js":79,dup:43}],89:[function(t,e,n){arguments[4][44][0].apply(n,arguments)},{"../../elliptic":80,assert:1,"bn.js":79,dup:44}],90:[function(t,e,n){arguments[4][45][0].apply(n,arguments)},{"../elliptic":80,assert:1,dup:45,"hash.js":93}],91:[function(t,e,n){arguments[4][46][0].apply(n,arguments)},{assert:1,"bn.js":79,dup:46}],92:[function(t,e,n){arguments[4][47][0].apply(n,arguments)},{dup:47}],93:[function(t,e,n){arguments[4][48][0].apply(n,arguments)},{"./hash/common":94,"./hash/hmac":95,"./hash/ripemd":96,"./hash/sha":97,"./hash/utils":98,dup:48}],94:[function(t,e,n){arguments[4][49][0].apply(n,arguments)},{"../hash":93,dup:49}],95:[function(t,e,n){arguments[4][50][0].apply(n,arguments)},{"../hash":93,dup:50}],96:[function(t,e,n){arguments[4][51][0].apply(n,arguments)},{"../hash":93,dup:51}],97:[function(t,e,n){arguments[4][52][0].apply(n,arguments)},{"../hash":93,dup:52}],98:[function(t,e,n){arguments[4][53][0].apply(n,arguments)},{dup:53}],99:[function(t,e,n){arguments[4][54][0].apply(n,arguments)},{dup:54}],100:[function(t,e,n){(function(n){function r(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._pub=new c(t)}function i(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._priv=new c(t)}function o(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in b)return b[r];var i=0;if(t.isEven()||!g.simpleSieve||!g.fermatTest(t)||!f.test(t))return i+=1,i+="02"===n||"05"===n?8:4,b[r]=i,i;f.test(t.shrn(1))||(i+=2);var o,n=e.toString("hex");switch(n){case"02":t.mod(h).cmp(d)&&(i+=8);break;case"05":o=t.mod(p),o.cmp(v)&&o.cmp(m)&&(i+=8);break;default:i+=4}return b[r]=i,i}function s(t,e){try{Object.defineProperty(t,"verifyError",{enumerable:!0,value:e,writable:!1})}catch(n){t.verifyError=e}}function a(t,e,n,a){this.setGenerator(e),this.__prime=new c(t),this._prime=c.mont(this.__prime),this._pub=void 0,this._priv=void 0,a?(this.setPublicKey=r,this.setPrivateKey=i,s(this,o(this.__prime,e))):s(this,8),this._makeNum=function(){return n.randomBytes(t.length)}}function u(t,e){var r=new n(t.toArray());return e?r.toString(e):r}var c=t("bn.js"),l=t("miller-rabin"),f=new l,h=new c(24),d=new c(11),p=new c(10),v=new c(3),m=new c(7),g=t("./generatePrime");e.exports=a;var b={};a.prototype.generateKeys=function(){return this._priv||(this._priv=new c(this._makeNum())),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},a.prototype.computeSecret=function(t){t=new c(t),t=t.toRed(this._prime);var e=t.redPow(this._priv).fromRed(),r=new n(e.toArray()),i=this.getPrime();if(r.length<i.length){var o=new n(i.length-r.length);o.fill(0),r=n.concat([o,r])}return r},a.prototype.getPublicKey=function(t){return u(this._pub,t)},a.prototype.getPrivateKey=function(t){return u(this._priv,t)},a.prototype.getPrime=function(t){return u(this.__prime,t)},a.prototype.getGenerator=function(t){return u(this._gen,t)},a.prototype.setGenerator=function(t,e){e=e||"utf8",n.isBuffer(t)||(t=new n(t,e)),this._gen=new c(t)}}).call(this,t("buffer").Buffer)},{"./generatePrime":101,"bn.js":103,buffer:3,"miller-rabin":104}],101:[function(t,e,n){function r(){if(null!==w)return w;var t=1048576,e=[];e[0]=2;for(var n=1,r=3;r<t;r+=2){for(var i=Math.ceil(Math.sqrt(r)),o=0;o<n&&e[o]<=i&&r%e[o]!==0;o++);n!==o&&e[o]<=i||(e[n++]=r)}return w=e,e}function i(t){for(var e=r(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function o(t){var e=a.mont(t);return 0===h.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function s(t,e,n){function r(t){s=-1;for(var r=new a(n.randomBytes(Math.ceil(t/8)));r.bitLength()>t;)r.ishrn(1);if(r.isEven()&&r.iadd(f),r.testn(1)||r.iadd(h),e.cmp(h))if(e.cmp(d))c={major:[y],minor:[h]};else{for(rem=r.mod(m);rem.cmp(g);)r.iadd(y),rem=r.mod(m);c={major:[y,p],minor:[h,v]}}else{for(;r.mod(u).cmp(b);)r.iadd(y);c={major:[u],minor:[_]}}return r}if(t<16)return new a(2===e||5===e?[140,123]:[140,39]);e=new a(e);for(var s,c,w=r(t),S=w.shrn(1);;){for(;w.bitLength()>t;)w=r(t),S=w.shrn(1);if(s++,i(S)&&i(w)&&o(S)&&o(w)&&l.test(S)&&l.test(w))return w;w.iadd(c.major[s%c.major.length]),S.iadd(c.minor[s%c.minor.length])}}e.exports=s,s.simpleSieve=i,s.fermatTest=o;var a=t("bn.js"),u=new a(24),c=t("miller-rabin"),l=new c,f=new a(1),h=new a(2),d=new a(5),p=new a(16),v=new a(8),m=new a(10),g=new a(3),b=(new a(7),new a(11)),y=new a(4),_=new a(12),w=null},{"bn.js":103,"miller-rabin":104}],102:[function(t,e,n){(function(n){var r=t("./primes.json"),i=t("./dh"),o=t("./generatePrime");e.exports=function(t,e){function s(e){return new i(new n(r[e].prime,"hex"),new n(r[e].gen,"hex"),t)}function a(e,r,s,a){return(n.isBuffer(r)||"string"==typeof r&&["hex","binary","base64"].indexOf(r)===-1)&&(a=s,s=r,r=void 0),r=r||"binary",a=a||"binary",s=s||new n([2]),n.isBuffer(s)||(s=new n(s,a)),"number"==typeof e?new i(o(e,s,t),s,t,(!0)):(n.isBuffer(e)||(e=new n(e,r)),new i(e,s,t,(!0)))}e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=s,e.createDiffieHellman=e.DiffieHellman=a}}).call(this,t("buffer").Buffer)},{"./dh":100,"./generatePrime":101,"./primes.json":107,buffer:3}],103:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],104:[function(t,e,n){function r(t){this.rand=t||new o.Rand}var i=t("bn.js"),o=t("brorand");e.exports=r,r.create=function(t){return new r(t)},r.prototype._rand=function(t){var e=t.bitLength(),n=this.rand.generate(Math.ceil(e/8));n[0]|=3;var r=7&e;return 0!==r&&(n[n.length-1]>>=7-r),new i(n)},r.prototype.test=function(t,e,n){var r=t.bitLength(),o=i.mont(t),s=new i(1).toRed(o);e||(e=Math.max(1,r/48|0));for(var a=t.subn(1),u=a.subn(1),c=0;!a.testn(c);c++);for(var l=t.shrn(c),f=a.toRed(o),h=!0;e>0;e--){var d=this._rand(u);n&&n(d);var p=d.toRed(o).redPow(l);if(0!==p.cmp(s)&&0!==p.cmp(f)){for(var v=1;v<c;v++){if(p=p.redSqr(),0===p.cmp(s))return!1;if(0===p.cmp(f))break}if(v===c)return!1}}return h},r.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),o=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var s=t.subn(1),a=s.subn(1),u=0;!s.testn(u);u++);for(var c=t.shrn(u),l=s.toRed(r),f=!0;e>0;e--){var h=this._rand(a),d=t.gcd(h);if(0!==d.cmpn(1))return d;var p=h.toRed(r).redPow(c);if(0!==p.cmp(o)&&0!==p.cmp(l)){for(var v=1;v<u;v++){if(p=p.redSqr(),0===p.cmp(o))return p.fromRed().subn(1).gcd(t);if(0===p.cmp(l))break}if(v===u)return p=p.redSqr(),p.fromRed().subn(1).gcd(t)}}return f}},{"bn.js":105,brorand:106}],105:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],106:[function(t,e,n){arguments[4][47][0].apply(n,arguments)},{dup:47}],107:[function(t,e,n){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],108:[function(t,e,n){(function(t){e.exports=function(e){function n(t,e,n,i,o,s){if("function"==typeof o&&(s=o,o=void 0),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");setTimeout(function(){var a;try{a=r(t,e,n,i,o)}catch(u){return s(u)}s(void 0,a)})}function r(n,r,i,o,s){if("number"!=typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!=typeof o)throw new TypeError("Key length not a number");if(o<0)throw new TypeError("Bad key length");s=s||"sha1",t.isBuffer(n)||(n=new t(n)),t.isBuffer(r)||(r=new t(r));var a,u,c,l=1,f=new t(o),h=new t(r.length+4);r.copy(h,0,0,r.length);for(var d=1;d<=l;d++){h.writeUInt32BE(d,r.length);var p=e.createHmac(s,n).update(h).digest();if(!a&&(a=p.length,c=new t(a),l=Math.ceil(o/a),u=o-(l-1)*a,o>(Math.pow(2,32)-1)*a))throw new TypeError("keylen exceeds maximum length");p.copy(c,0,0,a);for(var v=1;v<i;v++){p=e.createHmac(s,n).update(p).digest();for(var m=0;m<a;m++)c[m]^=p[m]}var g=(d-1)*a,b=d==l?u:a;c.copy(f,g,0,b)}return f}return{pbkdf2:n,pbkdf2Sync:r}}}).call(this,t("buffer").Buffer)},{buffer:3}],109:[function(t,e,n){e.exports=function(e,n){e.publicEncrypt=t("./publicEncrypt")(n),e.privateDecrypt=t("./privateDecrypt")(n)}},{"./privateDecrypt":134,"./publicEncrypt":135}],110:[function(t,e,n){(function(t){function n(e){var n=new t(4);return n.writeUInt32BE(e,0),n}e.exports=function(e,r,i){for(var o,s=new t(""),a=0;s.length<r;)o=n(a++),s=t.concat([s,i.createHash("sha1").update(e).update(o).digest()]);return s.slice(0,r)}}).call(this,t("buffer").Buffer)},{buffer:3}],111:[function(t,e,n){arguments[4][32][0].apply(n,arguments);
},{dup:32}],112:[function(t,e,n){arguments[4][33][0].apply(n,arguments)},{"bn.js":113,buffer:3,dup:33}],113:[function(t,e,n){arguments[4][32][0].apply(n,arguments)},{dup:32}],114:[function(t,e,n){arguments[4][55][0].apply(n,arguments)},{buffer:3,dup:55}],115:[function(t,e,n){arguments[4][56][0].apply(n,arguments)},{dup:56}],116:[function(t,e,n){arguments[4][57][0].apply(n,arguments)},{"asn1.js":120,"asn1.js-rfc3280":119,dup:57}],117:[function(t,e,n){arguments[4][58][0].apply(n,arguments)},{"./EVP_BytesToKey":114,buffer:3,dup:58}],118:[function(t,e,n){arguments[4][59][0].apply(n,arguments)},{"./aesid.json":115,"./asn1":116,"./fixProc":117,buffer:3,dup:59,pemstrip:133}],119:[function(t,e,n){arguments[4][60][0].apply(n,arguments)},{"asn1.js":120,dup:60}],120:[function(t,e,n){arguments[4][61][0].apply(n,arguments)},{"./asn1/api":121,"./asn1/base":123,"./asn1/constants":127,"./asn1/decoders":129,"./asn1/encoders":131,"bn.js":132,dup:61}],121:[function(t,e,n){arguments[4][62][0].apply(n,arguments)},{"../asn1":120,dup:62,util:166,vm:167}],122:[function(t,e,n){arguments[4][63][0].apply(n,arguments)},{"../base":123,assert:1,buffer:3,dup:63,util:166}],123:[function(t,e,n){arguments[4][64][0].apply(n,arguments)},{"./buffer":122,"./node":124,"./reporter":125,dup:64}],124:[function(t,e,n){arguments[4][65][0].apply(n,arguments)},{"../base":123,assert:1,dup:65}],125:[function(t,e,n){arguments[4][66][0].apply(n,arguments)},{dup:66,util:166}],126:[function(t,e,n){arguments[4][67][0].apply(n,arguments)},{"../constants":127,dup:67}],127:[function(t,e,n){arguments[4][68][0].apply(n,arguments)},{"./der":126,dup:68}],128:[function(t,e,n){arguments[4][69][0].apply(n,arguments)},{"../../asn1":120,dup:69,util:166}],129:[function(t,e,n){arguments[4][70][0].apply(n,arguments)},{"./der":128,dup:70}],130:[function(t,e,n){arguments[4][71][0].apply(n,arguments)},{"../../asn1":120,buffer:3,dup:71,util:166}],131:[function(t,e,n){arguments[4][72][0].apply(n,arguments)},{"./der":130,dup:72}],132:[function(t,e,n){arguments[4][73][0].apply(n,arguments)},{dup:73}],133:[function(t,e,n){arguments[4][74][0].apply(n,arguments)},{dup:74}],134:[function(t,e,n){(function(n){function r(t,e,r){var i=(t.modulus,t.modulus.byteLength()),s=(e.length,r.createHash("sha1").update(new n("")).digest()),c=s.length;if(0!==e[0])throw new Error("decryption error");var l=e.slice(1,c+1),f=e.slice(c+1),h=u(l,a(f,c,r)),d=u(f,a(h,i-c-1,r));if(o(s,d.slice(0,c)))throw new Error("decryption error");for(var p=c;0===d[p];)p++;if(1!==d[p++])throw new Error("decryption error");return d.slice(p)}function i(t,e,n){for(var r=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var s=e.slice(2,i-1);e.slice(i-1,i);return"0002"!==r.toString("hex")&&o++,s.length<8&&o++,e.slice(i)}function o(t,e){var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));for(var i=-1;++i<r;)n+=t[i]^e[i];return n}var s=t("parse-asn1"),a=t("./mgf"),u=t("./xor"),c=t("bn.js"),l=t("browserify-rsa");e.exports=function(t){function e(e,o){var a;a=e.padding?e.padding:4;var u=s(e,t),f=u.modulus.byteLength();if(o.length>f||new c(o).cmp(u.modulus)>=0)throw new Error("decryption error");var h=l(o,u,t),d=new n(f-h.length);if(d.fill(0),h=n.concat([d,h],f),4===a)return r(u,h,t);if(1===a)return i(u,h,t);if(3===a)return h;throw new Error("unknown padding")}return e}}).call(this,t("buffer").Buffer)},{"./mgf":110,"./xor":136,"bn.js":111,"browserify-rsa":112,buffer:3,"parse-asn1":118}],135:[function(t,e,n){(function(n){function r(t,e,r){var i=t.modulus.byteLength(),o=e.length,s=r.createHash("sha1").update(new n("")).digest(),l=s.length,f=2*l;if(o>i-f-2)throw new Error("message too long");var h=new n(i-o-f-2);h.fill(0);var d=i-l-1,p=r.randomBytes(l),v=u(n.concat([s,h,new n([1]),e],d),a(p,d,r)),m=u(p,a(v,l,r));return new c(n.concat([new n([0]),m,v],i))}function i(t,e,r){var i=e.length,s=t.modulus.byteLength();if(i>s-11)throw new Error("message too long");var a=o(s-i-3,r);return new c(n.concat([new n([0,2]),a,new n([0]),e],s))}function o(t,e){for(var r,i=new n(t),o=0,s=e.randomBytes(2*t),a=0;o<t;)a===s.length&&(s=e.randomBytes(2*t),a=0),r=s[a++],r&&(i[o++]=r);return i}var s=t("parse-asn1"),a=t("./mgf"),u=t("./xor"),c=t("bn.js");e.exports=function(t){function e(e,o){var a;a=e.padding?e.padding:4;var u,l=s(e);if(4===a)u=r(l,o,t);else if(1===a)u=i(l,o,t);else{if(3!==a)throw new Error("unknown padding");if(u=new c(o),u.cmp(l.modulus)>=0)throw new Error("data too long for modulus")}var f=u.toRed(c.mont(l.modulus)).redPow(new c(l.publicExponent)).fromRed().toArray();return new n(f)}return e}}).call(this,t("buffer").Buffer)},{"./mgf":110,"./xor":136,"bn.js":111,buffer:3,"parse-asn1":118}],136:[function(t,e,n){e.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},{}],137:[function(t,e,n){(function(t){function n(t,e,n){return t^e^n}function r(t,e,n){return t&e|~t&n}function i(t,e,n){return(t|~e)^n}function o(t,e,n){return t&n|e&~n}function s(t,e,n){return t^(e|~n)}function a(t,e){return t<<e|t>>>32-e}function u(e){var n=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof e&&(e=new t(e,"utf8"));var r=v(e),i=8*e.length,o=8*e.length;r[i>>>5]|=128<<24-i%32,r[(i+64>>>9<<4)+14]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);for(var s=0;s<r.length;s+=16)g(n,r,s);for(var s=0;s<5;s++){var a=n[s];n[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}var u=m(n);return new t(u)}e.exports=u;var c=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],p=[1352829926,1548603684,1836072691,2053994217,0],v=function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},m=function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},g=function(t,e,u){for(var v=0;v<16;v++){var m=u+v,g=e[m];e[m]=16711935&(g<<8|g>>>24)|4278255360&(g<<24|g>>>8)}var b,y,_,w,S,x,E,C,k,A;x=b=t[0],E=y=t[1],C=_=t[2],k=w=t[3],A=S=t[4];for(var $,v=0;v<80;v+=1)$=b+e[u+c[v]]|0,$+=v<16?n(y,_,w)+d[0]:v<32?r(y,_,w)+d[1]:v<48?i(y,_,w)+d[2]:v<64?o(y,_,w)+d[3]:s(y,_,w)+d[4],$=0|$,$=a($,f[v]),$=$+S|0,b=S,S=w,w=a(_,10),_=y,y=$,$=x+e[u+l[v]]|0,$+=v<16?s(E,C,k)+p[0]:v<32?o(E,C,k)+p[1]:v<48?i(E,C,k)+p[2]:v<64?r(E,C,k)+p[3]:n(E,C,k)+p[4],$=0|$,$=a($,h[v]),$=$+A|0,x=A,A=k,k=a(C,10),C=E,E=$;$=t[1]+_+k|0,t[1]=t[2]+w+A|0,t[2]=t[3]+S+x|0,t[3]=t[4]+b+E|0,t[4]=t[0]+y+C|0,t[0]=$}}).call(this,t("buffer").Buffer)},{buffer:3}],138:[function(t,e,n){(function(t){function n(e,n){this._block=new t(e),this._finalSize=n,this._blockSize=e,this._len=0,this._s=0}n.prototype.init=function(){this._s=0,this._len=0},n.prototype.update=function(e,n){"string"==typeof e&&(n=n||"utf8",e=new t(e,n));for(var r=this._len+=e.length,i=this._s=this._s||0,o=0,s=this._block;i<r;){for(var a=Math.min(e.length,o+this._blockSize-i%this._blockSize),u=a-o,c=0;c<u;c++)s[i%this._blockSize+c]=e[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(s)}return this._s=i,this},n.prototype.digest=function(t){var e=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),e%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(e,this._blockSize-4);var n=this._update(this._block)||this._hash();return t?n.toString(t):n},n.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=n}).call(this,t("buffer").Buffer)},{buffer:3}],139:[function(t,e,n){var n=e.exports=function(t){var e=n[t.toLowerCase()];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};n.sha1=t("./sha1"),n.sha224=t("./sha224"),n.sha256=t("./sha256"),n.sha384=t("./sha384"),n.sha512=t("./sha512")},{"./sha1":140,"./sha224":141,"./sha256":142,"./sha384":143,"./sha512":144}],140:[function(t,e,n){(function(n){function r(){return m.length?m.pop().init():this instanceof r?(this._w=v,c.call(this,64,56),this._h=null,void this.init()):new r}function i(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function o(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function s(t,e){return t+e|0}function a(t,e){return t<<e|t>>>32-e}var u=t("util").inherits,c=t("./hash"),l=0,f=4,h=8,d=12,p=16,v=new("undefined"==typeof Int32Array?Array:Int32Array)(80),m=[];u(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,c.prototype.init.call(this),this},r.prototype._POOL=m,r.prototype._update=function(t){var e,n,r,u,c,l,f,h,d,p;e=l=this._a,n=f=this._b,r=h=this._c,u=d=this._d,c=p=this._e;for(var v=this._w,m=0;m<80;m++){var g=v[m]=m<16?t.readInt32BE(4*m):a(v[m-3]^v[m-8]^v[m-14]^v[m-16],1),b=s(s(a(e,5),i(m,n,r,u)),s(s(c,g),o(m)));c=u,u=r,r=a(n,30),n=e,e=b}this._a=s(e,l),this._b=s(n,f),this._c=s(r,h),this._d=s(u,d),this._e=s(c,p)},r.prototype._hash=function(){m.length<100&&m.push(this);var t=new n(20);return t.writeInt32BE(0|this._a,l),t.writeInt32BE(0|this._b,f),t.writeInt32BE(0|this._c,h),t.writeInt32BE(0|this._d,d),t.writeInt32BE(0|this._e,p),t},e.exports=r}).call(this,t("buffer").Buffer)},{"./hash":138,buffer:3,util:166}],141:[function(t,e,n){(function(n){function r(){this.init(),this._w=a,s.call(this,64,56)}var i=t("util").inherits,o=t("./sha256"),s=t("./hash"),a=new Array(64);i(r,o),r.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this._len=this._s=0,this},r.prototype._hash=function(){var t=new n(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},e.exports=r}).call(this,t("buffer").Buffer)},{"./hash":138,"./sha256":142,buffer:3,util:166}],142:[function(t,e,n){(function(n){function r(){this.init(),this._w=v,d.call(this,64,56)}function i(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}function s(t,e,n){return t&e^~t&n}function a(t,e,n){return t&e^t&n^e&n}function u(t){return i(t,2)^i(t,13)^i(t,22)}function c(t){return i(t,6)^i(t,11)^i(t,25)}function l(t){return i(t,7)^i(t,18)^o(t,3)}function f(t){return i(t,17)^i(t,19)^o(t,10)}var h=t("util").inherits,d=t("./hash"),p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],v=new Array(64);h(r,d),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},r.prototype._update=function(t){var e,n,r,i,o,h,d,v,m,g,b=this._w;e=0|this._a,n=0|this._b,r=0|this._c,i=0|this._d,o=0|this._e,h=0|this._f,d=0|this._g,v=0|this._h;for(var y=0;y<64;y++){var _=b[y]=y<16?t.readInt32BE(4*y):f(b[y-2])+b[y-7]+l(b[y-15])+b[y-16];m=v+c(o)+s(o,h,d)+p[y]+_,g=u(e)+a(e,n,r),v=d,d=h,h=o,o=i+m,i=r,r=n,n=e,e=m+g}this._a=e+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=i+this._d|0,this._e=o+this._e|0,this._f=h+this._f|0,this._g=d+this._g|0,this._h=v+this._h|0},r.prototype._hash=function(){var t=new n(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},e.exports=r}).call(this,t("buffer").Buffer)},{"./hash":138,buffer:3,util:166}],143:[function(t,e,n){(function(n){function r(){this.init(),this._w=a,s.call(this,128,112)}var i=t("util").inherits,o=t("./sha512"),s=t("./hash"),a=new Array(160);i(r,o),r.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this._len=this._s=0,this},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=new n(48);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),e},e.exports=r}).call(this,t("buffer").Buffer)},{"./hash":138,"./sha512":144,buffer:3,util:166}],144:[function(t,e,n){(function(n){function r(){this.init(),this._w=l,u.call(this,128,112)}function i(t,e,n){return t>>>n|e<<32-n}function o(t,e,n){return t&e^~t&n}function s(t,e,n){return t&e^t&n^e&n}var a=t("util").inherits,u=t("./hash"),c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);a(r,u),r.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this._len=this._s=0,this},r.prototype._update=function(t){var e,n,r,a,u,l,f,h,d,p,v,m,g,b,y,_,w=this._w;e=0|this._a,n=0|this._b,r=0|this._c,a=0|this._d,u=0|this._e,l=0|this._f,f=0|this._g,h=0|this._h,d=0|this._al,p=0|this._bl,v=0|this._cl,m=0|this._dl,g=0|this._el,b=0|this._fl,y=0|this._gl,_=0|this._hl;for(var S=0;S<80;S++){var x,E,C=2*S;if(S<16)x=w[C]=t.readInt32BE(4*C),E=w[C+1]=t.readInt32BE(4*C+4);else{var k=w[C-30],A=w[C-30+1],$=i(k,A,1)^i(k,A,8)^k>>>7,T=i(A,k,1)^i(A,k,8)^i(A,k,7);k=w[C-4],A=w[C-4+1];var N=i(k,A,19)^i(A,k,29)^k>>>6,O=i(A,k,19)^i(k,A,29)^i(A,k,6),I=w[C-14],M=w[C-14+1],R=w[C-32],D=w[C-32+1];E=T+M,x=$+I+(E>>>0<T>>>0?1:0),E+=O,x=x+N+(E>>>0<O>>>0?1:0),E+=D,x=x+R+(E>>>0<D>>>0?1:0),w[C]=x,w[C+1]=E}var L=s(e,n,r),j=s(d,p,v),P=i(e,d,28)^i(d,e,2)^i(d,e,7),q=i(d,e,28)^i(e,d,2)^i(e,d,7),B=i(u,g,14)^i(u,g,18)^i(g,u,9),F=i(g,u,14)^i(g,u,18)^i(u,g,9),U=c[C],H=c[C+1],z=o(u,l,f),V=o(g,b,y),W=_+F,K=h+B+(W>>>0<_>>>0?1:0);W+=V,K=K+z+(W>>>0<V>>>0?1:0),W+=H,K=K+U+(W>>>0<H>>>0?1:0),W+=E,K=K+x+(W>>>0<E>>>0?1:0);var J=q+j,X=P+L+(J>>>0<q>>>0?1:0);h=f,_=y,f=l,y=b,l=u,b=g,g=m+W|0,u=a+K+(g>>>0<m>>>0?1:0)|0,a=r,m=v,r=n,v=p,n=e,p=d,d=W+J|0,e=K+X+(d>>>0<W>>>0?1:0)|0}this._al=this._al+d|0,this._bl=this._bl+p|0,this._cl=this._cl+v|0,this._dl=this._dl+m|0,this._el=this._el+g|0,this._fl=this._fl+b|0,this._gl=this._gl+y|0,this._hl=this._hl+_|0,this._a=this._a+e+(this._al>>>0<d>>>0?1:0)|0,this._b=this._b+n+(this._bl>>>0<p>>>0?1:0)|0,this._c=this._c+r+(this._cl>>>0<v>>>0?1:0)|0,this._d=this._d+a+(this._dl>>>0<m>>>0?1:0)|0,this._e=this._e+u+(this._el>>>0<g>>>0?1:0)|0,this._f=this._f+l+(this._fl>>>0<b>>>0?1:0)|0,this._g=this._g+f+(this._gl>>>0<y>>>0?1:0)|0,this._h=this._h+h+(this._hl>>>0<_>>>0?1:0)|0},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=new n(64);return t(this._a,this._al,0),t(this._b,this._bl,8),t(this._c,this._cl,16),t(this._d,this._dl,24),t(this._e,this._el,32),t(this._f,this._fl,40),t(this._g,this._gl,48),t(this._h,this._hl,56),e},e.exports=r}).call(this,t("buffer").Buffer)},{"./hash":138,buffer:3,util:166}],145:[function(t,e,n){var r=t("pbkdf2-compat/pbkdf2");e.exports=function(t,e){e=e||{};var n=r(t);return e.pbkdf2=n.pbkdf2,e.pbkdf2Sync=n.pbkdf2Sync,e}},{"pbkdf2-compat/pbkdf2":108}],146:[function(t,e,n){(function(n,r){!function(){var i=("undefined"==typeof window?n:window)||{},o=i.crypto||i.msCrypto||t("crypto");e.exports=function(t){if(o.getRandomValues){var e=new r(t);return o.getRandomValues(e),e}if(o.pseudoRandomBytes)return o.pseudoRandomBytes(t);throw new Error("pseudo random number generation not yet implemented for this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:3,crypto:2}],147:[function(t,e,n){(function(n,r){!function(){var i=("undefined"==typeof window?n:window)||{},o=i.crypto||i.msCrypto||t("crypto");e.exports=function(t){if(o.getRandomValues){var e=new r(t);return o.getRandomValues(e),e}if(o.randomBytes)return o.randomBytes(t);throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},t("buffer").Buffer)},{buffer:3,crypto:2}],148:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"number"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,o,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[t],a(n))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];n.apply(this,o)}else if(s(n)){for(r=arguments.length,o=new Array(r-1),u=1;u<r;u++)o[u-1]=arguments[u];for(c=n.slice(),r=c.length,u=0;u<r;u++)c[u].apply(this,o)}return!0},r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned){var n;n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,o,a;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],o=n.length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(a=o;a-- >0;)if(n[a]===e||n[a].listener&&n[a].listener===e){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],i(n))this.removeListener(t,n);else for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.listenerCount=function(t,e){var n;return n=t._events&&t._events[e]?i(t._events[e])?1:t._events[e].length:0}},{}],149:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],150:[function(t,e,n){e.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},{}],151:[function(t,e,n){function r(){}var i=e.exports={};i.nextTick=function(){var t="undefined"!=typeof window&&window.setImmediate,e="undefined"!=typeof window&&window.MutationObserver,n="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(t)return function(t){return window.setImmediate(t)};var r=[];if(e){var i=document.createElement("div"),o=new MutationObserver(function(){var t=r.slice();r.length=0,t.forEach(function(t){t()})});return o.observe(i,{attributes:!0}),function(t){r.length||i.setAttribute("yes","no"),r.push(t)}}return n?(window.addEventListener("message",function(t){var e=t.source;if((e===window||null===e)&&"process-tick"===t.data&&(t.stopPropagation(),r.length>0)){var n=r.shift();n()}},!0),function(t){r.push(t),window.postMessage("process-tick","*")}):function(t){setTimeout(t,0)}}(),i.title="browser",i.browser=!0,i.env={},i.argv=[],i.on=r,i.addListener=r,i.once=r,i.off=r,i.removeListener=r,i.removeAllListeners=r,i.emit=r,i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")}},{}],152:[function(t,e,n){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":153}],153:[function(t,e,n){(function(n){function r(t){return this instanceof r?(u.call(this,t),c.call(this,t),t&&t.readable===!1&&(this.readable=!1),t&&t.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,t&&t.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new r(t)}function i(){this.allowHalfOpen||this._writableState.ended||n.nextTick(this.end.bind(this))}function o(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}e.exports=r;var s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e},a=t("core-util-is");a.inherits=t("inherits");var u=t("./_stream_readable"),c=t("./_stream_writable");a.inherits(r,u),o(s(c.prototype),function(t){r.prototype[t]||(r.prototype[t]=c.prototype[t])})}).call(this,t("_process"))},{"./_stream_readable":155,"./_stream_writable":157,_process:151,"core-util-is":158,inherits:149}],154:[function(t,e,n){function r(t){return this instanceof r?void i.call(this,t):new r(t)}e.exports=r;var i=t("./_stream_transform"),o=t("core-util-is");o.inherits=t("inherits"),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},{"./_stream_transform":156,"core-util-is":158,inherits:149}],155:[function(t,e,n){(function(n){function r(e,n){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($||($=t("string_decoder/").StringDecoder),this.decoder=new $(e.encoding),this.encoding=e.encoding)}function i(t){return this instanceof i?(this._readableState=new r(t,this),this.readable=!0,void k.call(this)):new i(t)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(null===n||void 0===n)e.reading=!1,e.ended||l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||i||r||(n=e.decoder.write(n)),e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):(e.reading=!1,e.buffer.push(n)),e.needReadable&&f(t),d(t,e);else i||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=T)t=T;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:null===t||isNaN(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return E.isBuffer(e)||"string"==typeof e||null===e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.length>0?f(t):_(t)}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,e.sync?n.nextTick(function(){h(t)}):h(t))}function h(t){t.emit("readable")}function d(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(function(){p(t,e)}))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;e.awaitDrain--,0===e.awaitDrain&&m(t)}}function m(t){function e(t,e,i){var o=t.write(n);!1===o&&r.awaitDrain++}var n,r=t._readableState;for(r.awaitDrain=0;r.pipesCount&&null!==(n=t.read());)if(1===r.pipesCount?e(r.pipes,0,null):w(r.pipes,e),t.emit("data",n),r.awaitDrain>0)return;return 0===r.pipesCount?(r.flowing=!1,void(C.listenerCount(t,"data")>0&&b(t))):void(r.ranOut=!0)}function g(){this._readableState.ranOut&&(this._readableState.ranOut=!1,m(this))}function b(t,e){var r=t._readableState;if(r.flowing)throw new Error("Cannot switch to old mode now.");var i=e||!1,o=!1;t.readable=!0,t.pipe=k.prototype.pipe,t.on=t.addListener=k.prototype.on,t.on("readable",function(){o=!0;for(var e;!i&&null!==(e=t.read());)t.emit("data",e);null===e&&(o=!1,t._readableState.needReadable=!0)}),t.pause=function(){i=!0,this.emit("pause")},t.resume=function(){i=!1,o?n.nextTick(function(){t.emit("readable")}):this.read(0),this.emit("resume")},t.emit("readable")}function y(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=o?r.join(""):E.concat(r,i),r.length=0;else if(t<r[0].length){var a=r[0];n=a.slice(0,t),r[0]=a.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new E(t);for(var u=0,c=0,l=r.length;c<l&&u<t;c++){var a=r[0],f=Math.min(t-u,a.length);o?n+=a.slice(0,f):a.copy(n,u,0,f),f<a.length?r[0]=a.slice(f):r.shift(),u+=f}}return n}function _(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");!e.endEmitted&&e.calledRead&&(e.ended=!0,n.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function w(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function S(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}e.exports=i;var x=t("isarray"),E=t("buffer").Buffer;i.ReadableState=r;var C=t("events").EventEmitter;C.listenerCount||(C.listenerCount=function(t,e){return t.listeners(e).length});var k=t("stream"),A=t("core-util-is");A.inherits=t("inherits");var $;A.inherits(i,k),i.prototype.push=function(t,e){var n=this._readableState;return"string"!=typeof t||n.objectMode||(e=e||n.defaultEncoding,e!==n.encoding&&(t=new E(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(e){$||($=t("string_decoder/").StringDecoder),this._readableState.decoder=new $(e),this._readableState.encoding=e};var T=8388608;i.prototype.read=function(t){var e=this._readableState;e.calledRead=!0;var n,r=t;if(("number"!=typeof t||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f(this),null;if(t=u(t,e),0===t&&e.ended)return n=null,e.length>0&&e.decoder&&(n=y(t,e),e.length-=n.length),0===e.length&&_(this),n;var i=e.needReadable;return e.length-t<=e.highWaterMark&&(i=!0),(e.ended||e.reading)&&(i=!1),i&&(e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),i&&!e.reading&&(t=u(r,e)),n=t>0?y(t,e):null,null===n&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),e.ended&&!e.endEmitted&&0===e.length&&_(this),n},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function r(t){t===l&&o()}function i(){t.end()}function o(){t.removeListener("close",a),t.removeListener("finish",u),t.removeListener("drain",p),t.removeListener("error",s),t.removeListener("unpipe",r),l.removeListener("end",i),l.removeListener("end",o),t._writableState&&!t._writableState.needDrain||p()}function s(e){c(),t.removeListener("error",s),0===C.listenerCount(t,"error")&&t.emit("error",e)}
function a(){t.removeListener("finish",u),c()}function u(){t.removeListener("close",a),c()}function c(){l.unpipe(t)}var l=this,f=this._readableState;switch(f.pipesCount){case 0:f.pipes=t;break;case 1:f.pipes=[f.pipes,t];break;default:f.pipes.push(t)}f.pipesCount+=1;var h=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,d=h?i:o;f.endEmitted?n.nextTick(d):l.once("end",d),t.on("unpipe",r);var p=v(l);return t.on("drain",p),t._events&&t._events.error?x(t._events.error)?t._events.error.unshift(s):t._events.error=[s,t._events.error]:t.on("error",s),t.once("close",a),t.once("finish",u),t.emit("pipe",l),f.flowing||(this.on("readable",g),f.flowing=!0,n.nextTick(function(){m(l)})),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,this.removeListener("readable",g),e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,this.removeListener("readable",g),e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=S(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var n=k.prototype.on.call(this,t,e);if("data"!==t||this._readableState.flowing||b(this),"readable"===t&&this.readable){var r=this._readableState;r.readableListening||(r.readableListening=!0,r.emittedReadable=!1,r.needReadable=!0,r.reading?r.length&&f(this,r):this.read(0))}return n},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){b(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){b(this,!0),this.emit("pause")},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(e.decoder&&(i=e.decoder.write(i)),(!e.objectMode||null!==i&&void 0!==i)&&(e.objectMode||i&&i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)"function"==typeof t[i]&&"undefined"==typeof this[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return w(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){n&&(n=!1,t.resume())},r},i._fromList=y}).call(this,t("_process"))},{_process:151,buffer:3,"core-util-is":158,events:148,inherits:149,isarray:150,stream:163,"string_decoder/":164}],156:[function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!==n&&void 0!==n&&t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t);var e=(this._transformState=new r(t,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=(t._readableState,t._transformState);if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=o;var a=t("./_stream_duplex"),u=t("core-util-is");u.inherits=t("inherits"),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":153,"core-util-is":158,inherits:149}],157:[function(t,e,n){(function(n){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(t,e){t=t||{};var n=t.highWaterMark;this.highWaterMark=n||0===n?n:16384,this.objectMode=!!t.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var r=t.decodeStrings===!1;this.decodeStrings=!r,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){d(e,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(e){var n=t("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(e,this),this.writable=!0,void S.call(this)):new o(e)}function s(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick(function(){r(i)})}function a(t,e,r,i){var o=!0;if(!_.isBuffer(r)&&"string"!=typeof r&&null!==r&&void 0!==r&&!e.objectMode){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(t,e,n){return t.objectMode||t.decodeStrings===!1||"string"!=typeof e||(e=new _(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i),_.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing?e.buffer.push(new r(n,i,o)):l(t,e,s,n,i,o),a}function l(t,e,n,r,i,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,t._write(r,i,e.onwrite),e.sync=!1}function f(t,e,r,i,o){r?n.nextTick(function(){o(i)}):o(i),t._writableState.errorEmitted=!0,t.emit("error",i)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function d(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(h(r),e)f(t,r,i,e,o);else{var s=g(t,r);s||r.bufferProcessing||!r.buffer.length||m(t,r),i?n.nextTick(function(){p(t,r,s,o)}):p(t,r,s,o)}}function p(t,e,n,r){n||v(t,e),r(),n&&b(t,e)}function v(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){e.bufferProcessing=!0;for(var n=0;n<e.buffer.length;n++){var r=e.buffer[n],i=r.chunk,o=r.encoding,s=r.callback,a=e.objectMode?1:i.length;if(l(t,e,a,i,o,s),e.writing){n++;break}}e.bufferProcessing=!1,n<e.buffer.length?e.buffer=e.buffer.slice(n):e.buffer.length=0}function g(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function b(t,e){var n=g(t,e);return n&&(e.finished=!0,t.emit("finish")),n}function y(t,e,r){e.ending=!0,b(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}e.exports=o;var _=t("buffer").Buffer;o.WritableState=i;var w=t("core-util-is");w.inherits=t("inherits");var S=t("stream");w.inherits(o,S),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return"function"==typeof e&&(n=e,e=null),_.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=function(){}),r.ended?s(this,r,n):a(this,r,t,n)&&(i=c(this,r,t,e,n)),i},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype.end=function(t,e,n){var r=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),"undefined"!=typeof t&&null!==t&&this.write(t,e),r.ending||r.finished||y(this,r,n)}}).call(this,t("_process"))},{"./_stream_duplex":153,_process:151,buffer:3,"core-util-is":158,inherits:149,stream:163}],158:[function(t,e,n){(function(t){function e(t){return Array.isArray(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return f(t)&&"[object RegExp]"===g(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return f(t)&&"[object Date]"===g(t)}function d(t){return f(t)&&("[object Error]"===g(t)||t instanceof Error)}function p(t){return"function"==typeof t}function v(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(e){return t.isBuffer(e)}function g(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=f,n.isDate=h,n.isError=d,n.isFunction=p,n.isPrimitive=v,n.isBuffer=m}).call(this,t("buffer").Buffer)},{buffer:3}],159:[function(t,e,n){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":154}],160:[function(t,e,n){var r=t("stream");n=e.exports=t("./lib/_stream_readable.js"),n.Stream=r,n.Readable=n,n.Writable=t("./lib/_stream_writable.js"),n.Duplex=t("./lib/_stream_duplex.js"),n.Transform=t("./lib/_stream_transform.js"),n.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":153,"./lib/_stream_passthrough.js":154,"./lib/_stream_readable.js":155,"./lib/_stream_transform.js":156,"./lib/_stream_writable.js":157,stream:163}],161:[function(t,e,n){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":156}],162:[function(t,e,n){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":157}],163:[function(t,e,n){function r(){i.call(this)}e.exports=r;var i=t("events").EventEmitter,o=t("inherits");o(r,i),r.Readable=t("readable-stream/readable.js"),r.Writable=t("readable-stream/writable.js"),r.Duplex=t("readable-stream/duplex.js"),r.Transform=t("readable-stream/transform.js"),r.PassThrough=t("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,t.end())}function s(){l||(l=!0,"function"==typeof t.destroy&&t.destroy())}function a(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",s),c.removeListener("error",a),t.removeListener("error",a),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&e.end===!1||(c.on("end",o),c.on("close",s));var l=!1;return c.on("error",a),t.on("error",a),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},{events:148,inherits:149,"readable-stream/duplex.js":152,"readable-stream/passthrough.js":159,"readable-stream/readable.js":160,"readable-stream/transform.js":161,"readable-stream/writable.js":162}],164:[function(t,e,n){function r(t){if(t&&!u(t))throw new Error("Unknown encoding: "+t)}function i(t){return t.toString(this.encoding)}function o(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function s(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}var a=t("buffer").Buffer,u=a.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=n.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),r(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=i)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(t){for(var e="";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return"";t=t.slice(n,t.length),e=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var r=e.charCodeAt(e.length-1);if(!(r>=55296&&r<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var i=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,i),i-=this.charReceived),e+=t.toString(this.encoding,0,i);var i=e.length-1,r=e.charCodeAt(i);if(r>=55296&&r<=56319){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),t.copy(this.charBuffer,0,0,o),e.substring(0,i)}return e},c.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(1==e&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},c.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e}},{buffer:3}],165:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],166:[function(t,e,n){(function(e,r){function i(t,e){var r={seen:[],stylize:s};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(e)?r.showHidden=e:e&&n._extend(r,e),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=o),u(r,t,r.depth)}function o(t,e){var n=i.styles[e];return n?"["+i.colors[n][0]+"m"+t+"["+i.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,r){if(t.customInspect&&e&&k(e.inspect)&&e.inspect!==n.inspect&&(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(r,t);return y(i)||(i=u(t,i,r)),i}var o=c(t,e);if(o)return o;var s=Object.keys(e),v=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),C(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return l(e);if(0===s.length){if(k(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(S(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(E(e))return t.stylize(Date.prototype.toString.call(e),"date");if(C(e))return l(e)}var g="",b=!1,_=["{","}"];if(p(e)&&(b=!0,_=["[","]"]),k(e)){var w=e.name?": "+e.name:"";g=" [Function"+w+"]"}if(S(e)&&(g=" "+RegExp.prototype.toString.call(e)),E(e)&&(g=" "+Date.prototype.toUTCString.call(e)),C(e)&&(g=" "+l(e)),0===s.length&&(!b||0==e.length))return _[0]+g+_[1];if(r<0)return S(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var x;return x=b?f(t,e,r,v,s):s.map(function(n){return h(t,e,r,v,n,b)}),t.seen.pop(),d(x,g,_)}function c(t,e){if(w(e))return t.stylize("undefined","undefined");if(y(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return b(e)?t.stylize(""+e,"number"):v(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function l(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,r,i){for(var o=[],s=0,a=e.length;s<a;++s)O(e,String(s))?o.push(h(t,e,n,r,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(t,e,n,r,i,!0))}),o}function h(t,e,n,r,i,o){var s,a,c;if(c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]},c.get?a=c.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):c.set&&(a=t.stylize("[Setter]","special")),O(r,i)||(s="["+i+"]"),a||(t.seen.indexOf(c.value)<0?(a=m(n)?u(t,c.value,null):u(t,c.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),w(s)){if(o&&i.match(/^\d+$/))return a;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t,e,n){var r=0,i=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function p(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function m(t){return null===t}function g(t){return null==t}function b(t){return"number"==typeof t}function y(t){return"string"==typeof t}function _(t){return"symbol"==typeof t}function w(t){return void 0===t}function S(t){return x(t)&&"[object RegExp]"===$(t)}function x(t){return"object"==typeof t&&null!==t}function E(t){return x(t)&&"[object Date]"===$(t)}function C(t){return x(t)&&("[object Error]"===$(t)||t instanceof Error)}function k(t){return"function"==typeof t}function A(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function $(t){return Object.prototype.toString.call(t)}function T(t){return t<10?"0"+t.toString(10):t.toString(10)}function N(){var t=new Date,e=[T(t.getHours()),T(t.getMinutes()),T(t.getSeconds())].join(":");return[t.getDate(),D[t.getMonth()],e].join(" ")}function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var I=/%[sdj%]/g;n.format=function(t){if(!y(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(i(arguments[n]));return e.join(" ")}for(var n=1,r=arguments,o=r.length,s=String(t).replace(I,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return t}}),a=r[n];n<o;a=r[++n])s+=m(a)||!x(a)?" "+a:" "+i(a);return s},n.deprecate=function(t,i){function o(){if(!s){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),s=!0}return t.apply(this,arguments)}if(w(r.process))return function(){return n.deprecate(t,i).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var M,R={};n.debuglog=function(t){if(w(M)&&(M=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!R[t])if(new RegExp("\\b"+t+"\\b","i").test(M)){var r=e.pid;R[t]=function(){var e=n.format.apply(n,arguments);console.error("%s %d: %s",t,r,e)}}else R[t]=function(){};return R[t]},n.inspect=i,i.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},i.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},n.isArray=p,n.isBoolean=v,n.isNull=m,n.isNullOrUndefined=g,n.isNumber=b,n.isString=y,n.isSymbol=_,n.isUndefined=w,n.isRegExp=S,n.isObject=x,n.isDate=E,n.isError=C,n.isFunction=k,n.isPrimitive=A,n.isBuffer=t("./support/isBuffer");var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];n.log=function(){console.log("%s - %s",N(),n.format.apply(n,arguments))},n.inherits=t("inherits"),n._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":165,_process:151,inherits:149}],167:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){return this instanceof Script?void(this.code=t):new Script(t)};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),s=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||indexOf(o,e)===-1)&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"==typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},{indexof:168}],168:[function(t,e,n){var r=[].indexOf;e.exports=function(t,e){if(r)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},{}],169:[function(t,e,n){(function(r){function i(t,e){return new l(function(n,r){u.pbkdf2(t,e,1e3,32,function(e,i){return t=null,e?r(e):void n(i)})})}function o(t,e){function n(t){if(p)return t;var e,n;"_id"in t?(e=t._id,delete t._id):e=d.v4(),"_rev"in t&&(n=t._rev,delete t._rev);var i=u.randomBytes(12),o=JSON.stringify(t),s={_id:e,nonce:i.toString("hex")};n&&(s._rev=n);var l=c.createCipher(a,i);return l.setAAD(new r(e)),s.data=l.update(o).toString("hex"),l["final"](),s.tag=l.getAuthTag().toString("hex"),s}function o(t){if(p||!t.nonce)return t;var e=c.createDecipher(a,new r(t.nonce,"hex"));e.setAAD(new r(t._id)),e.setAuthTag(new r(t.tag,"hex"));var n=e.update(new r(t.data,"hex")).toString();return e["final"](),n=JSON.parse(n),n._id=t._id,n._rev=t._rev,n}var a,l,h=this,p=!1;return h.get(f)["catch"](function(t){if(404===t.status){var e={_id:f,salt:u.randomBytes(16).toString("hex")};return h.put(e).then(function(){return e})}throw t}).then(function(n){var o;return"string"==typeof e?(o=u.getDiffieHellman(e),o.generateKeys(),l=o.getPublicKey(),t=o.computeSecret(t)):r.isBuffer(e)&&(o=u.createDiffieHellman(e),o.generateKeys(),l=o.getPublicKey(),t=o.computeSecret(t)),i(t,new r(n.salt,"hex"))}).then(function(e){if(t=null,a=e,h.filter({incoming:n,outgoing:o}),h.removeCrypto=function(){s(a),p=!0},l)return l})}function s(t){for(var e=t.length,n=u.randomBytes(e),r=-1;++r<e;)t[r]=n[r]}function a(t,e){if(!t||!e.nonce)return e;var n=c.createDecipher(t,new r(e.nonce,"hex"));n.setAAD(new r(e._id)),n.setAuthTag(new r(e.tag,"hex"));var i=n.update(new r(e.data,"hex")).toString();return n["final"](),i=JSON.parse(i),i._id=e._id,i._rev=e._rev,i}var u=t("crypto"),c=t("chacha"),l=t("pouchdb-promise"),f="_local/crypto",h=t("filter-pouch").filter,d=t("node-uuid");n.filter=h,n.crypto=o,n.decrypt=a,"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(e.exports)}).call(this,t("buffer").Buffer)},{buffer:3,chacha:174,crypto:10,"filter-pouch":188,"node-uuid":208,"pouchdb-promise":209}],170:[function(t,e,n){(function(n){function r(t,e,n){return this instanceof r?(a.call(this),this.alen=0,this.clen=0,this.chacha=new u(t,e),this.poly=new c(this.chacha.getBytes(64)),this.tag=null,this._decrypt=n,void(this._hasData=!1)):new r(t,e,n)}function i(t){var e=t%16;return e?16-e:0}function o(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=-1;++i<r;)n+=t[i]^e[i];return n}var s=t("inherits"),a=t("./cipherbase"),u=t("./chacha20"),a=t("./cipherbase"),c=t("./poly1305");s(r,a),e.exports=r,r.prototype.setAAD=function(t){if(this._hasData)throw new Error("Attempting to set AAD in unsupported state");this.alen=t.length,this.poly.update(t);var e=new n(i(this.alen));e.length&&(e.fill(0),this.poly.update(e))},r.prototype._update=function(t){this._hasData||(this._hasData=!0);var e=t.length;if(!e)return next();this.clen+=e;for(var n=this.chacha.getBytes(e),r=-1;++r<e;)n[r]^=t[r];return this._decrypt?this.poly.update(t):this.poly.update(n),n},r.prototype._final=function(){if(this._decrypt&&!this.tag)throw new Error("Unsupported state or unable to authenticate data");var t=new n(i(this.clen));t.length&&(t.fill(0),this.poly.update(t));var e=new n(16);e.fill(0),e.writeUInt32LE(this.alen,0),e.writeUInt32LE(this.clen,8);var r=this.poly.update(e).finish();if(this._decrypt){if(o(r,this.tag))throw new Error("Unsupported state or unable to authenticate data")}else this.tag=r},r.prototype.getAuthTag=function(){if(this._decrypt||null===this.tag)throw new Error("Attempting to get auth tag in unsupported state");return this.tag},r.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this.tag=t}}).call(this,t("buffer").Buffer)},{"./chacha20":171,"./cipherbase":173,"./poly1305":186,buffer:3,inherits:176}],171:[function(t,e,n){(function(t){function n(t,e){return t<<e|t>>>32-e}function r(e,n){this.input=new Uint32Array(16),this.input[0]=i.readUInt32LE(0),this.input[1]=i.readUInt32LE(4),this.input[2]=i.readUInt32LE(8),this.input[3]=i.readUInt32LE(12),this.input[4]=e.readUInt32LE(0),this.input[5]=e.readUInt32LE(4),this.input[6]=e.readUInt32LE(8),this.input[7]=e.readUInt32LE(12),this.input[8]=e.readUInt32LE(16),this.input[9]=e.readUInt32LE(20),this.input[10]=e.readUInt32LE(24),this.input[11]=e.readUInt32LE(28),this.input[12]=0,this.input[13]=n.readUInt32LE(0),this.input[14]=n.readUInt32LE(4),this.input[15]=n.readUInt32LE(8),this.cachePos=64,this.buffer=new Uint32Array(16),this.output=new t(64)}var i=new t("expand 32-byte k");e.exports=r,r.prototype.quarterRound=function(t,e,r,i){var o=this.buffer;o[t]+=o[e],o[i]=n(o[i]^o[t],16),o[r]+=o[i],o[e]=n(o[e]^o[r],12),o[t]+=o[e],o[i]=n(o[i]^o[t],8),o[r]+=o[i],o[e]=n(o[e]^o[r],7)},r.prototype.makeBlock=function(t,e){for(var n=-1;++n<16;)this.buffer[n]=this.input[n];for(n=-1;++n<10;)this.quarterRound(0,4,8,12),this.quarterRound(1,5,9,13),this.quarterRound(2,6,10,14),this.quarterRound(3,7,11,15),this.quarterRound(0,5,10,15),this.quarterRound(1,6,11,12),this.quarterRound(2,7,8,13),this.quarterRound(3,4,9,14);for(n=-1;++n<16;)this.buffer[n]+=this.input[n],t.writeUInt32LE(this.buffer[n],e),e+=4;if(this.input[12]++,!this.input[12])throw new Error("counter is exausted")},r.prototype.getBytes=function(e){var n=0,r=new t(e),i=64-this.cachePos;if(i){if(i>=e)return this.output.copy(r,0,this.cachePos,64),this.cachePos+=e,r;this.output.copy(r,0,this.cachePos,64),e-=i,n+=i,this.cachePos=64}for(;e>0;){if(e<=64)return this.makeBlock(this.output,0),this.output.copy(r,n,0,e),e<64&&(this.cachePos=e),r;this.makeBlock(r,n),e-=64,n+=64}throw new Error("something bad happended")}}).call(this,t("buffer").Buffer)},{buffer:3}],172:[function(t,e,n){function r(t,e){return this instanceof r?(s.call(this),void(this.chacha=new i(t,e))):new r(t,e)}var i=t("./chacha20"),o=t("inherits"),s=t("./cipherbase");o(r,s),e.exports=r,r.prototype._update=function(t){var e=t.length;if(e){for(var n=this.chacha.getBytes(e),r=-1;++r<e;)n[r]^=t[r];return n}}},{"./chacha20":171,"./cipherbase":173,inherits:176}],173:[function(t,e,n){(function(n){function r(t){t?this.digest=i:this["final"]=i}function i(t){var e=this._final()||new n("");return t&&(e=e.toString(t)),e}var o=t("readable-stream").Transform,s=t("inherits");e.exports=r,s(r,o),["_readableState","_writableState","_transformState"].forEach(function(t){Object.defineProperty(r.prototype,t,{get:function(){return o.call(this),this[t]},set:function(e){Object.defineProperty(this,t,{value:e,enumerable:!0,configurable:!0,writable:!0})},configurable:!0,enumerable:!0})}),r.prototype.update=function(t,e,r){"string"==typeof t&&(t=new n(t,e));var i=this._update(t)||new n("");return r&&(i=i.toString(r)),this.digest?this:i},r.prototype._transform=function(t,e,n){this.push(this._update(t)),n()},r.prototype._flush=function(t){try{this.push(this._final())}catch(e){return t(e)}t()},r.prototype._final=function(){}}).call(this,t("buffer").Buffer)},{buffer:3,inherits:176,"readable-stream":185}],174:[function(t,e,n){function r(t,e){return new o(t,e)}function i(t,e){return new o(t,e,(!0))}var o=t("./aead");n.aead=o,n.createCipher=r,n.createDecipher=i,n.createHmac=t("./polystream"),n.chacha20=n.ChaCha20=t("./chachastream"),n.aeadLegacy=n.AeadLegacy=t("./legacy-aead")},{"./aead":170,"./chachastream":172,"./legacy-aead":175,"./polystream":187}],175:[function(t,e,n){(function(n){function r(t,e,i){return this instanceof r?(s.call(this),this.alen=0,this.clen=0,this.chacha=new a(t,n.concat([c,e])),this.poly=new u(this.chacha.getBytes(64)),this.tag=null,this._decrypt=i,void(this._hasData=!1)):new r(t,e,i)}function i(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=-1;++i<r;)n+=t[i]^e[i];return n}var o=t("inherits"),s=t("./cipherbase"),a=t("./chacha20"),u=t("./poly1305");o(r,s),e.exports=r;var c=new n(4);c.fill(0),r.prototype.setAAD=function(t){if(this._hasData)throw new Error("Attempting to set AAD in unsupported state");this.alen+=t.length,this.poly.update(t)},r.prototype._flushlentag=function(){this._hasData=!0;var t=new n(8);t.fill(0),t.writeUInt32LE(this.alen,0),this.poly.update(t)},r.prototype._update=function(t){this._hasData||this._flushlentag();var e=t.length;if(e){this.clen+=e;for(var n=this.chacha.getBytes(e),r=-1;++r<e;)n[r]^=t[r];return this._decrypt?this.poly.update(t):this.poly.update(n),n}},r.prototype._final=function(){if(this._decrypt&&!this.tag)throw new Error("Unsupported state or unable to authenticate data");this._hasData||this._flushlentag();var t=new n(8);t.fill(0),t.writeUInt32LE(this.clen,0);var e=this.poly.update(t).finish();if(this._decrypt){if(i(e,this.tag))throw new Error("Unsupported state or unable to authenticate data")}else this.tag=e},r.prototype.getAuthTag=function(){if(this._decrypt||null===this.tag)throw new Error("Attempting to get auth tag in unsupported state");return this.tag},r.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this.tag=t}}).call(this,t("buffer").Buffer)},{"./chacha20":171,"./cipherbase":173,"./poly1305":186,buffer:3,inherits:176}],176:[function(t,e,n){arguments[4][149][0].apply(n,arguments)},{dup:149}],177:[function(t,e,n){arguments[4][153][0].apply(n,arguments)},{"./_stream_readable":179,"./_stream_writable":181,_process:151,"core-util-is":182,dup:153,inherits:176}],178:[function(t,e,n){arguments[4][154][0].apply(n,arguments)},{"./_stream_transform":180,"core-util-is":182,dup:154,inherits:176}],179:[function(t,e,n){(function(n){function r(e,n){var r=t("./_stream_duplex");e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!e.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),
this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&($||($=t("string_decoder/").StringDecoder),this.decoder=new $(e.encoding),this.encoding=e.encoding)}function i(e){t("./_stream_duplex");return this instanceof i?(this._readableState=new r(e,this),this.readable=!0,void k.call(this)):new i(e)}function o(t,e,n,r,i){var o=c(e,n);if(o)t.emit("error",o);else if(A.isNullOrUndefined(n))e.reading=!1,e.ended||l(t,e);else if(e.objectMode||n&&n.length>0)if(e.ended&&!i){var a=new Error("stream.push() after EOF");t.emit("error",a)}else if(e.endEmitted&&i){var a=new Error("stream.unshift() after end event");t.emit("error",a)}else!e.decoder||i||r||(n=e.decoder.write(n)),i||(e.reading=!1),e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&f(t)),d(t,e);else i||(e.reading=!1);return s(e)}function s(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function a(t){if(t>=N)t=N;else{t--;for(var e=1;e<32;e<<=1)t|=t>>e;t++}return t}function u(t,e){return 0===e.length&&e.ended?0:e.objectMode?0===t?0:1:isNaN(t)||A.isNull(t)?e.flowing&&e.buffer.length?e.buffer[0].length:e.length:t<=0?0:(t>e.highWaterMark&&(e.highWaterMark=a(t)),t>e.length?e.ended?e.length:(e.needReadable=!0,0):t)}function c(t,e){var n=null;return A.isBuffer(e)||A.isString(e)||A.isNullOrUndefined(e)||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function l(t,e){if(e.decoder&&!e.ended){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,f(t)}function f(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(T("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?n.nextTick(function(){h(t)}):h(t))}function h(t){T("emit readable"),t.emit("readable"),b(t)}function d(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(function(){p(t,e)}))}function p(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(T("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function v(t){return function(){var e=t._readableState;T("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&C.listenerCount(t,"data")&&(e.flowing=!0,b(t))}}function m(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(function(){g(t,e)}))}function g(t,e){e.resumeScheduled=!1,t.emit("resume"),b(t),e.flowing&&!e.reading&&t.read(0)}function b(t){var e=t._readableState;if(T("flow",e.flowing),e.flowing)do var n=t.read();while(null!==n&&e.flowing)}function y(t,e){var n,r=e.buffer,i=e.length,o=!!e.decoder,s=!!e.objectMode;if(0===r.length)return null;if(0===i)n=null;else if(s)n=r.shift();else if(!t||t>=i)n=o?r.join(""):E.concat(r,i),r.length=0;else if(t<r[0].length){var a=r[0];n=a.slice(0,t),r[0]=a.slice(t)}else if(t===r[0].length)n=r.shift();else{n=o?"":new E(t);for(var u=0,c=0,l=r.length;c<l&&u<t;c++){var a=r[0],f=Math.min(t-u,a.length);o?n+=a.slice(0,f):a.copy(n,u,0,f),f<a.length?r[0]=a.slice(f):r.shift(),u+=f}}return n}function _(t){var e=t._readableState;if(e.length>0)throw new Error("endReadable called on non-empty stream");e.endEmitted||(e.ended=!0,n.nextTick(function(){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}))}function w(t,e){for(var n=0,r=t.length;n<r;n++)e(t[n],n)}function S(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}e.exports=i;var x=t("isarray"),E=t("buffer").Buffer;i.ReadableState=r;var C=t("events").EventEmitter;C.listenerCount||(C.listenerCount=function(t,e){return t.listeners(e).length});var k=t("stream"),A=t("core-util-is");A.inherits=t("inherits");var $,T=t("util");T=T&&T.debuglog?T.debuglog("stream"):function(){},A.inherits(i,k),i.prototype.push=function(t,e){var n=this._readableState;return A.isString(t)&&!n.objectMode&&(e=e||n.defaultEncoding,e!==n.encoding&&(t=new E(t,e),e="")),o(this,n,t,e,!1)},i.prototype.unshift=function(t){var e=this._readableState;return o(this,e,t,"",!0)},i.prototype.setEncoding=function(e){return $||($=t("string_decoder/").StringDecoder),this._readableState.decoder=new $(e),this._readableState.encoding=e,this};var N=8388608;i.prototype.read=function(t){T("read",t);var e=this._readableState,n=t;if((!A.isNumber(t)||t>0)&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return T("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?_(this):f(this),null;if(t=u(t,e),0===t&&e.ended)return 0===e.length&&_(this),null;var r=e.needReadable;T("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,T("length less than watermark",r)),(e.ended||e.reading)&&(r=!1,T("reading or ended",r)),r&&(T("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1),r&&!e.reading&&(t=u(n,e));var i;return i=t>0?y(t,e):null,A.isNull(i)&&(e.needReadable=!0,t=0),e.length-=t,0!==e.length||e.ended||(e.needReadable=!0),n!==t&&e.ended&&0===e.length&&_(this),A.isNull(i)||this.emit("data",i),i},i.prototype._read=function(t){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(t,e){function r(t){T("onunpipe"),t===f&&o()}function i(){T("onend"),t.end()}function o(){T("cleanup"),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("drain",m),t.removeListener("error",a),t.removeListener("unpipe",r),f.removeListener("end",i),f.removeListener("end",o),f.removeListener("data",s),!h.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function s(e){T("ondata");var n=t.write(e);!1===n&&(T("false write response, pause",f._readableState.awaitDrain),f._readableState.awaitDrain++,f.pause())}function a(e){T("onerror",e),l(),t.removeListener("error",a),0===C.listenerCount(t,"error")&&t.emit("error",e)}function u(){t.removeListener("finish",c),l()}function c(){T("onfinish"),t.removeListener("close",u),l()}function l(){T("unpipe"),f.unpipe(t)}var f=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=t;break;case 1:h.pipes=[h.pipes,t];break;default:h.pipes.push(t)}h.pipesCount+=1,T("pipe count=%d opts=%j",h.pipesCount,e);var d=(!e||e.end!==!1)&&t!==n.stdout&&t!==n.stderr,p=d?i:o;h.endEmitted?n.nextTick(p):f.once("end",p),t.on("unpipe",r);var m=v(f);return t.on("drain",m),f.on("data",s),t._events&&t._events.error?x(t._events.error)?t._events.error.unshift(a):t._events.error=[a,t._events.error]:t.on("error",a),t.once("close",u),t.once("finish",c),t.emit("pipe",f),h.flowing||(T("pipe resume"),f.resume()),t},i.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this),this);if(!t){var n=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<r;i++)n[i].emit("unpipe",this);return this}var i=S(e.pipes,t);return i===-1?this:(e.pipes.splice(i,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this),this)},i.prototype.on=function(t,e){var r=k.prototype.on.call(this,t,e);if("data"===t&&!1!==this._readableState.flowing&&this.resume(),"readable"===t&&this.readable){var i=this._readableState;if(!i.readableListening)if(i.readableListening=!0,i.emittedReadable=!1,i.needReadable=!0,i.reading)i.length&&f(this,i);else{var o=this;n.nextTick(function(){T("readable nexttick read 0"),o.read(0)})}}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){var t=this._readableState;return t.flowing||(T("resume"),t.flowing=!0,t.reading||(T("resume read 0"),this.read(0)),m(this,t)),this},i.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this},i.prototype.wrap=function(t){var e=this._readableState,n=!1,r=this;t.on("end",function(){if(T("wrapped end"),e.decoder&&!e.ended){var t=e.decoder.end();t&&t.length&&r.push(t)}r.push(null)}),t.on("data",function(i){if(T("wrapped data"),e.decoder&&(i=e.decoder.write(i)),i&&(e.objectMode||i.length)){var o=r.push(i);o||(n=!0,t.pause())}});for(var i in t)A.isFunction(t[i])&&A.isUndefined(this[i])&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return w(o,function(e){t.on(e,r.emit.bind(r,e))}),r._read=function(e){T("wrapped _read",e),n&&(n=!1,t.resume())},r},i._fromList=y}).call(this,t("_process"))},{"./_stream_duplex":177,_process:151,buffer:3,"core-util-is":182,events:148,inherits:176,isarray:183,stream:163,"string_decoder/":184,util:2}],180:[function(t,e,n){function r(t,e){this.afterTransform=function(t,n){return i(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function i(t,e,n){var r=t._transformState;r.transforming=!1;var i=r.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,u.isNullOrUndefined(n)||t.push(n),i&&i(e);var o=t._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&t._read(o.highWaterMark)}function o(t){if(!(this instanceof o))return new o(t);a.call(this,t),this._transformState=new r(t,this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("prefinish",function(){u.isFunction(this._flush)?this._flush(function(t){s(e,t)}):s(e)})}function s(t,e){if(e)return t.emit("error",e);var n=t._writableState,r=t._transformState;if(n.length)throw new Error("calling transform done when ws.length != 0");if(r.transforming)throw new Error("calling transform done when still transforming");return t.push(null)}e.exports=o;var a=t("./_stream_duplex"),u=t("core-util-is");u.inherits=t("inherits"),u.inherits(o,a),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,a.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,n){throw new Error("not implemented")},o.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;u.isNull(e.writechunk)||!e.writecb||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))}},{"./_stream_duplex":177,"core-util-is":182,inherits:176}],181:[function(t,e,n){(function(n){function r(t,e,n){this.chunk=t,this.encoding=e,this.callback=n}function i(e,n){var r=t("./_stream_duplex");e=e||{};var i=e.highWaterMark,o=e.objectMode?16:16384;this.highWaterMark=i||0===i?i:o,this.objectMode=!!e.objectMode,n instanceof r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var s=e.decodeStrings===!1;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){d(n,t)},this.writecb=null,this.writelen=0,this.buffer=[],this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1}function o(e){var n=t("./_stream_duplex");return this instanceof o||this instanceof n?(this._writableState=new i(e,this),this.writable=!0,void x.call(this)):new o(e)}function s(t,e,r){var i=new Error("write after end");t.emit("error",i),n.nextTick(function(){r(i)})}function a(t,e,r,i){var o=!0;if(!(S.isBuffer(r)||S.isString(r)||S.isNullOrUndefined(r)||e.objectMode)){var s=new TypeError("Invalid non-string/buffer chunk");t.emit("error",s),n.nextTick(function(){i(s)}),o=!1}return o}function u(t,e,n){return!t.objectMode&&t.decodeStrings!==!1&&S.isString(e)&&(e=new w(e,n)),e}function c(t,e,n,i,o){n=u(e,n,i),S.isBuffer(n)&&(i="buffer");var s=e.objectMode?1:n.length;e.length+=s;var a=e.length<e.highWaterMark;return a||(e.needDrain=!0),e.writing||e.corked?e.buffer.push(new r(n,i,o)):l(t,e,!1,s,n,i,o),a}function l(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function f(t,e,r,i,o){r?n.nextTick(function(){e.pendingcb--,o(i)}):(e.pendingcb--,o(i)),t._writableState.errorEmitted=!0,t.emit("error",i)}function h(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function d(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(h(r),e)f(t,r,i,e,o);else{var s=g(t,r);s||r.corked||r.bufferProcessing||!r.buffer.length||m(t,r),i?n.nextTick(function(){p(t,r,s,o)}):p(t,r,s,o)}}function p(t,e,n,r){n||v(t,e),e.pendingcb--,r(),y(t,e)}function v(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function m(t,e){if(e.bufferProcessing=!0,t._writev&&e.buffer.length>1){for(var n=[],r=0;r<e.buffer.length;r++)n.push(e.buffer[r].callback);e.pendingcb++,l(t,e,!0,e.length,e.buffer,"",function(t){for(var r=0;r<n.length;r++)e.pendingcb--,n[r](t)}),e.buffer=[]}else{for(var r=0;r<e.buffer.length;r++){var i=e.buffer[r],o=i.chunk,s=i.encoding,a=i.callback,u=e.objectMode?1:o.length;if(l(t,e,!1,u,o,s,a),e.writing){r++;break}}r<e.buffer.length?e.buffer=e.buffer.slice(r):e.buffer.length=0}e.bufferProcessing=!1}function g(t,e){return e.ending&&0===e.length&&!e.finished&&!e.writing}function b(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function y(t,e){var n=g(t,e);return n&&(0===e.pendingcb?(b(t,e),e.finished=!0,t.emit("finish")):b(t,e)),n}function _(t,e,r){e.ending=!0,y(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r)),e.ended=!0}e.exports=o;var w=t("buffer").Buffer;o.WritableState=i;var S=t("core-util-is");S.inherits=t("inherits");var x=t("stream");S.inherits(o,x),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(t,e,n){var r=this._writableState,i=!1;return S.isFunction(e)&&(n=e,e=null),S.isBuffer(t)?e="buffer":e||(e=r.defaultEncoding),S.isFunction(n)||(n=function(){}),r.ended?s(this,r,n):a(this,r,t,n)&&(r.pendingcb++,i=c(this,r,t,e,n)),i},o.prototype.cork=function(){var t=this._writableState;t.corked++},o.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.buffer.length||m(this,t))},o.prototype._write=function(t,e,n){n(new Error("not implemented"))},o.prototype._writev=null,o.prototype.end=function(t,e,n){var r=this._writableState;S.isFunction(t)?(n=t,t=null,e=null):S.isFunction(e)&&(n=e,e=null),S.isNullOrUndefined(t)||this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||_(this,r,n)}}).call(this,t("_process"))},{"./_stream_duplex":177,_process:151,buffer:3,"core-util-is":182,inherits:176,stream:163}],182:[function(t,e,n){(function(t){function e(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"==typeof t}function i(t){return null===t}function o(t){return null==t}function s(t){return"number"==typeof t}function a(t){return"string"==typeof t}function u(t){return"symbol"==typeof t}function c(t){return void 0===t}function l(t){return"[object RegExp]"===m(t)}function f(t){return"object"==typeof t&&null!==t}function h(t){return"[object Date]"===m(t)}function d(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"==typeof t}function v(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function m(t){return Object.prototype.toString.call(t)}n.isArray=e,n.isBoolean=r,n.isNull=i,n.isNullOrUndefined=o,n.isNumber=s,n.isString=a,n.isSymbol=u,n.isUndefined=c,n.isRegExp=l,n.isObject=f,n.isDate=h,n.isError=d,n.isFunction=p,n.isPrimitive=v,n.isBuffer=t.isBuffer}).call(this,t("buffer").Buffer)},{buffer:3}],183:[function(t,e,n){arguments[4][150][0].apply(n,arguments)},{dup:150}],184:[function(t,e,n){arguments[4][164][0].apply(n,arguments)},{buffer:3,dup:164}],185:[function(t,e,n){arguments[4][160][0].apply(n,arguments)},{"./lib/_stream_duplex.js":177,"./lib/_stream_passthrough.js":178,"./lib/_stream_readable.js":179,"./lib/_stream_transform.js":180,"./lib/_stream_writable.js":181,dup:160,stream:163}],186:[function(t,e,n){(function(t){function n(e){if(!(this instanceof n))return new n(e);this.buffer=new t(16),this.leftover=0,this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.finished=0;var r,i=new Uint16Array(8);for(r=8;r--;)i[r]=e.readUInt16LE(2*r);for(this.r[0]=8191&i[0],this.r[1]=8191&(i[0]>>>13|i[1]<<3),this.r[2]=7939&(i[1]>>>10|i[2]<<6),this.r[3]=8191&(i[2]>>>7|i[3]<<9),this.r[4]=255&(i[3]>>>4|i[4]<<12),this.r[5]=i[4]>>>1&8190,this.r[6]=8191&(i[4]>>>14|i[5]<<2),this.r[7]=8065&(i[5]>>>11|i[6]<<5),this.r[8]=8191&(i[6]>>>8|i[7]<<8),this.r[9]=i[7]>>>5&127,r=8;r--;)this.h[r]=0,this.pad[r]=e.readUInt16LE(16+2*r);this.h[8]=0,this.h[9]=0,this.leftover=0,this.finished=0}e.exports=n,n.prototype.blocks=function(t,e,n){for(var r=this.finished?0:2048,i=new Uint16Array(8),o=new Uint32Array(10),s=0,a=0,u=0;n>=16;){for(a=8;a--;)i[a]=t.readUInt16LE(2*a+e);for(this.h[0]+=8191&i[0],this.h[1]+=8191&(i[0]>>>13|i[1]<<3),this.h[2]+=8191&(i[1]>>>10|i[2]<<6),this.h[3]+=8191&(i[2]>>>7|i[3]<<9),this.h[4]+=8191&(i[3]>>>4|i[4]<<12),this.h[5]+=i[4]>>>1&8191,this.h[6]+=8191&(i[4]>>>14|i[5]<<2),this.h[7]+=8191&(i[5]>>>11|i[6]<<5),this.h[8]+=8191&(i[6]>>>8|i[7]<<8),this.h[9]+=i[7]>>>5|r,a=0,s=0;a<10;a++){for(o[a]=s,u=0;u<10;u++)o[a]+=(4294967295&this.h[u])*(u<=a?this.r[a-u]:5*this.r[a+10-u]),4===u&&(s=o[a]>>>13,o[a]&=8191);s+=o[a]>>>13,o[a]&=8191}for(s=(s<<2)+s,s+=o[0],o[0]=65535&s&8191,s>>>=13,o[1]+=s,a=10;a--;)this.h[a]=o[a];e+=16,n-=16}},n.prototype.update=function(t){var e=t.length,n=0,r=0,i=0;if(this.leftover){for(n=16-this.leftover,n>e&&(n=e),r=n;r--;)this.buffer[this.leftover+r]=t[r+i];if(e-=n,i+=n,this.leftover+=n,this.leftover<16)return this;this.blocks(this.buffer,0,16),this.leftover=0}if(e>=16&&(n=e&-16,this.blocks(t,i,n),i+=n,e-=n),e){for(r=e;r--;)this.buffer[this.leftover+r]=t[r+i];this.leftover+=e}return this},n.prototype.finish=function(){var e=new t(16),n=new Uint16Array(10),r=0,i=0,o=0,s=0;if(this.leftover){for(s=this.leftover,this.buffer[s++]=1;s<16;s++)this.buffer[s]=0;this.finished=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,s=2;s<10;s++)this.h[s]+=r,r=this.h[s]>>>13,this.h[s]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,n[0]=this.h[0]+5,r=n[0]>>>13,n[0]&=8191,s=1;s<10;s++)n[s]=this.h[s]+r,r=n[s]>>>13,n[s]&=8191;for(n[9]-=8192,i=(n[9]>>>15)-1,s=10;s--;)n[s]&=i;for(i=~i,s=10;s--;)this.h[s]=this.h[s]&i|n[s];for(this.h[0]=this.h[0]|this.h[1]<<13,this.h[1]=this.h[1]>>3|this.h[2]<<10,this.h[2]=this.h[2]>>6|this.h[3]<<7,this.h[3]=this.h[3]>>9|this.h[4]<<4,this.h[4]=this.h[4]>>12|this.h[5]<<1|this.h[6]<<14,this.h[5]=this.h[6]>>2|this.h[7]<<11,this.h[6]=this.h[7]>>5|this.h[8]<<8,this.h[7]=this.h[8]>>8|this.h[9]<<5,o=(4294967295&this.h[0])+this.pad[0],this.h[0]=o,s=1;s<8;s++)o=(4294967295&this.h[s])+this.pad[s]+(o>>>16),this.h[s]=o;for(s=8;s--;)e.writeUInt16LE(this.h[s],2*s),this.pad[s]=0;for(s=10;s--;)this.h[s]=0,this.r[s]=0;return e}}).call(this,t("buffer").Buffer)},{buffer:3}],187:[function(t,e,n){function r(t){return this instanceof r?(o.call(this,!0),void(this.poly=new s(t))):new r(t)}var i=t("inherits"),o=t("./cipherbase"),s=t("./poly1305");e.exports=r,i(r,o),r.prototype._update=function(t){this.poly.update(t)},r.prototype._final=function(){return this.poly.finish()}},{"./cipherbase":173,"./poly1305":186,inherits:176}],188:[function(t,e,n){function r(t){var e="string"==typeof t._id&&i.isLocalId(t._id);return e||t._deleted}var i=t("./pouch-utils"),o=t("pouchdb-wrappers");n.transform=n.filter=function(t){var e=this,n=function(e){return!r(e)&&t.incoming?t.incoming(i.clone(e)):e},s=function(e){return!r(e)&&t.outgoing?t.outgoing(i.clone(e)):e},a={};"http"===e.type()&&(a.put=function(t,e){return e.doc=n(e.doc),t()},a.query=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=s(t.doc))}),t})}),a.get=function(t){return t().then(function(t){return Array.isArray(t)?t.forEach(function(t){t.ok&&(t.ok=s(t.ok))}):t=s(t),t})},a.bulkDocs=function(t,e){for(var r=0;r<e.docs.length;r++)e.docs[r]=n(e.docs[r]);return t()},a.allDocs=function(t){return t().then(function(t){return t.rows.forEach(function(t){t.doc&&(t.doc=s(t.doc))}),t})},a.changes=function(t,e){function n(t){return t.doc&&(t.doc=s(t.doc)),t}function r(t){return t.results=t.results.map(n),t}if(e.options.complete){var i=e.options.complete;e.options.complete=function(t,e){return t?i(t):void i(null,r(e))}}var o=t(),a=o.on;o.on=function(t,e){return"change"===t?a.apply(o,[t,function(t){e(n(t))}]):"complete"===t?a.apply(o,[t,function(t){e(r(t))}]):a.apply(o,[t,e])};var u=o.then;return o.then=function(t,e){return u.apply(o,[function(e){t(r(e))},e])},o},o.installWrapperMethods(e,a)},"undefined"!=typeof window&&window.PouchDB&&window.PouchDB.plugin(n)},{"./pouch-utils":207,"pouchdb-wrappers":205}],189:[function(t,e,n){arguments[4][149][0].apply(n,arguments)},{dup:149}],190:[function(t,e,n){function r(){}e.exports=r},{}],191:[function(t,e,n){function r(t){function e(t,e){function i(t){c[e]=t,++l===n&!r&&(r=!0,u.resolve(h,c))}s(t).then(i,function(t){r||(r=!0,u.reject(h,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return o(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return s([]);for(var c=new Array(n),l=0,f=-1,h=new i(a);++f<n;)e(t[f],f);return h}var i=t("./promise"),o=t("./reject"),s=t("./resolve"),a=t("./INTERNAL"),u=t("./handlers");e.exports=r},{"./INTERNAL":190,"./handlers":192,"./promise":194,"./reject":197,"./resolve":198}],192:[function(t,e,n){function r(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}var i=t("./tryCatch"),o=t("./resolveThenable"),s=t("./states");n.resolve=function(t,e){var a=i(r,e);if("error"===a.status)return n.reject(t,a.value);var u=a.value;if(u)o.safely(t,u);else{t.state=s.FULFILLED,t.outcome=e;for(var c=-1,l=t.queue.length;++c<l;)t.queue[c].callFulfilled(e)}return t},n.reject=function(t,e){t.state=s.REJECTED,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t}},{"./resolveThenable":199,"./states":200,"./tryCatch":201}],193:[function(t,e,n){e.exports=n=t("./promise"),n.resolve=t("./resolve"),n.reject=t("./reject"),n.all=t("./all"),n.race=t("./race")},{"./all":191,"./promise":194,"./race":196,"./reject":197,"./resolve":198}],194:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=a.PENDING,this.queue=[],this.outcome=void 0,t!==o&&s.safely(this,t)}var i=t("./unwrap"),o=t("./INTERNAL"),s=t("./resolveThenable"),a=t("./states"),u=t("./queueItem");e.exports=r,r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a.FULFILLED||"function"!=typeof e&&this.state===a.REJECTED)return this;var n=new r(o);if(this.state!==a.PENDING){var s=this.state===a.FULFILLED?t:e;i(n,s,this.outcome)}else this.queue.push(new u(n,t,e));return n}},{"./INTERNAL":190,"./queueItem":195,"./resolveThenable":199,"./states":200,"./unwrap":202}],195:[function(t,e,n){function r(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var i=t("./handlers"),o=t("./unwrap");e.exports=r,r.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){o(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){i.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){o(this.promise,this.onRejected,t)}},{"./handlers":192,"./unwrap":202}],196:[function(t,e,n){function r(t){function e(t){s(t).then(function(t){r||(r=!0,u.resolve(l,t))},function(t){r||(r=!0,u.reject(l,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return o(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return s([]);for(var c=-1,l=new i(a);++c<n;)e(t[c]);return l}var i=t("./promise"),o=t("./reject"),s=t("./resolve"),a=t("./INTERNAL"),u=t("./handlers");e.exports=r},{"./INTERNAL":190,"./handlers":192,"./promise":194,"./reject":197,"./resolve":198}],197:[function(t,e,n){function r(t){var e=new i(o);return s.reject(e,t)}var i=t("./promise"),o=t("./INTERNAL"),s=t("./handlers");e.exports=r},{"./INTERNAL":190,"./handlers":192,"./promise":194}],198:[function(t,e,n){function r(t){if(t)return t instanceof i?t:s.resolve(new i(o),t);var e=typeof t;switch(e){case"boolean":return a;case"undefined":return c;case"object":return u;case"number":return l;case"string":return f}}var i=t("./promise"),o=t("./INTERNAL"),s=t("./handlers");e.exports=r;var a=s.resolve(new i(o),!1),u=s.resolve(new i(o),null),c=s.resolve(new i(o),void 0),l=s.resolve(new i(o),0),f=s.resolve(new i(o),"")},{"./INTERNAL":190,"./handlers":192,"./promise":194}],199:[function(t,e,n){function r(t,e){function n(e){a||(a=!0,i.reject(t,e))}function r(e){a||(a=!0,i.resolve(t,e))}function s(){e(r,n)}var a=!1,u=o(s);"error"===u.status&&n(u.value)}var i=t("./handlers"),o=t("./tryCatch");n.safely=r},{"./handlers":192,"./tryCatch":201}],200:[function(t,e,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],201:[function(t,e,n){function r(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}e.exports=r},{}],202:[function(t,e,n){function r(t,e,n){i(function(){var r;try{r=e(n)}catch(i){return o.reject(t,i)}r===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,r)})}var i=t("immediate"),o=t("./handlers");e.exports=r},{"./handlers":192,immediate:203}],203:[function(t,e,n){(function(t){function n(){l=!0;for(var t,e,n=f.length;n;){for(e=f,f=[],t=-1;++t<n;)e[t]();n=f.length}l=!1}function r(t){1!==f.push(t)||l||i()}var i,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(n),u=t.document.createTextNode("");a.observe(u,{characterData:!0}),i=function(){u.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)i="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){n(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(n,0)};else{var c=new t.MessageChannel;c.port1.onmessage=n,i=function(){c.port2.postMessage(0)}}var l,f=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],204:[function(t,e,n){function r(t){return null===t?String(t):"object"==typeof t||"function"==typeof t?c[d.call(t)]||"object":typeof t}function i(t){return null!==t&&t===t.window}function o(t){if(!t||"object"!==r(t)||t.nodeType||i(t))return!1;try{if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;for(n in t);return void 0===n||p.call(t,n)}function s(t){return"function"===r(t)}function a(){for(var t=[],e=-1,n=arguments.length,r=new Array(n);++e<n;)r[e]=arguments[e];var i={};t.push({args:r,result:{container:i,key:"key"}});for(var o;o=t.pop();)u(t,o.args,o.result);return i.key}function u(t,e,n){var r,i,a,u,c,l,f,h=e[0]||{},d=1,p=e.length,m=!1,g=/\d+/;for("boolean"==typeof h&&(m=h,h=e[1]||{},d=2),"object"==typeof h||s(h)||(h={}),p===d&&(h=this,--d);d<p;d++)if(null!=(r=e[d])){f=v(r);for(i in r)if(!(i in Object.prototype)){if(f&&!g.test(i))continue;if(a=h[i],u=r[i],h===u)continue;m&&u&&(o(u)||(c=v(u)))?(c?(c=!1,l=a&&v(a)?a:[]):l=a&&o(a)?a:{},t.push({args:[m,l,u],result:{container:h,key:i}})):void 0!==u&&(v(r)&&s(u)||(h[i]=u))}}n.container[n.key]=h}for(var c={},l=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"],f=0;f<l.length;f++){var h=l[f];c["[object "+h+"]"]=h.toLowerCase()}var d=c.toString,p=c.hasOwnProperty,v=Array.isArray||function(t){return"array"===r(t)};e.exports=a},{}],205:[function(t,e,n){function r(t,e,n){for(var r in e)if(e.hasOwnProperty(r)){var o=i(t,r),s=o.base[o.name];if(s)if(s.hasOwnProperty("_handlers")){if(s._handlers.indexOf(e[r])!==-1)throw new Error("Wrapper method for '"+r+"' already installed: "+e[r]);s._handlers.push(e[r])}else o.base[o.name]=n(r,s,e[r],t)}}function i(t,e){for(e=e.split(".");e.length>1;)t=t[e.shift(0)];return{base:t,name:e[0]}}function o(t,e,n,r,i){var s=r[t];if("undefined"==typeof o)throw new Error("No known wrapper for method name: "+t);var a=[n],u=s(i,e,a);return u._original=e,u._handlers=a,u}function s(t,e,n,r){return"function"==typeof n&&(r=n,n={}),{base:t||e,db:t||e,options:n||{},callback:r}}function a(t,e,n){var r=e.callback;delete e.callback,n=n.bind(e.base);for(var i=t.length-1;i>=0;i-=1)n=t[i].bind(null,n,e);var o=n();return f(o,r),o}function u(t){return function(){return t.call(this)}}function c(t,e){return function(){return t.call(this,e.options)}}function l(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=i(t,n),o=r.base[r.name];if("undefined"!=typeof o){var s;try{s=o._handlers.indexOf(e[n])}catch(a){s=-1}if(s===-1)throw new Error("Wrapper method for '"+n+"' not installed: "+e[n]);o._handlers.splice(s,1),o._handlers.length||(delete r.base[r.name],r.base[r.name]!==o._original&&(r.base[r.name]=o._original))}}}var f=t("promise-nodify");n.installStaticWrapperMethods=function(t,e){t["new"]=t["new"]||function(e,n,r){return new t(e,n,r)},t.destroy=t.destroy||function(e,n,r){var i=s(t,this,n,r),o=new t(e,i.options),a=o.destroy();return f(a,i.callback),a},r(t,e,n.createStaticWrapperMethod)},n.installWrapperMethods=function(t,e){r(t,e,n.createWrapperMethod)},n.createStaticWrapperMethod=function(t,e,n,r){return o(t,e,n,d,r)},n.createWrapperMethod=function(t,e,n,r){return o(t,e,n,h,r)};var h={};h.destroy=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,u(e))}},h.put=function(t,e,n){return function(r,i,o,s,u){var c={};c.base=t||this,c.db=t||this;var l=Array.prototype.slice.call(arguments);c.doc=l.shift();for(var f=("_id"in c.doc);;){var h=l.shift(),d=typeof h;if("string"!==d||f?"string"!==d||!f||"_rev"in c.doc?"object"===d?c.options=h:"function"===d&&(c.callback=h):c.doc._rev=h:(c.doc._id=h,f=!0),!l.length)break}return c.options=c.options||{},a(n,c,function(){return e.call(this,c.doc,c.options)})}},h.post=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.doc=r,a(n,u,function(){return e.call(this,u.doc,u.options)})}},h.get=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.docId=r,a(n,u,function(){return e.call(this,u.docId,u.options)})}},h.remove=function(t,e,n){return function(r,i,o,u){var c;return"string"==typeof i?(c=s(t,this,o,u),c.doc={_id:r,_rev:i}):(c=s(t,this,i,o),c.doc=r),a(n,c,function(){return e.call(this,c.doc,c.options)})}},h.bulkDocs=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return"new_edits"in r&&(u.options.new_edits=r.new_edits),u.docs=r.docs||r,a(n,u,function(){return e.call(this,u.docs,u.options)})}},h.allDocs=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,c(e,o))}},h.changes=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,c(e,o))}},h.sync=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.url=r,a(n,u,function(){return e.call(this,u.url,u.options)})}},h["replicate.from"]=h.sync,h["replicate.to"]=h.sync,h.putAttachment=function(t,e,n){return function(r,i,o,u,c,l,f){var h;return"string"==typeof c?(h=s(t,this,l,f),h.rev=o,h.doc=u,h.type=c):(h=s(t,this,c,l),h.rev=null,h.doc=o,h.type=u),h.docId=r,h.attachmentId=i,a(n,h,function(){return e.call(this,h.docId,h.attachmentId,h.rev,h.doc,h.type)})}},h.getAttachment=function(t,e,n){
return function(r,i,o,u){var c=s(t,this,o,u);return c.docId=r,c.attachmentId=i,a(n,c,function(){return e.call(this,c.docId,c.attachmentId,c.options)})}},h.removeAttachment=function(t,e,n){return function(r,i,o,u,c){var l=s(t,this,u,c);return l.docId=r,l.attachmentId=i,l.rev=o,a(n,l,function(){return e.call(this,l.docId,l.attachmentId,l.rev)})}},h.query=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.fun=r,a(n,u,function(){return e.call(this,u.fun,u.options)})}},h.viewCleanup=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,c(e,o))}},h.info=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,u(e))}},h.compact=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,c(e,o))}},h.revsDiff=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.diff=r,a(n,u,function(){return e.call(this,u.diff)})}},h.list=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.path=r,a(n,u,function(){return e.call(this,u.path,u.options)})}},h.rewriteResultRequestObject=h.list,h.show=h.list,h.update=h.list,h.getSecurity=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,c(e,o))}},h.putSecurity=function(t,e,n){return function(r,i,o){var u=s(t,this,i,o);return u.secObj=r,a(n,u,function(){return e.call(this,u.secObj)})}};var d={};d["new"]=function(t,e,n){return function(r,i,o){var u;return"object"==typeof r?u=s(t,this,r,i):(u=s(t,this,i,o),u.options.name=r),a(n,u,function(){return e.call(this,u.options)})}},d.destroy=function(t,e,n){return function(r,i,o){var u;return"object"==typeof r?u=s(t,this,r,i):(u=s(t,this,i,o),u.options.name=r),u.options.internal?e.apply(t,arguments):a(n,u,function(){var t=u.options.name;return delete u.options.name,e.call(this,t,u.options)})}},d.replicate=function(t,e,n){return function(r,i,o,u){var c=s(t,this,o,u);return c.source=r,c.target=i,a(n,c,function(){return e.call(this,c.source,c.target,c.options)})}},d.allDbs=function(t,e,n){return function(r,i){var o=s(t,this,r,i);return a(n,o,u(e))}},n.uninstallWrapperMethods=function(t,e){l(t,e)},n.uninstallStaticWrapperMethods=function(t,e){l(t,e)}},{"promise-nodify":206}],206:[function(t,e,n){e.exports=function(t,e){"function"==typeof e&&t.then(function(t){e(null,t)},function(t){e(t,null)})}},{}],207:[function(t,e,n){(function(e,r){var i;i="undefined"!=typeof window&&window.PouchDB?window.PouchDB.utils.Promise:"function"==typeof r.Promise?r.Promise:t("lie"),n.once=function(t){var e=!1;return n.getArguments(function(n){if(e)throw console.trace(),new Error("once called  more than once");e=!0,t.apply(this,n)})},n.getArguments=function(t){return function(){for(var e=arguments.length,n=new Array(e),r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}},n.toPromise=function(t){return n.getArguments(function(r){var o,s=this,a="function"==typeof r[r.length-1]&&r.pop();a&&(o=function(t,n){e.nextTick(function(){a(t,n)})});var u=new i(function(e,i){try{var o=n.once(function(t,n){t?i(t):e(n)});r.push(o),t.apply(s,r)}catch(a){i(a)}});return o&&u.then(function(t){o(null,t)},o),u.cancel=function(){return this},u})},n.inherits=t("inherits"),n.Promise=i,n.extend=t("pouchdb-extend"),n.clone=function(t){return n.extend(!0,{},t)},n.isLocalId=function(t){return/^_local/.test(t)}}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:151,inherits:189,lie:193,"pouchdb-extend":204}],208:[function(t,e,n){(function(n){!function(r){function i(){var t=r.crypto||r.msCrypto;if(!l&&t&&t.getRandomValues)try{var e=new Uint8Array(16);d=l=function(){return t.getRandomValues(e),e},l()}catch(n){}if(!l){var i=new Array(16);f=l=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i},"undefined"!=typeof console&&console.warn&&console.warn("[SECURITY] node-uuid: crypto not usable, falling back to insecure Math.random()")}}function o(){if("function"==typeof t)try{var e=t("crypto").randomBytes;h=l=e&&function(){return e(16)},l()}catch(n){}}function s(t,e,n){var r=e&&n||0,i=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){i<16&&(e[r+i++]=g[t])});i<16;)e[r+i++]=0;return e}function a(t,e){var n=e||0,r=m;return r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+"-"+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]+r[t[n++]]}function u(t,e,n){var r=e&&n||0,i=e||[];t=t||{};var o=null!=t.clockseq?t.clockseq:w,s=null!=t.msecs?t.msecs:(new Date).getTime(),u=null!=t.nsecs?t.nsecs:x+1,c=s-S+(u-x)/1e4;if(c<0&&null==t.clockseq&&(o=o+1&16383),(c<0||s>S)&&null==t.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");S=s,x=u,w=o,s+=122192928e5;var l=(1e4*(268435455&s)+u)%4294967296;i[r++]=l>>>24&255,i[r++]=l>>>16&255,i[r++]=l>>>8&255,i[r++]=255&l;var f=s/4294967296*1e4&268435455;i[r++]=f>>>8&255,i[r++]=255&f,i[r++]=f>>>24&15|16,i[r++]=f>>>16&255,i[r++]=o>>>8|128,i[r++]=255&o;for(var h=t.node||_,d=0;d<6;d++)i[r+d]=h[d];return e?e:a(i)}function c(t,e,n){var r=e&&n||0;"string"==typeof t&&(e="binary"===t?new v(16):null,t=null),t=t||{};var i=t.random||(t.rng||l)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e)for(var o=0;o<16;o++)e[r+o]=i[o];return e||a(i)}var l,f,h,d,p;r?i():o();for(var v="function"==typeof n?n:Array,m=[],g={},b=0;b<256;b++)m[b]=(b+256).toString(16).substr(1),g[m[b]]=b;var y=l(),_=[1|y[0],y[1],y[2],y[3],y[4],y[5]],w=16383&(y[6]<<8|y[7]),S=0,x=0,E=c;E.v1=u,E.v4=c,E.parse=s,E.unparse=a,E.BufferClass=v,E._rng=l,E._mathRNG=f,E._nodeRNG=h,E._whatwgRNG=d,"undefined"!=typeof e&&e.exports?e.exports=E:"function"==typeof define&&define.amd?define(function(){return E}):(p=r.uuid,E.noConflict=function(){return r.uuid=p,E},r.uuid=E)}("undefined"!=typeof window?window:null)}).call(this,t("buffer").Buffer)},{buffer:3,crypto:10}],209:[function(t,e,n){(function(n){"function"==typeof n.Promise?e.exports=n.Promise:e.exports=t("bluebird")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{bluebird:213}],210:[function(t,e,n){arguments[4][190][0].apply(n,arguments)},{dup:190}],211:[function(t,e,n){var r=t("./promise"),i=t("./reject"),o=t("./resolve"),s=t("./INTERNAL"),a=t("./handlers"),u=i(new TypeError("must be an array"));e.exports=function(t){function e(t,e){function r(t){c[e]=t,++l===n&!i&&(i=!0,a.resolve(h,c))}o(t).then(r,function(t){i||(i=!0,a.reject(h,t))})}if("[object Array]"!==Object.prototype.toString.call(t))return u;var n=t.length,i=!1;if(!n)return o([]);for(var c=new Array(n),l=0,f=-1,h=new r(s);++f<n;)e(t[f],f);return h}},{"./INTERNAL":210,"./handlers":212,"./promise":214,"./reject":216,"./resolve":217}],212:[function(t,e,n){function r(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}var i=t("./tryCatch"),o=t("./resolveThenable"),s=t("./states");n.resolve=function(t,e){var a=i(r,e);if("error"===a.status)return n.reject(t,a.value);var u=a.value;if(u)o.safely(t,u);else{t.state=s.FULFILLED,t.outcome=e;for(var c=-1,l=t.queue.length;++c<l;)t.queue[c].callFulfilled(e)}return t},n.reject=function(t,e){t.state=s.REJECTED,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t}},{"./resolveThenable":218,"./states":219,"./tryCatch":220}],213:[function(t,e,n){e.exports=n=t("./promise"),n.resolve=t("./resolve"),n.reject=t("./reject"),n.all=t("./all")},{"./all":211,"./promise":214,"./reject":216,"./resolve":217}],214:[function(t,e,n){function r(t){if(!(this instanceof r))return new r(t);if("function"!=typeof t)throw new TypeError("reslover must be a function");this.state=a.PENDING,this.queue=[],this.outcome=void 0,t!==o&&s.safely(this,t)}var i=t("./unwrap"),o=t("./INTERNAL"),s=t("./resolveThenable"),a=t("./states"),u=t("./queueItem");e.exports=r,r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a.FULFILLED||"function"!=typeof e&&this.state===a.REJECTED)return this;var n=new r(o);if(this.state!==a.PENDING){var s=this.state===a.FULFILLED?t:e;i(n,s,this.outcome)}else this.queue.push(new u(n,t,e));return n}},{"./INTERNAL":210,"./queueItem":215,"./resolveThenable":218,"./states":219,"./unwrap":221}],215:[function(t,e,n){function r(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var i=t("./handlers"),o=t("./unwrap");e.exports=r,r.prototype.callFulfilled=function(t){i.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){o(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){i.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){o(this.promise,this.onRejected,t)}},{"./handlers":212,"./unwrap":221}],216:[function(t,e,n){arguments[4][197][0].apply(n,arguments)},{"./INTERNAL":210,"./handlers":212,"./promise":214,dup:197}],217:[function(t,e,n){arguments[4][198][0].apply(n,arguments)},{"./INTERNAL":210,"./handlers":212,"./promise":214,dup:198}],218:[function(t,e,n){arguments[4][199][0].apply(n,arguments)},{"./handlers":212,"./tryCatch":220,dup:199}],219:[function(t,e,n){n.REJECTED=["REJECTED"],n.FULFILLED=["FULFILLED"],n.PENDING=["PENDING"]},{}],220:[function(t,e,n){arguments[4][201][0].apply(n,arguments)},{dup:201}],221:[function(t,e,n){arguments[4][202][0].apply(n,arguments)},{"./handlers":212,dup:202,immediate:222}],222:[function(t,e,n){function r(){a=!1,u&&u.length?h=u.concat(h):f=-1,h.length&&i()}function i(){d=!1,a=!0;for(var t=h.length,e=setTimeout(r);t;){for(u=h,h=[];++f<t;)u[f].run();f=-1,t=h.length}f=-1,a=!1,clearTimeout(e)}function o(t,e){this.fun=t,this.array=e}function s(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new o(t,e)),d||a||(d=!0,c())}for(var a,u,c,l=[t("./nextTick"),t("./mutation.js"),t("./messageChannel"),t("./stateChange"),t("./timeout")],f=-1,h=[],d=!1,p=-1,v=l.length;++p<v;)if(l[p]&&l[p].test&&l[p].test()){c=l[p].install(i);break}o.prototype.run=function(){this.fun.apply(null,this.array)},e.exports=s},{"./messageChannel":223,"./mutation.js":224,"./nextTick":2,"./stateChange":225,"./timeout":226}],223:[function(t,e,n){(function(t){n.test=function(){return!t.setImmediate&&"undefined"!=typeof t.MessageChannel},n.install=function(e){var n=new t.MessageChannel;return n.port1.onmessage=e,function(){n.port2.postMessage(0)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],224:[function(t,e,n){(function(t){var e=t.MutationObserver||t.WebKitMutationObserver;n.test=function(){return e},n.install=function(n){var r=0,i=new e(n),o=t.document.createTextNode("");return i.observe(o,{characterData:!0}),function(){o.data=r=++r%2}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],225:[function(t,e,n){(function(t){n.test=function(){return"document"in t&&"onreadystatechange"in t.document.createElement("script")},n.install=function(e){return function(){var n=t.document.createElement("script");return n.onreadystatechange=function(){e(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},t.document.documentElement.appendChild(n),e}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],226:[function(t,e,n){n.test=function(){return!0},n.install=function(t){return function(){setTimeout(t,0)}}},{}]},{},[169])(169)}),function(t){"function"==typeof define&&define.amd?define("picker",["angular"],t):this.Picker=t(angular)}(function(t){function e(t,r,i,s){function a(){return e._.node("div",e._.node("div",e._.node("div",e._.node("div",g.component.nodes(p.open),d.box),d.wrap),d.frame),d.holder)}function u(){v.data(r,g),v.addClass(d.input),v[0].value=v.attr("data-value")?g.get("select",h.format):t.value,angular.element(document.querySelectorAll("#"+p.id)).on("focus",f),angular.element(document.querySelectorAll("#"+p.id)).on("click",f),h.editable||angular.element(document.querySelectorAll("#"+p.id)).on("keydown",function(t){var e=t.keyCode,n=/^(8|46)$/.test(e);return 27==e?(g.close(),!1):void((32==e||n||!p.open&&g.component.key[e])&&(t.preventDefault(),t.stopPropagation(),n?g.clear().close():g.open()))}),n(t,{haspopup:!0,expanded:!1,readonly:!1,owns:t.id+"_root"+(g._hidden?" "+g._hidden.id:"")})}function c(){g.$root.on("focusin",function(t){g.$root.removeClass(d.focused),n(g.$root[0],"selected",!1),t.stopPropagation()}),g.$root.on("mousedown click",function(e){var n=e.target;n!=g.$root.children()[0]?(e.stopPropagation(),"mousedown"==e.type&&"input"!==angular.element(n)[0].tagName&&"SELECT"!=n.nodeName&&"OPTION"!=n.nodeName&&(e.preventDefault(),t.focus())):"click"==e.type&&g.get("open")&&g.close()}),g.attachLiveEvents=function(){angular.element(g.$root[0].querySelectorAll("[data-pick], [data-nav], [data-clear], [data-close]")).off("click").on("click",function(){var n=angular.element(this),r=n.hasClass(d.navDisabled)||n.hasClass(d.disabled),i=document.activeElement;i=i&&(i.type||i.href)&&i,(r||i&&!g.$root[0].contains(i))&&t.focus(),n.attr("data-nav")&&!r?(g.set("highlight",g.component.item.highlight,{nav:parseInt(n.attr("data-nav"))}),g.attachLiveEvents()):e._.isInteger(parseInt(n.attr("data-pick")))&&!r?(g.set("select",parseInt(n.attr("data-pick"))).close(!0),g.attachLiveEvents()):n.attr("data-clear")?(g.clear().close(!0),g.attachLiveEvents()):n.attr("data-close")&&(g.close(!0),g.attachLiveEvents())})},n(g.$root[0],"hidden",!0)}function l(){var e=["string"==typeof h.hiddenPrefix?h.hiddenPrefix:"","string"==typeof h.hiddenSuffix?h.hiddenSuffix:"_submit"];g._hidden=angular.element('<input type=hidden name="'+e[0]+t.name+e[1]+'"id="'+e[0]+t.id+e[1]+'"'+(v.attr("data-value")||t.value?' value="'+g.get("select",h.formatSubmit)+'"':"")+">")[0],v.on("change."+p.id,function(){g._hidden.value=t.value?g.get("select",h.formatSubmit):""}).after(g._hidden)}function f(t){t.stopPropagation(),"focus"==t.type&&(g.$root.addClass(d.focused),n(g.$root[0],"selected",!0)),g.open()}if(!t)return e;var h;i?(h=i.defaults,angular.extend(h,s)):h=s||{};var d=e.klasses();angular.extend(d,h.klass);var p={id:t.id||"P"+Math.abs(~~(Math.random()*new Date))},v=angular.element(t),m=function(){return this.start()},g=m.prototype={constructor:m,$node:v,start:function(){return p&&p.start?g:(p.methods={},p.start=!0,p.open=!1,p.type=t.type,t.autofocus=t==document.activeElement,t.type="text",t.readOnly=!h.editable,t.id=t.id||p.id,g.component=new i(g,h),g.$root=angular.element(e._.node("div",a(),d.picker,'id="'+t.id+'_root"')),c(),h.formatSubmit&&l(),u(),h.container?angular.element(h.container).append(g.$root):v.after(g.$root),g.on({start:g.component.onStart,render:g.component.onRender,stop:g.component.onStop,open:g.component.onOpen,close:g.component.onClose,set:g.component.onSet}).on({start:h.onStart,render:h.onRender,stop:h.onStop,open:h.onOpen,close:h.onClose,set:h.onSet}),t.autofocus&&g.open(),g.attachLiveEvents(),g.trigger("start").trigger("render"))},render:function(t){return t?g.$root.html(a()):angular.element(g.$root[0].querySelectorAll("."+d.box)).html(g.component.nodes(p.open)),g.attachLiveEvents(),g.trigger("render")},stop:function(){return p.start?(g.close(),g._hidden&&g._hidden.parentNode.removeChild(g._hidden),g.$root.remove(),v.removeClass(d.input).removeData(r),setTimeout(function(){v.off("."+p.id)},0),t.type=p.type,t.readOnly=!1,g.trigger("stop"),p.methods={},p.start=!1,g):g},open:function(r){return p.open?g:(v.addClass(d.active),n(t,"expanded",!0),g.$root.addClass(d.opened),n(g.$root[0],"hidden",!1),r!==!1&&(p.open=!0,v.triggerHandler("focus"),angular.element(document.querySelectorAll("#"+p.id)).off("click focusin").on("click focusin",function(e){var n=e.target;n!=t&&n!=document&&3!=e.which&&g.close(n===g.$root.children()[0])}),angular.element(document.querySelectorAll("#"+p.id)).off("keydown").on("keydown",function(n){var r=n.keyCode,i=g.component.key[r],o=n.target;27==r?g.close(!0):o!=t||!i&&13!=r?g.$root[0].contains(o)&&13==r&&(n.preventDefault(),o.click()):(n.preventDefault(),i?e._.trigger(g.component.key.go,g,[e._.trigger(i)]):angular.element(g.$root[0].querySelectorAll("."+d.highlighted)).hasClass(d.disabled)||g.set("select",g.component.item.highlight).close())})),g.trigger("open"))},close:function(e){return e&&(v.off("focus."+p.id),v.triggerHandler("focus"),setTimeout(function(){angular.element(document.querySelectorAll("#"+p.id)).on("focus",f)},0)),v.removeClass(d.active),n(t,"expanded",!1),g.$root.removeClass(d.opened+" "+d.focused),n(g.$root[0],"hidden",!0),n(g.$root[0],"selected",!1),p.open?(p.open=!1,v[0].blur(),o.off("."+p.id),g.trigger("close")):g},clear:function(){return g.set("clear")},set:function(t,e,n){var r,i,o=angular.isObject(t),s=o?t:{};if(n=o&&angular.isObject(e)?e:n||{},t){o||(s[t]=e);for(r in s)i=s[r],r in g.component.item&&g.component.set(r,i,n),"select"!=r&&"clear"!=r||(v[0].value="clear"==r?"":g.get(r,h.format),v.triggerHandler("change"));g.render()}return n.muted?g:g.trigger("set",s)},get:function(n,r){return n=n||"value",null!=p[n]?p[n]:"value"==n?t.value:n in g.component.item?"string"==typeof r?e._.trigger(g.component.formats.toString,g.component,[r,g.component.get(n)]):g.component.get(n):void 0},on:function(t,e){var n,r,i=angular.isObject(t),o=i?t:{};if(t){i||(o[t]=e);for(n in o)r=o[n],p.methods[n]=p.methods[n]||[],p.methods[n].push(r)}return g},off:function(){var t,e,n=arguments;for(t=0,namesCount=n.length;t<namesCount;t+=1)e=n[t],e in p.methods&&delete p.methods[e];return g},trigger:function(t,n){var r=p.methods[t];return r&&r.map(function(t){e._.trigger(t,g,[n])}),g}};return new m}function n(t,e,n){if(angular.isObject(e))for(var i in e)r(t,i,e[i]);else r(t,e,n)}function r(t,e,n){angular.element(t).attr(("role"==e?"":"aria-")+e,n)}function i(t,e){angular.isObject(t)||(t={attribute:e}),e="";for(var n in t){var r=("role"==n?"":"aria-")+n,i=t[n];e+=null==i?"":r+'="'+t[n]+'"'}return e}var o=angular.element(document);return e.klasses=function(t){return t=t||"picker",{picker:t,opened:t+"--opened",focused:t+"--focused",input:t+"__input",active:t+"__input--active",holder:t+"__holder",frame:t+"__frame",wrap:t+"__wrap",box:t+"__box"}},e._={group:function(t){for(var n,r="",i=e._.trigger(t.min,t);i<=e._.trigger(t.max,t,[i]);i+=t.i)n=e._.trigger(t.item,t,[i]),r+=e._.node(t.node,n[0],n[1],n[2]);return r},node:function(e,n,r,i){return n?(n=t.isArray(n)?n.join(""):n,r=r?' class="'+r+'"':"",i=i?" "+i:"","<"+e+r+i+">"+n+"</"+e+">"):""},lead:function(t){return(t<10?"0":"")+t},trigger:function(t,e,n){return"function"==typeof t?t.apply(e,n||[]):t},digits:function(t){return/\d/.test(t[1])?2:1},isDate:function(t){return{}.toString.call(t).indexOf("Date")>-1&&this.isInteger(t.getDate())},isInteger:function(t){return{}.toString.call(t).indexOf("Number")>-1&&t%1===0},ariaAttr:i},e.extend=function(t,n){angular.element.prototype[t]=function(r,i){var o=this.data(t);if("picker"==r)return o;if(o&&"string"==typeof r)return e._.trigger(o[r],o,[i]),this;for(var s=0;s<this.length;s++){var a=angular.element(this[s]);a.data(t)||new e(a[0],t,n,r)}},angular.element.prototype[t].defaults=n.defaults},e}),function(t){"function"==typeof define&&define.amd?define(["picker","angular"],t):t(Picker,angular)}(function(t,e){function n(t,n){var r=this,i=t.$node[0].value,o=t.$node.attr("data-value"),s=o||i,a=o?n.formatSubmit:n.format,u=function(){return"rtl"===getComputedStyle(t.$root[0]).direction};r.settings=n,r.$node=t.$node,r.queue={min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse navigate create validate",view:"parse create validate viewset",disable:"deactivate",enable:"activate"},r.item={},r.item.disable=(n.disable||[]).slice(0),r.item.enable=-function(t){return t[0]===!0?t.shift():-1}(r.item.disable),r.set("min",n.min).set("max",n.max).set("now"),s?r.set("select",s,{format:a,fromValue:!!i}):r.set("select",null).set("highlight",r.item.now),r.key={40:7,38:-7,39:function(){return u()?-1:1},37:function(){return u()?1:-1},go:function(t){var e=r.item.highlight,n=new Date(e.year,e.month,e.date+t),i=r.create([n.getFullYear(),n.getMonth(),n.getDate()]);r.set("select",i).set("highlight",i,{interval:t}),this.render()}},t.on("render",function(){e.element(t.$root[0].querySelectorAll("."+n.klass.selectMonth)).on("change",function(){var r=this.value;r&&(t.set("select",[t.get("view").year,r,t.get("highlight").date]),e.element(t.$root[0].querySelectorAll("."+n.klass.selectMonth)).triggerHandler("focus"))}),e.element(t.$root[0].querySelectorAll("."+n.klass.selectYear)).on("change",function(){var r=this.value;r&&(t.set("select",[r,t.get("view").month,t.get("highlight").date]),e.element(t.$root[0].querySelectorAll("."+n.klass.selectYear)).triggerHandler("focus"))})}).on("open",function(){e.element(t.$root[0].querySelectorAll("button, select")).attr("disabled",!1)}).on("close",function(){t.$node[0].blur(),e.element(t.$root[0].querySelectorAll("button, select")).attr("disabled",!0)})}var r=7,i=6,o=t._;n.prototype.set=function(t,e,n){var r=this,i=r.item;return null===e?(i[t]=e,r):(i["enable"==t?"disable":"flip"==t?"enable":t]=r.queue[t].split(" ").map(function(i){return e=r[i](t,e,n)}).pop(),"select"==t?r.set("highlight",i.select,n):"highlight"==t?r.set("view",i.highlight,n):t.match(/^(flip|min|max|disable|enable)$/)&&(i.select&&r.disabled(i.select)&&r.set("select",i.select,n),i.highlight&&r.disabled(i.highlight)&&r.set("highlight",i.highlight,n)),r)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,r){var i,s=this;return n=void 0===n?t:n,n==-(1/0)||n==1/0?i=n:e.isObject(n)&&o.isInteger(n.pick)?n=n.obj:e.isArray(n)?(n=new Date(n[0],n[1],n[2]),n=o.isDate(n)?n:s.create().obj):n=o.isInteger(n)||o.isDate(n)?s.normalize(new Date(n),r):s.now(t,n,r),{year:i||n.getFullYear(),month:i||n.getMonth(),date:i||n.getDate(),day:i||n.getDay(),obj:i||n,pick:i||n.getTime()}},n.prototype.createRange=function(t,n){var r=this,i=function(t){return t===!0||e.isArray(t)||o.isDate(t)?r.create(t):t};return o.isInteger(t)||(t=i(t)),o.isInteger(n)||(n=i(n)),o.isInteger(t)&&e.isObject(n)?t=[n.year,n.month,n.date+t]:o.isInteger(n)&&e.isObject(t)&&(n=[t.year,t.month,t.date+n]),{from:i(t),to:i(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e,n){return e=new Date,n&&n.rel&&e.setDate(e.getDate()+n.rel),this.normalize(e,n)},n.prototype.navigate=function(t,n,r){var i,o,s,a,u=e.isArray(n),c=e.isObject(n),l=this.item.view;if(u||c){for(c?(o=n.year,s=n.month,a=n.date):(o=+n[0],s=+n[1],a=+n[2]),r&&r.nav&&l&&l.month!==s&&(o=l.year,s=l.month),i=new Date(o,s+(r&&r.nav?r.nav:0),1),o=i.getFullYear(),s=i.getMonth();new Date(o,s,a).getMonth()!==s;)a-=1;n=[o,s,a]}return n},n.prototype.normalize=function(t){return t.setHours(0,0,0,0),t},n.prototype.measure=function(t,e){var n=this;return e?o.isInteger(e)&&(e=n.now(t,e,{rel:e})):e="min"==t?-(1/0):1/0,e},n.prototype.viewset=function(t,e){return this.create([e.year,e.month,1])},n.prototype.validate=function(t,n,r){var i,s,a,u,c=this,l=n,f=r&&r.interval?r.interval:1,h=c.item.enable===-1,d=c.item.min,p=c.item.max,v=h&&c.item.disable.filter(function(t){if(e.isArray(t)){var r=c.create(t).pick;r<n.pick?i=!0:r>n.pick&&(s=!0)}return o.isInteger(t)}).length;if((!r||!r.nav)&&(!h&&c.disabled(n)||h&&c.disabled(n)&&(v||i||s)||!h&&(n.pick<=d.pick||n.pick>=p.pick)))for(h&&!v&&(!s&&f>0||!i&&f<0)&&(f*=-1);c.disabled(n)&&(Math.abs(f)>1&&(n.month<l.month||n.month>l.month)&&(n=l,f=f>0?1:-1),n.pick<=d.pick?(a=!0,f=1,n=c.create([d.year,d.month,d.date-1])):n.pick>=p.pick&&(u=!0,f=-1,n=c.create([p.year,p.month,p.date+1])),!a||!u);)n=c.create([n.year,n.month,n.date+f]);return n},n.prototype.disabled=function(t){var n=this,r=n.item.disable.filter(function(r){return o.isInteger(r)?t.day===(n.settings.firstDay?r:r-1)%7:e.isArray(r)||o.isDate(r)?t.pick===n.create(r).pick:e.isObject(r)?n.withinRange(r,t):void 0});return r=r.length&&!r.filter(function(t){return e.isArray(t)&&"inverted"==t[3]||e.isObject(t)&&t.inverted}).length,n.item.enable===-1?!r:r||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.parse=function(t,n,r){var i,s=this,a={};return!n||o.isInteger(n)||e.isArray(n)||o.isDate(n)||e.isObject(n)&&o.isInteger(n.pick)?n:(r&&r.format||(r=r||{},r.format=s.settings.format),i="string"!=typeof n||r.fromValue?0:1,s.formats.toArray(r.format).map(function(t){var e=s.formats[t],r=e?o.trigger(e,s,[n,a]):t.replace(/^!/,"").length;e&&(a[t]=n.substr(0,r)),n=n.substr(r)}),[a.yyyy||a.yy,+(a.mm||a.m)-i,a.dd||a.d])},n.prototype.formats=function(){function t(t,e,n){var r=t.match(/\w+/)[0];return n.mm||n.m||(n.m=e.indexOf(r)),r.length}function e(t){return t.match(/\w+/)[0].length}return{d:function(t,e){return t?o.digits(t):e.date},dd:function(t,e){return t?2:o.lead(e.date)},ddd:function(t,n){return t?e(t):this.settings.weekdaysShort[n.day]},dddd:function(t,n){return t?e(t):this.settings.weekdaysFull[n.day]},m:function(t,e){return t?o.digits(t):e.month+1},mm:function(t,e){return t?2:o.lead(e.month+1)},mmm:function(e,n){var r=this.settings.monthsShort;return e?t(e,r,n):r[n.month]},mmmm:function(e,n){var r=this.settings.monthsFull;return e?t(e,r,n):r[n.month]},yy:function(t,e){return t?2:(""+e.year).slice(2)},yyyy:function(t,e){return t?4:e.year},toArray:function(t){return t.split(/(d{1,4}|m{1,4}|y{4}|yy|!.)/g)},toString:function(t,e){var n=this;return null==e?null:n.formats.toArray(t).map(function(t){return o.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}}}(),n.prototype.isDateExact=function(t,n){var r=this;return o.isInteger(t)&&o.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(o.isDate(t)||e.isArray(t))&&(o.isDate(n)||e.isArray(n))?r.create(t).pick===r.create(n).pick:!(!e.isObject(t)||!e.isObject(n))&&(r.isDateExact(t.from,n.from)&&r.isDateExact(t.to,n.to))},n.prototype.isDateOverlap=function(t,n){var r=this;return o.isInteger(t)&&(o.isDate(n)||e.isArray(n))?t===r.create(n).day+1:o.isInteger(n)&&(o.isDate(t)||e.isArray(t))?n===r.create(t).day+1:!(!e.isObject(t)||!e.isObject(n))&&r.overlapRanges(t,n)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(e.enable==-1?1:-1)},n.prototype.deactivate=function(t,n){var r=this,i=r.item.disable.slice(0);return"flip"==n?r.flipEnable():n===!1?(r.flipEnable(1),i=[]):n===!0?(r.flipEnable(-1),i=[]):n.map(function(t){for(var n,s=0;s<i.length;s+=1)if(r.isDateExact(t,i[s])){n=!0;break}n||(o.isInteger(t)||o.isDate(t)||e.isArray(t)||e.isObject(t)&&t.from&&t.to)&&i.push(t)}),i},n.prototype.activate=function(t,n){var r=this,i=r.item.disable,s=i.length;return"flip"==n?r.flipEnable():n===!0?(r.flipEnable(1),i=[]):n===!1?(r.flipEnable(-1),i=[]):n.map(function(t){var n,a,u,c;for(u=0;u<s;u+=1){if(a=i[u],r.isDateExact(a,t)){n=i[u]=null,c=!0;break}if(r.isDateOverlap(a,t)){e.isObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[3]||n.push("inverted")):o.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(u=0;u<s;u+=1)if(r.isDateExact(i[u],t)){i[u]=null;break}if(c)for(u=0;u<s;u+=1)if(r.isDateOverlap(i[u],t)){i[u]=null;break}n&&i.push(n)}),i.filter(function(t){return null!=t})},n.prototype.nodes=function(t){var e=this,n=e.settings,s=e.item,a=s.now,u=s.select,c=s.highlight,l=s.view,f=s.disable,h=s.min,d=s.max,p=function(t){return n.firstDay&&t.push(t.shift()),o.node("thead",o.node("tr",o.group({min:0,max:r-1,i:1,node:"th",item:function(e){return[t[e],n.klass.weekdays]}})))}((n.showWeekdaysFull?n.weekdaysFull:n.weekdaysShort).slice(0)),v=function(t){return o.node("div"," ",n.klass["nav"+(t?"Next":"Prev")]+(t&&l.year>=d.year&&l.month>=d.month||!t&&l.year<=h.year&&l.month<=h.month?" "+n.klass.navDisabled:""),"data-nav="+(t||-1))},m=function(e){return n.selectMonths?o.node("select",o.group({min:0,max:11,i:1,node:"option",item:function(t){return[e[t],0,"value="+t+(l.month==t?" selected":"")+(l.year==h.year&&t<h.month||l.year==d.year&&t>d.month?" disabled":"")]}}),n.klass.selectMonth,t?"":"disabled"):o.node("div",e[l.month],n.klass.month)},g=function(){var e=l.year,r=n.selectYears===!0?5:~~(n.selectYears/2);if(r){var i=h.year,s=d.year,a=e-r,u=e+r;if(i>a&&(u+=i-a,a=i),s<u){var c=a-i,f=u-s;a-=c>f?f:c,u=s}return o.node("select",o.group({min:a,max:u,i:1,node:"option",item:function(t){return[t,0,"value="+t+(e==t?" selected":"")]}}),n.klass.selectYear,t?"":"disabled")}return o.node("div",e,n.klass.year)};return o.node("div",v()+v(1)+m(n.showMonthsShort?n.monthsShort:n.monthsFull)+g(),n.klass.header)+o.node("table",p+o.node("tbody",o.group({min:0,max:i-1,i:1,node:"tr",item:function(t){var i=n.firstDay&&0===e.create([l.year,l.month,1]).day?-7:0;return[o.group({min:r*t-l.day+i+1,max:function(){return this.min+r-1},i:1,node:"td",item:function(t){t=e.create([l.year,l.month,t+(n.firstDay?1:0)]);var r=u&&u.pick==t.pick,i=c&&c.pick==t.pick,s=f&&e.disabled(t)||t.pick<h.pick||t.pick>d.pick;return[o.node("div",t.date,function(e){return e.push(l.month==t.month?n.klass.infocus:n.klass.outfocus),a.pick==t.pick&&e.push(n.klass.now),r&&e.push(n.klass.selected),i&&e.push(n.klass.highlighted),s&&e.push(n.klass.disabled),e.join(" ")}([n.klass.day]),"data-pick="+t.pick+" "+o.ariaAttr({role:"button",controls:e.$node[0].id,checked:!(!r||e.$node[0].value!==o.trigger(e.formats.toString,e,[n.format,t]))||null,activedescendant:!!i||null,disabled:!!s||null}))]}})]}})),n.klass.table)+o.node("div",o.node("button",n.today,n.klass.buttonToday,"type=button data-pick="+a.pick+(t?"":" disabled"))+o.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(t?"":" disabled"))+o.node("button",n.close,n.klass.buttonClose,"type=button data-close=true "+(t?"":" disabled")),n.klass.footer)},n.defaults=function(t){return{monthsFull:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdaysFull:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today:"Today",clear:"Clear",close:"Close",format:"d mmmm, yyyy",klass:{table:t+"table",header:t+"header",navPrev:t+"nav--prev",navNext:t+"nav--next",navDisabled:t+"nav--disabled",month:t+"month",year:t+"year",selectMonth:t+"select--month",selectYear:t+"select--year",weekdays:t+"weekday",day:t+"day",disabled:t+"day--disabled",selected:t+"day--selected",highlighted:t+"day--highlighted",now:t+"day--today",infocus:t+"day--infocus",outfocus:t+"day--outfocus",footer:t+"footer",buttonClear:t+"button--clear",buttonClose:t+"button--close",buttonToday:t+"button--today"}}}(t.klasses().picker+"__"),t.extend("pickadate",n)}),function(t){"function"==typeof define&&define.amd?define(["picker","angular"],t):t(Picker,angular)}(function(t,e){function n(t,e){var n=this,r=t.$node[0].value,i=t.$node.data("value"),o=i||r,s=i?e.formatSubmit:e.format;n.settings=e,n.$node=t.$node,n.queue={interval:"i",min:"measure create",max:"measure create",now:"now create",select:"parse create validate",highlight:"parse create validate",view:"parse create validate",disable:"deactivate",enable:"activate"},n.item={},n.item.interval=e.interval||30,n.item.disable=(e.disable||[]).slice(0),n.item.enable=-function(t){return t[0]===!0?t.shift():-1}(n.item.disable),n.set("min",e.min).set("max",e.max).set("now"),o?n.set("select",o,{format:s,fromValue:!!r}):n.set("select",null).set("highlight",n.item.now),n.key={40:1,38:-1,39:1,37:-1,go:function(t){n.set("highlight",n.item.highlight.pick+t*n.item.interval,{interval:t*n.item.interval
}),this.render()}},t.on("render",function(){var n=t.$root.children(),r=n.find("."+e.klass.viewset);r.length&&(n[0].scrollTop=~~r.position().top-2*r[0].clientHeight)}).on("open",function(){t.$root.find("button").attr("disable",!1)}).on("close",function(){t.$root.find("button").attr("disable",!0)})}var r=24,i=60,o=12,s=r*i,a=t._;n.prototype.set=function(t,e,n){var r=this,i=r.item;return null===e?(i[t]=e,r):(i["enable"==t?"disable":"flip"==t?"enable":t]=r.queue[t].split(" ").map(function(i){return e=r[i](t,e,n)}).pop(),"select"==t?r.set("highlight",i.select,n):"highlight"==t?r.set("view",i.highlight,n):"interval"==t?r.set("min",i.min,n).set("max",i.max,n):t.match(/^(flip|min|max|disable|enable)$/)&&("min"==t&&r.set("max",i.max,n),i.select&&r.disabled(i.select)&&r.set("select",i.select,n),i.highlight&&r.disabled(i.highlight)&&r.set("highlight",i.highlight,n)),r)},n.prototype.get=function(t){return this.item[t]},n.prototype.create=function(t,n,o){var u=this;return n=void 0===n?t:n,a.isDate(n)&&(n=[n.getHours(),n.getMinutes()]),e.isObject(n)&&a.isInteger(n.pick)?n=n.pick:e.isArray(n)?n=+n[0]*i+ +n[1]:a.isInteger(n)||(n=u.now(t,n,o)),"max"==t&&n<u.item.min.pick&&(n+=s),"min"!=t&&"max"!=t&&(n-u.item.min.pick)%u.item.interval!==0&&(n+=u.item.interval),n=u.normalize(t,n,o),{hour:~~(r+n/i)%r,mins:(i+n%i)%i,time:(s+n)%s,pick:n}},n.prototype.createRange=function(t,n){var r=this,i=function(t){return t===!0||e.isArray(t)||a.isDate(t)?r.create(t):t};return a.isInteger(t)||(t=i(t)),a.isInteger(n)||(n=i(n)),a.isInteger(t)&&e.isObject(n)?t=[n.hour,n.mins+t*r.settings.interval]:a.isInteger(n)&&e.isObject(t)&&(n=[t.hour,t.mins+n*r.settings.interval]),{from:i(t),to:i(n)}},n.prototype.withinRange=function(t,e){return t=this.createRange(t.from,t.to),e.pick>=t.from.pick&&e.pick<=t.to.pick},n.prototype.overlapRanges=function(t,e){var n=this;return t=n.createRange(t.from,t.to),e=n.createRange(e.from,e.to),n.withinRange(t,e.from)||n.withinRange(t,e.to)||n.withinRange(e,t.from)||n.withinRange(e,t.to)},n.prototype.now=function(t,e){var n,r=this.item.interval,o=new Date,s=o.getHours()*i+o.getMinutes(),u=a.isInteger(e);return s-=s%r,n=e<0&&r*e+s<=-r,s+="min"==t&&n?0:r,u&&(s+=r*(n&&"max"!=t?e+1:e)),s},n.prototype.normalize=function(t,e){var n=this.item.interval,r=this.item.min&&this.item.min.pick||0;return e-="min"==t?0:(e-r)%n},n.prototype.measure=function(t,n,o){var s=this;return n?n===!0||a.isInteger(n)?n=s.now(t,n,o):e.isObject(n)&&a.isInteger(n.pick)&&(n=s.normalize(t,n.pick,o)):n="min"==t?[0,0]:[r-1,i-1],n},n.prototype.validate=function(t,e,n){var r=this,i=n&&n.interval?n.interval:r.item.interval;return r.disabled(e)&&(e=r.shift(e,i)),e=r.scope(e),r.disabled(e)&&(e=r.shift(e,i*-1)),e},n.prototype.disabled=function(t){var n=this,r=n.item.disable.filter(function(r){return a.isInteger(r)?t.hour==r:e.isArray(r)||a.isDate(r)?t.pick==n.create(r).pick:e.isObject(r)?n.withinRange(r,t):void 0});return r=r.length&&!r.filter(function(t){return e.isArray(t)&&"inverted"==t[2]||e.isObject(t)&&t.inverted}).length,n.item.enable===-1?!r:r||t.pick<n.item.min.pick||t.pick>n.item.max.pick},n.prototype.shift=function(t,e){var n=this,r=n.item.min.pick,i=n.item.max.pick;for(e=e||n.item.interval;n.disabled(t)&&(t=n.create(t.pick+=e),!(t.pick<=r||t.pick>=i)););return t},n.prototype.scope=function(t){var e=this.item.min.pick,n=this.item.max.pick;return this.create(t.pick>n?n:t.pick<e?e:t)},n.prototype.parse=function(t,n,r){var o,s,u,c,l,f=this,h={};if(!n||a.isInteger(n)||e.isArray(n)||a.isDate(n)||e.isObject(n)&&a.isInteger(n.pick))return n;r&&r.format||(r=r||{},r.format=f.settings.format),f.formats.toArray(r.format).map(function(t){var e,r=f.formats[t],i=r?a.trigger(r,f,[n,h]):t.replace(/^!/,"").length;r&&(e=n.substr(0,i),h[t]=e.match(/^\d+$/)?+e:e),n=n.substr(i)});for(c in h)l=h[c],a.isInteger(l)?c.match(/^(h|hh)$/i)?(o=l,"h"!=c&&"hh"!=c||(o%=12)):"i"==c&&(s=l):c.match(/^a$/i)&&l.match(/^p/i)&&("h"in h||"hh"in h)&&(u=!0);return(u?o+12:o)*i+s},n.prototype.formats={h:function(t,e){return t?a.digits(t):e.hour%o||o},hh:function(t,e){return t?2:a.lead(e.hour%o||o)},H:function(t,e){return t?a.digits(t):""+e.hour%24},HH:function(t,e){return t?a.digits(t):a.lead(e.hour%24)},i:function(t,e){return t?2:a.lead(e.mins)},a:function(t,e){return t?4:s/2>e.time%s?this.settings.amSmall:this.settings.pmSmall},A:function(t,e){return t?2:s/2>e.time%s?this.settings.amLarge:this.settings.pmLarge},toArray:function(t){return t.split(/(h{1,2}|H{1,2}|i|a|A|!.)/g)},toString:function(t,e){var n=this;return null===e?null:n.formats.toArray(t).map(function(t){return a.trigger(n.formats[t],n,[0,e])||t.replace(/^!/,"")}).join("")}},n.prototype.isTimeExact=function(t,n){var r=this;return a.isInteger(t)&&a.isInteger(n)||"boolean"==typeof t&&"boolean"==typeof n?t===n:(a.isDate(t)||e.isArray(t))&&(a.isDate(n)||e.isArray(n))?r.create(t).pick===r.create(n).pick:!(!e.isObject(t)||!e.isObject(n))&&(r.isTimeExact(t.from,n.from)&&r.isTimeExact(t.to,n.to))},n.prototype.isTimeOverlap=function(t,n){var r=this;return a.isInteger(t)&&(a.isDate(n)||e.isArray(n))?t===r.create(n).hour:a.isInteger(n)&&(a.isDate(t)||e.isArray(t))?n===r.create(t).hour:!(!e.isObject(t)||!e.isObject(n))&&r.overlapRanges(t,n)},n.prototype.flipEnable=function(t){var e=this.item;e.enable=t||(e.enable==-1?1:-1)},n.prototype.deactivate=function(t,n){var r=this,i=r.item.disable.slice(0);return"flip"==n?r.flipEnable():n===!1?(r.flipEnable(1),i=[]):n===!0?(r.flipEnable(-1),i=[]):n.map(function(t){for(var n,o=0;o<i.length;o+=1)if(r.isTimeExact(t,i[o])){n=!0;break}n||(a.isInteger(t)||a.isDate(t)||e.isArray(t)||e.isObject(t)&&t.from&&t.to)&&i.push(t)}),i},n.prototype.activate=function(t,n){var r=this,i=r.item.disable,o=i.length;return"flip"==n?r.flipEnable():n===!0?(r.flipEnable(1),i=[]):n===!1?(r.flipEnable(-1),i=[]):n.map(function(t){var n,s,u,c;for(u=0;u<o;u+=1){if(s=i[u],r.isTimeExact(s,t)){n=i[u]=null,c=!0;break}if(r.isTimeOverlap(s,t)){e.isObject(t)?(t.inverted=!0,n=t):e.isArray(t)?(n=t,n[2]||n.push("inverted")):a.isDate(t)&&(n=[t.getFullYear(),t.getMonth(),t.getDate(),"inverted"]);break}}if(n)for(u=0;u<o;u+=1)if(r.isTimeExact(i[u],t)){i[u]=null;break}if(c)for(u=0;u<o;u+=1)if(r.isTimeOverlap(i[u],t)){i[u]=null;break}n&&i.push(n)}),i.filter(function(t){return null!=t})},n.prototype.i=function(t,e){return a.isInteger(e)&&e>0?e:this.item.interval},n.prototype.nodes=function(t){var e=this,n=e.settings,r=e.item.select,i=e.item.highlight,o=e.item.view,s=e.item.disable;return a.node("ul",a.group({min:e.item.min.pick,max:e.item.max.pick,i:e.item.interval,node:"li",item:function(t){t=e.create(t);var u=t.pick,c=r&&r.pick==u,l=i&&i.pick==u,f=s&&e.disabled(t);return[a.trigger(e.formats.toString,e,[a.trigger(n.formatLabel,e,[t])||n.format,t]),function(t){return c&&t.push(n.klass.selected),l&&t.push(n.klass.highlighted),o&&o.pick==u&&t.push(n.klass.viewset),f&&t.push(n.klass.disabled),t.join(" ")}([n.klass.listItem]),"data-pick="+t.pick+" "+a.ariaAttr({role:"button",controls:e.$node[0].id,checked:!(!c||e.$node.val()!==a.trigger(e.formats.toString,e,[n.format,t]))||null,activedescendant:!!l||null,disabled:!!f||null})]}})+a.node("li",a.node("button",n.clear,n.klass.buttonClear,"type=button data-clear=1"+(t?"":" disable"))),n.klass.list)},n.defaults=function(t){return{amSmall:"a.m.",amLarge:"AM",pmSmall:"p.m.",pmLarge:"PM",clear:"Clear",format:"h:i A",interval:30,klass:{picker:t+" "+t+"--time",holder:t+"__holder",list:t+"__list",listItem:t+"__list-item",disabled:t+"__list-item--disabled",selected:t+"__list-item--selected",highlighted:t+"__list-item--highlighted",viewset:t+"__list-item--viewset",now:t+"__list-item--now",buttonClear:t+"__button--clear"}}}(t.klasses().picker),t.extend("pickatime",n)}),[].map||(Array.prototype.map=function(t,e){for(var n=this,r=n.length,i=new Array(r),o=0;o<r;o++)o in n&&(i[o]=t.call(e,n[o],o,n));return i}),[].filter||(Array.prototype.filter=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var r=[],i=arguments[1],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}),[].indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!==r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(var i=r>=0?r:Math.max(n-Math.abs(r),0);i<n;i++)if(i in e&&e[i]===t)return i;return-1});var nativeSplit=String.prototype.split,compliantExecNpcg=void 0===/()??/.exec("")[1];String.prototype.split=function(t,e){var n=this;if("[object RegExp]"!==Object.prototype.toString.call(t))return nativeSplit.call(n,t,e);var r,i,o,s,a=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),c=0;for(t=new RegExp(t.source,u+"g"),n+="",compliantExecNpcg||(r=new RegExp("^"+t.source+"$(?!\\s)",u)),e=void 0===e?-1>>>0:e>>>0;(i=t.exec(n))&&(o=i.index+i[0].length,!(o>c&&(a.push(n.slice(c,i.index)),!compliantExecNpcg&&i.length>1&&i[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(i[t]=void 0)}),i.length>1&&i.index<n.length&&Array.prototype.push.apply(a,i.slice(1)),s=i[0].length,c=o,a.length>=e)));)t.lastIndex===i.index&&t.lastIndex++;return c===n.length?!s&&t.test("")||a.push(""):a.push(n.slice(c)),a.length>e?a.slice(0,e):a},window.AngularSlider=function(t,e,n){function r(t){d.cssText=t}function i(t,e){return typeof t===e}function o(){c.inputtypes=function(t){for(var r,i,o,s=0,a=t.length;a>s;s++)p.setAttribute("type",i=t[s]),r="text"!==p.type,r&&(p.value=v,p.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(i)&&p.style.WebkitAppearance!==n?(l.appendChild(p),o=e.defaultView,r=o.getComputedStyle&&"textfield"!==o.getComputedStyle(p,null).WebkitAppearance&&0!==p.offsetHeight,l.removeChild(p)):/^(search|tel)$/.test(i)||(r=/^(url|email)$/.test(i)?p.checkValidity&&p.checkValidity()===!1:p.value!=v)),g[t[s]]=!!r;return g}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var s,a,u="2.7.1",c={},l=e.documentElement,f="modernizr",h=e.createElement(f),d=h.style,p=e.createElement("input"),v=":)",m=({}.toString,{}),g={},b=[],y=b.slice,_={}.hasOwnProperty;a=i(_,"undefined")||i(_.call,"undefined")?function(t,e){return e in t&&i(t.constructor.prototype[e],"undefined")}:function(t,e){return _.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var n=y.call(arguments,1),r=function(){if(this instanceof r){var i=function(){};i.prototype=e.prototype;var o=new i,s=e.apply(o,n.concat(y.call(arguments)));return Object(s)===s?s:o}return e.apply(t,n.concat(y.call(arguments)))};return r});for(var w in m)a(m,w)&&(s=w.toLowerCase(),c[s]=m[w](),b.push((c[s]?"":"no-")+s));return c.input||o(),c.addTest=function(t,e){if("object"==typeof t)for(var r in t)a(t,r)&&c.addTest(r,t[r]);else{if(t=t.toLowerCase(),c[t]!==n)return c;e="function"==typeof e?e():e,"undefined"!=typeof enableClasses&&enableClasses&&(l.className+=" "+(e?"":"no-")+t),c[t]=e}return c},r(""),h=p=null,c._version=u,c}(this,this.document),function(t,e,n){function r(t){return"[object Function]"==m.call(t)}function i(t){return"string"==typeof t}function o(){}function s(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=g.shift();b=1,t?t.t?p(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):b=0}function u(t,n,r,i,o,u,c){function l(e){if(!d&&s(f.readyState)&&(y.r=d=1,!b&&a(),f.onload=f.onreadystatechange=null,e)){"img"!=t&&p(function(){w.removeChild(f)},50);for(var r in k[n])k[n].hasOwnProperty(r)&&k[n][r].onload()}}var c=c||h.errorTimeout,f=e.createElement(t),d=0,m=0,y={t:r,s:n,e:o,a:u,x:c};1===k[n]&&(m=1,k[n]=[]),"object"==t?f.data=n:(f.src=n,f.type=t),f.width=f.height="0",f.onerror=f.onload=f.onreadystatechange=function(){l.call(this,m)},g.splice(i,0,y),"img"!=t&&(m||2===k[n]?(w.insertBefore(f,_?null:v),p(l,c)):k[n].push(f))}function c(t,e,n,r,o){return b=0,e=e||"j",i(t)?u("c"==e?x:S,t,e,this.i++,n,r,o):(g.splice(this.i++,0,t),1==g.length&&a()),this}function l(){var t=h;return t.loader={load:c,i:0},t}var f,h,d=e.documentElement,p=t.setTimeout,v=e.getElementsByTagName("script")[0],m={}.toString,g=[],b=0,y="MozAppearance"in d.style,_=y&&!!e.createRange().compareNode,w=_?d:v.parentNode,d=t.opera&&"[object Opera]"==m.call(t.opera),d=!!e.attachEvent&&!d,S=y?"object":d?"script":"img",x=d?"script":S,E=Array.isArray||function(t){return"[object Array]"==m.call(t)},C=[],k={},A={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,n,r,t=t.split("!"),i=C.length,o=t.pop(),s=t.length,o={url:o,origUrl:o,prefixes:t};for(n=0;s>n;n++)r=t[n].split("="),(e=A[r.shift()])&&(o=e(o,r));for(n=0;i>n;n++)o=C[n](o);return o}function s(t,i,o,s,a){var u=e(t),c=u.autoCallback;u.url.split(".").pop().split("?").shift(),u.bypass||(i&&(i=r(i)?i:i[t]||i[s]||i[t.split("/").pop().split("?")[0]]),u.instead?u.instead(t,i,o,s,a):(k[u.url]?u.noexec=!0:k[u.url]=1,o.load(u.url,u.forceCSS||!u.forceJS&&"css"==u.url.split(".").pop().split("?").shift()?"c":n,u.noexec,u.attrs,u.timeout),(r(i)||r(c))&&o.load(function(){l(),i&&i(u.origUrl,a,s),c&&c(u.origUrl,a,s),k[u.url]=2})))}function a(t,e){function n(t,n){if(t){if(i(t))n||(f=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}),s(t,f,e,0,c);else if(Object(t)===t)for(u in a=function(){var e,n=0;for(e in t)t.hasOwnProperty(e)&&n++;return n}(),t)t.hasOwnProperty(u)&&(!n&&!--a&&(r(f)?f=function(){var t=[].slice.call(arguments);h.apply(this,t),d()}:f[u]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),d()}}(h[u])),s(t[u],f,e,u,c))}else!n&&d()}var a,u,c=!!t.test,l=t.load||t.both,f=t.callback||o,h=f,d=t.complete||o;n(c?t.yep:t.nope,!!l),l&&n(l)}var u,c,f=this.yepnope.loader;if(i(t))s(t,0,f,0);else if(E(t))for(u=0;u<t.length;u++)c=t[u],i(c)?s(c,0,f,0):E(c)?h(c):Object(c)===c&&a(c,f);else Object(t)===t&&a(t,f)},h.addPrefix=function(t,e){A[t]=e},h.addFilter=function(t){C.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",f=function(){e.removeEventListener("DOMContentLoaded",f,0),e.readyState="complete"},0)),t.yepnope=l(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,n,r,i,u,c){var l,f,d=e.createElement("script"),i=i||h.errorTimeout;d.src=t;for(f in r)d.setAttribute(f,r[f]);n=c?a:n||o,d.onreadystatechange=d.onload=function(){!l&&s(d.readyState)&&(l=1,n(),d.onload=d.onreadystatechange=null)},p(function(){l||(l=1,n(1))},i),u?d.onload():v.parentNode.insertBefore(d,v)},t.yepnope.injectCss=function(t,n,r,i,s,u){var c,i=e.createElement("link"),n=u?a:n||o;i.href=t,i.rel="stylesheet",i.type="text/css";for(c in r)i.setAttribute(c,r[c]);s||(v.parentNode.insertBefore(i,v),p(n,0))}}(this,document),AngularSlider.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},angular.module("vr.directives.slider",["ngTouch"]).directive("slider",["$timeout","$document","$interpolate","$swipe",function(t,e,n,r){function i(t){return angular.element(t)}function o(t){return""+t+"px"}function s(t,e){return t.css({opacity:e})}function a(t){return s(t,0)}function u(t){return s(t,1)}function c(t,e){return t.css({left:e})}function l(t){var e=parseFloat(t.css("width"));return isNaN(e)?t[0].offsetWidth:e}function f(t){return l(t)/2}function h(t){try{return t.offset().left}catch(e){}return t[0].getBoundingClientRect().left}function d(t,e){return h(t)>h(e)?h(t)-h(e)-l(e):h(e)-h(t)-l(t)}function p(t,e){return t.attr("ng-bind-template",e)}function v(t,e,n,r,i){(angular.isUndefined(e)||!e)&&(e=0),(angular.isUndefined(n)||!n||0==n)&&(n=1/Math.pow(10,e)),(angular.isUndefined(r)||!r)&&(r=0),(angular.isUndefined(t)||!t)&&(t=0);var o=(t-r)%n,s=o>n/2?t+n-o:t-o;return(angular.isUndefined(i)||!i)&&(i=s),s=Math.min(Math.max(s,r),i),parseFloat(s.toFixed(e))}function m(t,e){return Math.floor(t/e+.5)*e}function g(t,e){return t>0&&!isNaN(e)?Math.ceil(e/t)*t:e}function b(t){return _+" "+t+" "+w}var y=3,_=n.startSymbol(),w=n.endSymbol();return{restrict:"EA",require:"ngModel",scope:{floor:"@",ceiling:"@",step:"@",stepWidth:"@",precision:"@",buffer:"@",stickiness:"@",showSteps:"@",ngModel:"=",ngModelRange:"=",ngDisabled:"=",ngChange:"&",translateFn:"&",translateRangeFn:"&",translateCombinedFn:"&",scaleFn:"&",inverseScaleFn:"&"},template:"<span class='bar full'></span><span class='bar steps'><span class='bubble step' ng-repeat='step in stepBubbles()'></span></span><span class='bar selection'></span><span class='bar unselected low'></span><span class='bar unselected high'></span><span class='pointer low'></span><span class='pointer high'></span><span class='bubble low'></span><span class='bubble high'></span><span class='bubble middle'></span><span class='bubble selection'></span><span class='bubble limit floor'></span><span class='bubble limit ceiling'></span><input type='range' class='input low' /><input type='range' class='input high' /><input type='range' class='input selection' />",compile:function(n,s){function _(t){t||(t=n);var e=[];return angular.forEach(t.children(),function(t){e.push(i(t))}),e}function w(t,e,n){return{fullBar:t[0],stepBubs:t[1],selBar:e?t[2]:null,unSelBarLow:e?t[3]:null,unSelBarHigh:e?t[4]:null,minPtr:e?t[5]:t[2],maxPtr:e?t[6]:null,lowBub:e?t[7]:t[3],highBub:e?t[8]:null,cmbBub:e?t[9]:null,selBub:e?t[10]:null,flrBub:e?t[11]:t[4],ceilBub:e?t[12]:t[5],minInput:n?e?t[13]:t[6]:null,maxInput:n&&e?t[14]:null,selInput:n&&e?t[15]:null}}var S=s.showSteps,x=s.stepWidth?"stepWidth":"step",E=null!=s.ngModelRange,C={},k="ngModel",A="ngModelRange",$="selectBar",T=["floor","ceiling","stickiness",k];if(C=function(){for(var t=_(),e=[],n=0,r=t.length;r>n;n++){var o=t[n];o=i(o),o.css({"white-space":"nowrap",position:"absolute",display:"block","z-index":1}),e.push(o)}return e}(),C=w(C,!0,!0),s.translateFn&&s.$set("translateFn",""+s.translateFn+"(value)"),s.translateRangeFn&&s.$set("translateRangeFnFn",""+s.translateRangeFn+"(low,high)"),s.translateCombinedFn&&s.$set("translateCombinedFnFn",""+s.translateCombinedFn+"(low,high)"),s.scaleFn&&s.$set("scaleFn",""+s.scaleFn+"(value)"),s.inverseScaleFn&&s.$set("inverseScaleFn",""+s.inverseScaleFn+"(value)"),C.fullBar.css({left:0,right:0}),AngularSlider.inputtypes.range){var N={position:"absolute",margin:0,padding:0,opacity:0,height:"100%"};C.minInput.attr("step",b("inputSteps()")),C.minInput.attr("min",b("floor")),C.minInput.css(N),C.minInput.css("left",0),E?(C.minInput.attr("max",b("ngModelRange - (buffer / 2)")),C.maxInput.attr("step",b("inputSteps()")),C.maxInput.attr("min",b("ngModel + (buffer / 2)")),C.maxInput.attr("max",b("ceiling")),C.maxInput.css(N),C.selInput.attr("step",b("inputSteps()")),C.selInput.attr("min",b("ngModel")),C.selInput.attr("max",b("ngModelRange")),C.selInput.css(N)):(C.minInput.attr("max",b("ceiling")),C.minInput.css({width:"100%"}),C.maxInput.remove(),C.selInput.remove())}else C.minInput.remove(),C.maxInput.remove(),C.selInput.remove();if(p(C.stepBubs.children().eq(0),b("translation(step)")),p(C.ceilBub,b("translation(ceiling)")),p(C.flrBub,b("translation(floor)")),p(C.selBub,b("rangeTranslation("+k+","+A+")")),p(C.lowBub,b("translation("+k+")")),p(C.highBub,b("translation("+A+")")),p(C.cmbBub,b("combinedTranslation("+k+","+A+")")),E)T.push(A),T.unshift("buffer");else for(var O=[C.selBar,C.unSelBarLow,C.unSelBarHigh,C.maxPtr,C.selBub,C.highBub,C.cmbBub],I=0,M=O.length;M>I;I++)n=O[I],n.remove();return T.unshift("precision",x),S||C.stepBubs.children().remove(),{post:function(n,s,p,b){function S(){if(angular.forEach(T,function(t){n[t]=parseFloat(n[t]),t==k||t==A?n[t]=v(n[t],n.precision,n[x],n.floor,n.ceiling):"buffer"==t?n.buffer=!n.buffer||isNaN(n.buffer)||n.buffer<0?0:g(n[x],n.buffer):"precision"==t?n.precision=!n.precision||isNaN(n.precision)?0:parseInt(n.precision):t==x?n[x]=!n[x]||isNaN(n[x])?1/Math.pow(10,n.precision):parseFloat(n[x].toFixed(n.precision)):"stickiness"==t&&(isNaN(n.stickiness)?n.stickiness=y:n.stickiness<1&&(n.stickiness=1)),n.decodedValues[t]=n.decodeRef(t)}),E){if(n[A]<n[k]){var t=n[A];n[A]=n[k],n[k]=t}var e=v(n[A]-n[k],n.precision,n[x]);if(n.buffer>0&&e<n.buffer){var r=n.encode((n.decodedValues[k]+n.decodedValues[A])/2);n[k]=v(r-n.buffer/2,n.precision,n[x],n.floor,n.ceiling),n[A]=n[k]+n.buffer,n[A]>n.ceiling&&(n[A]=n.ceiling,n[k]=n.ceiling-n.buffer)}}O=l(N.fullBar),I=f(N.minPtr),M=h(N.fullBar),R=M+O-l(N.minPtr),D=R-M,L=n.floor,j=n.decodedValues.floor,P=n.ceiling,q=n.decodedValues.ceiling,B=P-L,F=q-j,U=m(F,n.decodedValues[x])}function C(){function t(t){return 100*((t-M)/D)}function p(e){return t(e)/100*F+j}function g(t){return n.encode(p(t))}function y(t){var e=t-j;return B==F?e=m(e,n.decodedValues[x])/U:e/=F,100*e}function _(t){return y(n.decode(t))}function w(t){return o(t*D/100)}function C(t){return Math.min(Math.max(t,M),R)}function T(e){return c(e,w(t(C(h(e)))))}function q(t,e,r){var i=t>0?1:-1;return e=e?e:100,r?(Math.sin(Math.min(Math.abs(t/e),1)*Math.PI-Math.PI/2)+1)*i*e/6:i*Math.pow(Math.min(Math.abs(2*(t/e)),1),n.stickiness)*e/2}function W(){var e=y(n.decodedValues[k]),r=_(n[k]+n[x])-e,i=e-_(n[k]-n[x]),o=_(n[k]+n.buffer)-e,s=t(I+M),a=e+q(H,H>0?r:i);if(c(N.minPtr,w(a)),c(N.lowBub,w(t(h(N.minPtr)-f(N.lowBub)+I))),E){var u=y(n.decodedValues[A]),l=_(n[A]+n[x])-u,d=u-_(n[A]-n[x]),p=u-_(n[A]-n.buffer),v=u+q(z,z>0?l:d);if(a>u-p&&(a=e+q(H,o,!0),c(N.minPtr,w(a)),c(N.lowBub,w(t(h(N.minPtr)-f(N.lowBub)+I)))),e+o>v&&(v=u+q(z,p,!0)),c(N.maxPtr,w(v)),c(N.highBub,w(t(h(N.maxPtr)-f(N.highBub)+I))),c(N.selBar,w(a+s)),N.selBar.css({width:w(v-a)}),c(N.selBub,w((a+v)/2-t(f(N.selBub)+M)+s)),c(N.cmbBub,w((a+v)/2-t(f(N.cmbBub)+M)+s)),N.unSelBarLow.css({left:0,width:w(a+s)}),c(N.unSelBarHigh,w(v+s)),N.unSelBarHigh.css({right:0}),AngularSlider.inputtypes.range){var m=2*s,g=a+o/2,b=100-g;g+=m;var S=v-p/2,C=a+m,$=v-a-m;a+m>=v&&(C=a,$=v+m-a),N.minInput.css({width:w(S)}),N.maxInput.css({left:w(g),width:w(b)}),N.selInput.css({left:w(C),width:w($)})}}}function K(){var t=N.lowBub;T(N.lowBub),E&&(T(N.highBub),T(N.selBub),d(N.lowBub,N.highBub)<10?(a(N.lowBub),a(N.highBub),u(N.cmbBub),T(N.cmbBub),t=N.cmbBub):(u(N.lowBub),u(N.highBub),a(N.cmbBub),t=N.highBub)),d(N.flrBub,N.lowBub)<5?a(N.flrBub):E&&d(N.flrBub,t)<5?a(N.flrBub):u(N.flrBub),d(N.lowBub,N.ceilBub)<5?a(N.ceilBub):E&&d(t,N.ceilBub)<5?a(N.ceilBub):u(N.ceilBub)}function J(){H=0,z=0,et&&(W(),K(),et.removeClass("active")),et=null,nt=null,Q=!1}function X(e){et&&n.$apply(function(){var r=e.clientX||e.x;if(Q){var i=g(r)-Z,o=g(r)+tt;L>i?(o+=L-i,i=L):o>P&&(i-=o-P,o=P);var a=_(i),u=_(o);H=a,z=u,n[k]=i=v(i,n.precision,n[x],n.floor,n.ceiling),n[A]=o=v(o,n.precision,n[x],n.floor,n.ceiling),H-=_(i),z-=_(o)}else{var c=C(r+M-h(s)-f(et)),l=t(c),d=n.encode(j+F*l/100);if(H=l,E)if(n.buffer>0)nt===k?d>n[A]-n.buffer&&(d=n[A]-n.buffer):d<n[k]+n.buffer&&(d=n[k]+n.buffer);else if(nt===k){if(d>n[A]){n[k]=n[A],n.decodedValues[k]=n.decodeRef(k),nt=A;var p=N.minPtr;N.minPtr=N.maxPtr,N.maxPtr=p,N.maxPtr.removeClass("active").removeClass("high").addClass("low"),N.minPtr.addClass("active").removeClass("low").addClass("high")}}else if(d<n[k]){n[A]=n[k],n.decodedValues[A]=n.decodeRef(A),nt=k;var p=N.minPtr;N.minPtr=N.maxPtr,N.maxPtr=p,N.minPtr.removeClass("active").removeClass("low").addClass("high"),N.maxPtr.addClass("active").removeClass("high").addClass("low")}n[nt]=d=v(d,n.precision,n[x],n.floor,n.ceiling),n.decodedValues[nt]=n.decodeRef(nt),nt===k?(H-=_(d),z=0):(z=H-_(d),H=0)}n.ngChange&&n.ngChange(),b.$setViewValue(n[k]),W(),K()})}function G(t,e,r){if(!n.ngDisabled||1!=n.ngDisabled){var i=t.clientX||t.x;if(et=e,nt=r,et.addClass("active"),nt==$){Q=!0;var o=g(i);Z=o-n[k],tt=n[A]-o}X(t)}}function Y(){function t(t,e,n){function o(t){G(t,e,n)}function s(t){X(t),J()}t=i(t),r.bind(t,{start:o,move:X,end:s,cancel:J})}function n(t,e,n){t=i(t),n=angular.isUndefined(n)?t:i(n),r.bind(t,{start:function(t){G(t,n,e)}})}function o(t){t=i(t),r.bind(t,{move:X,end:function(t){X(t),J()},cancel:J})}AngularSlider.inputtypes.range?(t(N.minInput,N.minPtr,k),E&&(t(N.maxInput,N.maxPtr,A),t(N.selInput,N.selBar,$))):(o(e),n(N.minPtr,k),n(N.lowBub,k),n(N.flrBub,k,N.minPtr),E?(n(N.maxPtr,A),n(N.highBub,A),n(N.ceilBub,A,N.maxPtr),n(N.selBar,$),n(N.selBub,$,N.selBar),n(N.unSelBarLow,k,N.minPtr),n(N.unSelBarHigh,A,N.maxPtr)):(n(N.ceilBub,k,N.minPtr),n(N.fullBar,k,N.minPtr)))}var Q,Z,tt,et,nt;S(),c(N.flrBub,0),c(N.ceilBub,o(O-l(N.ceilBub))),W(),K(),V||(Y(),V=!0)}var N=w(_(s),E,AngularSlider.inputtypes.range);n.decodedValues={floor:0,ceiling:0,step:0,stepWidth:0,precision:0,buffer:0,stickiness:0,ngModel:0,ngModelRange:0},n.translation=function(t){return t=parseFloat(t).toFixed(n.precision),angular.isUndefined(p.translateFn)?""+t:n.translateFn({value:t})},n.rangeTranslation=function(t,e){return angular.isUndefined(p.translateRangeFn)?"Range: "+n.translation((e-t).toFixed(n.precision)):n.translateRangeFn({low:t,high:e})},n.combinedTranslation=function(t,e){return angular.isUndefined(p.translateCombinedFn)?n.translation(t)+" - "+n.translation(e):n.translateCombinedFn({low:t,high:e})},n.encode=function(t){return angular.isUndefined(p.scaleFn)||""==p.scaleFn?t:n.scaleFn({value:t})},n.decode=function(t){return angular.isUndefined(p.inverseScaleFn)||""==p.inverseScaleFn?t:n.inverseScaleFn({value:t})},(1!=Math.round(n.encode(n.decode(1)))||100!=Math.round(n.encode(n.decode(100))))&&console.warn("The scale and inverseScale functions are not perfect inverses: 1 = "+n.encode(n.decode(1))+"  100 = "+n.encode(n.decode(100))),n.decodeRef=function(t){return n.decode(n[t])},n.inputSteps=function(){return Math.pow(10,-1*n.precision)};for(var O=0,I=0,M=0,R=0,D=0,L=0,j=0,P=0,q=0,B=0,F=0,U=1,H=0,z=0,V=!1,W=0;W<T.length;W++)n.$watch(T[W],function(){C()});i(window).bind("resize",function(){C()}),n.$on("refreshSlider",function(){t(function(){C()})}),t(function(){C()})}}}}}]),!function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.SignaturePad=e()}):"object"==typeof exports?module.exports=e():t.SignaturePad=e()}(this,function(){var t=function(t){"use strict";var e=function(t,e){var n=this,r=e||{};this.velocityFilterWeight=r.velocityFilterWeight||.7,this.minWidth=r.minWidth||.5,this.maxWidth=r.maxWidth||2.5,this.dotSize=r.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=r.penColor||"black",this.backgroundColor=r.backgroundColor||"rgba(0,0,0,0)",this.onEnd=r.onEnd,this.onBegin=r.onBegin,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(t){1===t.which&&(n._mouseButtonDown=!0,n._strokeBegin(t))},this._handleMouseMove=function(t){n._mouseButtonDown&&n._strokeUpdate(t)},this._handleMouseUp=function(t){1===t.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(t))},this._handleTouchStart=function(t){var e=t.changedTouches[0];n._strokeBegin(e)},this._handleTouchMove=function(t){t.preventDefault();var e=t.changedTouches[0];n._strokeUpdate(e)},this._handleTouchEnd=function(t){var e=t.target===n._canvas;e&&n._strokeEnd(t)},this._handleMouseEvents(),this._handleTouchEvents()};e.prototype.clear=function(){var t=this._ctx,e=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,e.width,e.height),t.fillRect(0,0,e.width,e.height),this._reset()},e.prototype.toDataURL=function(){var t=this._canvas;return t.toDataURL.apply(t,arguments)},e.prototype.fromDataURL=function(t){var e=this,n=new Image,r=window.devicePixelRatio||1,i=this._canvas.width/r,o=this._canvas.height/r;this._reset(),n.src=t,n.onload=function(){e._ctx.drawImage(n,0,0,i,o)},this._isEmpty=!1},e.prototype._strokeUpdate=function(t){var e=this._createPoint(t);this._addPoint(e)},e.prototype._strokeBegin=function(t){this._reset(),this._strokeUpdate(t),"function"==typeof this.onBegin&&this.onBegin(t)},e.prototype._strokeDraw=function(t){var e=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;e.beginPath(),this._drawPoint(t.x,t.y,n),e.closePath(),e.fill()},e.prototype._strokeEnd=function(t){var e=this.points.length>2,n=this.points[0];!e&&n&&this._strokeDraw(n),"function"==typeof this.onEnd&&this.onEnd(t)},e.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),t.addEventListener("mouseup",this._handleMouseUp)},e.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),t.addEventListener("touchend",this._handleTouchEnd)},e.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},e.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),t.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),t.removeEventListener("touchend",this._handleTouchEnd)},e.prototype.isEmpty=function(){return this._isEmpty},e.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._isEmpty=!0,this._ctx.fillStyle=this.penColor},e.prototype._createPoint=function(t){var e=this._canvas.getBoundingClientRect();return new n(t.clientX-e.left,t.clientY-e.top)},e.prototype._addPoint=function(t){var e,n,i,o,s=this.points;s.push(t),s.length>2&&(3===s.length&&s.unshift(s[0]),o=this._calculateCurveControlPoints(s[0],s[1],s[2]),e=o.c2,o=this._calculateCurveControlPoints(s[1],s[2],s[3]),n=o.c1,i=new r(s[1],e,n,s[2]),this._addCurve(i),s.shift())},e.prototype._calculateCurveControlPoints=function(t,e,r){var i=t.x-e.x,o=t.y-e.y,s=e.x-r.x,a=e.y-r.y,u={x:(t.x+e.x)/2,y:(t.y+e.y)/2},c={x:(e.x+r.x)/2,y:(e.y+r.y)/2},l=Math.sqrt(i*i+o*o),f=Math.sqrt(s*s+a*a),h=u.x-c.x,d=u.y-c.y,p=f/(l+f),v={x:c.x+h*p,y:c.y+d*p},m=e.x-v.x,g=e.y-v.y;return{c1:new n(u.x+m,u.y+g),c2:new n(c.x+m,c.y+g)}},e.prototype._addCurve=function(t){var e,n,r=t.startPoint,i=t.endPoint;e=i.velocityFrom(r),e=this.velocityFilterWeight*e+(1-this.velocityFilterWeight)*this._lastVelocity,n=this._strokeWidth(e),this._drawCurve(t,this._lastWidth,n),this._lastVelocity=e,this._lastWidth=n},e.prototype._drawPoint=function(t,e,n){var r=this._ctx;r.moveTo(t,e),r.arc(t,e,n,0,2*Math.PI,!1),this._isEmpty=!1},e.prototype._drawCurve=function(t,e,n){var r,i,o,s,a,u,c,l,f,h,d,p=this._ctx,v=n-e;for(r=Math.floor(t.length()),p.beginPath(),o=0;r>o;o++)s=o/r,a=s*s,u=a*s,c=1-s,l=c*c,f=l*c,h=f*t.startPoint.x,h+=3*l*s*t.control1.x,h+=3*c*a*t.control2.x,h+=u*t.endPoint.x,d=f*t.startPoint.y,d+=3*l*s*t.control1.y,d+=3*c*a*t.control2.y,d+=u*t.endPoint.y,i=e+u*v,this._drawPoint(h,d,i);p.closePath(),p.fill()},e.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};var n=function(t,e,n){this.x=t,this.y=e,this.time=n||(new Date).getTime()};n.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1},n.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};var r=function(t,e,n,r){this.startPoint=t,this.control1=e,this.control2=n,this.endPoint=r};return r.prototype.length=function(){var t,e,n,r,i,o,s,a,u=10,c=0;for(t=0;u>=t;t++)e=t/u,n=this._point(e,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),r=this._point(e,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y),t>0&&(s=n-i,a=r-o,c+=Math.sqrt(s*s+a*a)),i=n,o=r;return c},r.prototype._point=function(t,e,n,r,i){return e*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t},e}(document);return t}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){"use strict";return angular.module("tmh.dynamicLocale",[]).config(["$provide",function(t){
function e(t){return t.$stateful=!0,t}t.decorator("dateFilter",["$delegate",e]),t.decorator("numberFilter",["$delegate",e]),t.decorator("currencyFilter",["$delegate",e])}]).constant("tmhDynamicLocale.STORAGE_KEY","tmhDynamicLocale.locale").provider("tmhDynamicLocale",["tmhDynamicLocale.STORAGE_KEY",function(t){function e(t,e,n,r){var o=document.createElement("script"),s=i?i:document.getElementsByTagName("body")[0],a=!1;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"complete"!==o.readyState&&"loaded"!==o.readyState||(o.onreadystatechange=null,r(function(){a||(a=!0,s.removeChild(o),e())},30,!1))}:(o.onload=function(){a||(a=!0,s.removeChild(o),e())},o.onerror=function(){a||(a=!0,s.removeChild(o),n())}),o.src=t,o.async=!0,s.appendChild(o)}function n(t,n,r,i,a,u,f){function h(t,e){s===r&&(angular.forEach(t,function(n,r){e[r]?angular.isArray(e[r])&&(t[r].length=e[r].length):delete t[r]}),angular.forEach(e,function(n,r){angular.isArray(e[r])||angular.isObject(e[r])?(t[r]||(t[r]=angular.isArray(e[r])?[]:{}),h(t[r],e[r])):t[r]=e[r]}))}if(l[r])return s=r,l[r];var d,p=a.defer();return r===s?p.resolve(n):(d=u.get(r))?(s=r,i.$evalAsync(function(){h(n,d),o.put(c,r),i.$broadcast("$localeChangeSuccess",r,n),p.resolve(n)})):(s=r,l[r]=p.promise,e(t,function(){var t=angular.injector(["ngLocale"]),e=t.get("$locale");h(n,e),u.put(r,e),delete l[r],i.$applyAsync(function(){o.put(c,r),i.$broadcast("$localeChangeSuccess",r,n),p.resolve(n)})},function(){delete l[r],i.$applyAsync(function(){s===r&&(s=n.id),i.$broadcast("$localeChangeError",r),p.reject(r)})},f)),p.promise}var r,i,o,s,a="angular/i18n/angular-locale_{{locale}}.js",u="tmhDynamicLocaleStorageCache",c=t,l={},f={};this.localeLocationPattern=function(t){return t?(a=t,this):a},this.appendScriptTo=function(t){i=t},this.useStorage=function(t){u=t},this.useCookieStorage=function(){this.useStorage("$cookieStore")},this.defaultLocale=function(t){r=t},this.storageKey=function(t){return t?(c=t,this):c},this.addLocalePatternValue=function(t,e){f[t]=e},this.$get=["$rootScope","$injector","$interpolate","$locale","$q","tmhDynamicLocaleCache","$timeout",function(t,e,i,l,h,d,p){function v(t){g=i(t)}function m(e){var r={locale:e,angularVersion:angular.version.full};return n(g(angular.extend({},f,r)),l,e,t,h,d,p)}var g=i(a);return o=e.get(u),t.$evalAsync(function(){var t;(t=o.get(c)||r)&&m(t)}),{setLocaleLocationPattern:v,set:m,get:function(){return s}}}]}]).provider("tmhDynamicLocaleCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales")}]}).provider("tmhDynamicLocaleStorageCache",function(){this.$get=["$cacheFactory",function(t){return t("tmh.dynamicLocales.store")}]}).run(["tmhDynamicLocale",angular.noop]),"tmh.dynamicLocale"});var Showdown={extensions:{}},forEach=Showdown.forEach=function(t,e){if("function"==typeof t.forEach)t.forEach(e);else{var n,r=t.length;for(n=0;r>n;n++)e(t[n],n,t)}},stdExtName=function(t){return t.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(t){var e,n,r,i=0,o=[],s=[];if("undefined"!=typeof module&&"undefined"!=typeof exports&&"undefined"!=typeof require){var a=require("fs");if(a){var u=a.readdirSync((__dirname||".")+"/extensions").filter(function(t){return~t.indexOf(".js")}).map(function(t){return t.replace(/\.js$/,"")});Showdown.forEach(u,function(t){var e=stdExtName(t);Showdown.extensions[e]=require("./extensions/"+t)})}}if(this.makeHtml=function(t){return e={},n={},r=[],t=t.replace(/~/g,"~T"),t=t.replace(/\$/g,"~D"),t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),t="\n\n"+t+"\n\n",t=P(t),t=t.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(e){t=f(e,t)}),t=C(t),t=d(t),t=h(t),t=v(t),t=L(t),t=t.replace(/~D/g,"$$"),t=t.replace(/~T/g,"~"),Showdown.forEach(s,function(e){t=f(e,t)}),t},t&&t.extensions){var c=this;Showdown.forEach(t.extensions,function(t){if("string"==typeof t&&(t=Showdown.extensions[stdExtName(t)]),"function"!=typeof t)throw"Extension '"+t+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(t(c),function(t){t.type?"language"===t.type||"lang"===t.type?o.push(t):("output"===t.type||"html"===t.type)&&s.push(t):s.push(t)})})}var l,f=function(t,e){if(t.regex){var n=new RegExp(t.regex,"g");return e.replace(n,t.replace)}return t.filter?t.filter(e):void 0},h=function(t){return t+="~0",t=t.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(t,r,i,o,s){return r=r.toLowerCase(),e[r]=I(i),o?o+s:(s&&(n[r]=s.replace(/"/g,"&quot;")),"")}),t=t.replace(/~0/,"")},d=function(t){return t=t.replace(/\n/g,"\n\n"),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,p),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,p),t=t.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,p),t=t.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,p),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,p),t=t.replace(/\n\n/g,"\n")},p=function(t,e){var n=e;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(r.push(n)-1)+"K\n\n"},v=function(t){t=S(t);var e=k("<hr />");return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=x(t),t=E(t),t=N(t),t=d(t),t=O(t)},m=function(t){return t=A(t),t=g(t),t=M(t),t=_(t),t=b(t),t=R(t),t=I(t),t=T(t),t=t.replace(/  +\n/g," <br />\n")},g=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=q(e,"\\`*_")})},b=function(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,y),t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,y),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,y)},y=function(t,r,i,o,s,a,u,c){void 0==c&&(c="");var l=r,f=i,h=o.toLowerCase(),d=s,p=c;if(""==d)if(""==h&&(h=f.toLowerCase().replace(/ ?\n/g," ")),d="#"+h,void 0!=e[h])d=e[h],void 0!=n[h]&&(p=n[h]);else{if(!(l.search(/\(\s*\)$/m)>-1))return l;d=""}d=q(d,"*_");var v='<a href="'+d+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),p=q(p,"*_"),v+=' title="'+p+'"'),v+=">"+f+"</a>"},_=function(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w)},w=function(t,r,i,o,s,a,u,c){var l=r,f=i,h=o.toLowerCase(),d=s,p=c;if(p||(p=""),""==d){if(""==h&&(h=f.toLowerCase().replace(/ ?\n/g," ")),d="#"+h,void 0==e[h])return l;d=e[h],void 0!=n[h]&&(p=n[h])}f=f.replace(/"/g,"&quot;"),d=q(d,"*_");var v='<img src="'+d+'" alt="'+f+'"';return p=p.replace(/"/g,"&quot;"),p=q(p,"*_"),v+=' title="'+p+'"',v+=" />"},S=function(t){function e(t){return t.replace(/[^\w]/g,"").toLowerCase()}return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,n){return k('<h1 id="'+e(n)+'">'+m(n)+"</h1>")}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,n){return k('<h2 id="'+e(n)+'">'+m(n)+"</h2>")}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,n,r){var i=n.length;return k("<h"+i+' id="'+e(r)+'">'+m(r)+"</h"+i+">")})},x=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?t=t.replace(e,function(t,e,n){var r=e,i=n.search(/[*+-]/g)>-1?"ul":"ol";r=r.replace(/\n{2,}/g,"\n\n\n");var o=l(r);return o=o.replace(/\s+$/,""),o="<"+i+">"+o+"</"+i+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,n,r){var i=e,o=n,s=r.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),a=l(o);return a=i+"<"+s+">\n"+a+"</"+s+">\n"})),t=t.replace(/~0/,"")};l=function(t){return i++,t=t.replace(/\n{2,}$/,"\n"),t+="~0",t=t.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,n,r,i){var o=i,s=e;return s||o.search(/\n{2,}/)>-1?o=v(j(o)):(o=x(j(o)),o=o.replace(/\n$/,""),o=m(o)),"<li>"+o+"</li>\n"}),t=t.replace(/~0/g,""),i--,t};var E=function(t){return t+="~0",t=t.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,n){var r=e,i=n;return r=$(j(r)),r=P(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>",k(r)+i}),t=t.replace(/~0/,"")},C=function(t){return t+="~0",t=t.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(t,e,n){var r=e,i=n;return i=$(i),i=P(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(r?' class="'+r+'"':"")+">"+i+"\n</code></pre>",k(i)}),t=t.replace(/~0/,"")},k=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(r.push(t)-1)+"K\n\n"},A=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,n,r){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=$(i),e+"<code>"+i+"</code>"})},$=function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=q(t,"*_{}[]\\",!1)},T=function(t){return t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),t=t.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},N=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var n=e;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=v(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var n=e;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),k("<blockquote>\n"+n+"\n</blockquote>")})},O=function(t){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),n=[],i=e.length,o=0;i>o;o++){var s=e[o];s.search(/~K(\d+)K/g)>=0?n.push(s):s.search(/\S/)>=0&&(s=m(s),s=s.replace(/^([ \t]*)/g,"<p>"),s+="</p>",n.push(s))}i=n.length;for(var o=0;i>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var a=r[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,a)}return n.join("\n\n")},I=function(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},M=function(t){return t=t.replace(/\\(\\)/g,B),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,B)},R=function(t){return t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),t=t.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return D(L(e))})},D=function(t){var e=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+t.charCodeAt(0).toString(16)+";"},function(t){return t}];return t="mailto:"+t,t=t.replace(/./g,function(t){if("@"==t)t=e[Math.floor(2*Math.random())](t);else if(":"!=t){var n=Math.random();t=n>.9?e[2](t):n>.45?e[1](t):e[0](t)}return t}),t='<a href="'+t+'">'+t+"</a>",t=t.replace(/">.+:/g,'">')},L=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var n=parseInt(e);return String.fromCharCode(n)})},j=function(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")},P=function(t){return t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"~A~B"),t=t.replace(/~B(.+?)~A/g,function(t,e){for(var n=e,r=4-n.length%4,i=0;r>i;i++)n+=" ";return n}),t=t.replace(/~A/g,"    "),t=t.replace(/~B/g,"")},q=function(t,e,n){var r="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return t=t.replace(i,B)},B=function(t,e){var n=e.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown}),"undefined"!=typeof angular&&"undefined"!=typeof Showdown&&!function(t,e){function n(){function t(){var t=new e.converter(n);this.makeHtml=function(e){return t.makeHtml(e)},this.stripHtml=function(t){return String(t).replace(/<[^>]+>/gm,"")}}var n={extensions:[],stripHtml:!0};this.setOption=function(t,e){return n.key=e,this},this.getOption=function(t){return n.hasOwnProperty(t)?n.key:null},this.loadExtension=function(t){return n.extensions.push(t),this},this.$get=function(){return new t}}function r(t){var e=function(e,n){e.$watch("model",function(e){var r;r="string"==typeof e?t.makeHtml(e):typeof e,n.html(r)})};return{restrict:"A",link:e,scope:{model:"=sdModelToHtml"}}}function i(){return function(t){return String(t).replace(/<[^>]+>/gm,"")}}t.provider("$Showdown",n).directive("sdModelToHtml",["$Showdown",r]).filter("sdStripHtml",i)}(angular.module("Showdown",[]),Showdown),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(t,e,n){this.loadScript=function(r){var i=e.defer(),o=t[0].createElement("script");return o.onload=o.onreadystatechange=function(t){n(function(){i.resolve(t)})},o.onerror=function(t){n(function(){i.reject(t)})},o.src=r,t[0].body.appendChild(o),i.promise},this.loadCSS=function(r){var i=e.defer(),o=t[0].createElement("link");return o.rel="stylesheet",o.type="text/css",o.href=r,o.onload=o.onreadystatechange=function(t){n(function(){i.resolve(t)})},o.onerror=function(t){n(function(){i.reject(t)})},t[0].head.appendChild(o),i.promise}}])}(),function(){"use strict";var t=this,e=t.Chart,n=function(t){return this.canvas=t.canvas,this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height,this.aspectRatio=this.width/this.height,r.retinaScale(this),this};n.defaults={global:{animation:!0,animationSteps:60,animationEasing:"easeOutQuart",showScale:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleIntegersOnly:!0,scaleBeginAtZero:!1,scaleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",responsive:!1,maintainAspectRatio:!0,showTooltips:!0,tooltipEvents:["mousemove","touchstart","touchmove","mouseout"],tooltipFillColor:"rgba(0,0,0,0.8)",tooltipFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipFontSize:14,tooltipFontStyle:"normal",tooltipFontColor:"#fff",tooltipTitleFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",tooltipTitleFontSize:14,tooltipTitleFontStyle:"bold",tooltipTitleFontColor:"#fff",tooltipYPadding:6,tooltipXPadding:6,tooltipCaretSize:8,tooltipCornerRadius:6,tooltipXOffset:10,tooltipTemplate:"<%if (label){%><%=label%>: <%}%><%= value %>",multiTooltipTemplate:"<%= value %>",multiTooltipKeyBackground:"#fff",onAnimationProgress:function(){},onAnimationComplete:function(){}}},n.types={};var r=n.helpers={},i=r.each=function(t,e,n){var r=Array.prototype.slice.call(arguments,3);if(t)if(t.length===+t.length){var i;for(i=0;i<t.length;i++)e.apply(n,[t[i],i].concat(r))}else for(var o in t)e.apply(n,[t[o],o].concat(r))},o=r.clone=function(t){var e={};return i(t,function(n,r){t.hasOwnProperty(r)&&(e[r]=n)}),e},s=r.extend=function(t){return i(Array.prototype.slice.call(arguments,1),function(e){i(e,function(n,r){e.hasOwnProperty(r)&&(t[r]=n)})}),t},a=r.merge=function(){var t=Array.prototype.slice.call(arguments,0);return t.unshift({}),s.apply(null,t)},u=r.indexOf=function(t,e){if(Array.prototype.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},c=r.inherits=function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,n.extend=c,t&&s(n.prototype,t),n.__super__=e.prototype,n},l=r.noop=function(){},f=r.uid=function(){var t=0;return function(){return"chart-"+t++}}(),h=r.warn=function(t){window.console&&"function"==typeof window.console.warn&&console.warn(t)},d=r.amd="function"==typeof t.define&&t.define.amd,p=r.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},v=r.max=function(t){return Math.max.apply(Math,t)},m=r.min=function(t){return Math.min.apply(Math,t)},g=(r.cap=function(t,e,n){if(p(e)){if(t>e)return e}else if(p(n)&&n>t)return n;return t},r.getDecimalPlaces=function(t){return t%1!==0&&p(t)?t.toString().split(".")[1].length:0}),b=r.radians=function(t){return t*(Math.PI/180)},y=(r.getAngleFromPoint=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r),o=2*Math.PI+Math.atan2(r,n);return 0>n&&0>r&&(o+=2*Math.PI),{angle:o,distance:i}},r.aliasPixel=function(t){return t%2===0?0:.5}),_=(r.splineCurve=function(t,e,n,r){var i=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),o=Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2)),s=r*i/(i+o),a=r*o/(i+o);return{inner:{x:e.x-s*(n.x-t.x),y:e.y-s*(n.y-t.y)},outer:{x:e.x+a*(n.x-t.x),y:e.y+a*(n.y-t.y)}}},r.calculateOrderOfMagnitude=function(t){return Math.floor(Math.log(t)/Math.LN10)}),w=(r.calculateScaleRange=function(t,e,n,r,i){var o=2,s=Math.floor(e/(1.5*n)),a=o>=s,u=v(t),c=m(t);u===c&&(u+=.5,c>=.5&&!r?c-=.5:u+=.5);for(var l=Math.abs(u-c),f=_(l),h=Math.ceil(u/(1*Math.pow(10,f)))*Math.pow(10,f),d=r?0:Math.floor(c/(1*Math.pow(10,f)))*Math.pow(10,f),p=h-d,g=Math.pow(10,f),b=Math.round(p/g);(b>s||s>2*b)&&!a;)if(b>s)g*=2,b=Math.round(p/g),b%1!==0&&(a=!0);else if(i&&f>=0){if(g/2%1!==0)break;g/=2,b=Math.round(p/g)}else g/=2,b=Math.round(p/g);return a&&(b=o,g=p/b),{steps:b,stepValue:g,min:d,max:d+b*g}},r.template=function(t,e){function n(t,e){var n=/\W/.test(t)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+t.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):r[t]=r[t];return e?n(e):n}if(t instanceof Function)return t(e);var r={};return n(t,e)}),S=(r.generateLabels=function(t,e,n,r){var o=new Array(e);return labelTemplateString&&i(o,function(e,i){o[i]=w(t,{value:n+r*(i+1)})}),o},r.easingEffects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-1*t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1*((t=t/1-1)*t*t+1)},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-1*((t=t/1-1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return 1*(t/=1)*t*t*t*t},easeOutQuint:function(t){return 1*((t=t/1-1)*t*t*t*t+1)},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-1*Math.cos(t/1*(Math.PI/2))+1},easeOutSine:function(t){return 1*Math.sin(t/1*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t/1)-1)},easeInExpo:function(t){return 0===t?1:1*Math.pow(2,10*(t/1-1))},easeOutExpo:function(t){return 1===t?1:1*(-Math.pow(2,-10*t/1)+1)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-1*(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return 1*Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)))},easeOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:1==(t/=1)?1:(n||(n=.3),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*t)*Math.sin(2*(1*t-e)*Math.PI/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,r=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.3*1.5),r<Math.abs(1)?(r=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/r),1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n):r*Math.pow(2,-10*(t-=1))*Math.sin(2*(1*t-e)*Math.PI/n)*.5+1)},easeInBack:function(t){var e=1.70158;return 1*(t/=1)*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return 1*((t=t/1-1)*t*((e+1)*t+e)+1)},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*t*t*(((e*=1.525)+1)*t-e):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-S.easeOutBounce(1-t)},easeOutBounce:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?1*(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1*(7.5625*(t-=2.25/2.75)*t+.9375):1*(7.5625*(t-=2.625/2.75)*t+.984375)},easeInOutBounce:function(t){return.5>t?.5*S.easeInBounce(2*t):.5*S.easeOutBounce(2*t-1)+.5}}),x=r.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),E=(r.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return window.clearTimeout(t,1e3/60)}}(),r.animationLoop=function(t,e,n,r,i,o){var s=0,a=S[n]||S.linear,u=function(){s++;var n=s/e,c=a(n);t.call(o,c,n,s),r.call(o,c,n),e>s?o.animationFrame=x(u):i.apply(o)};x(u)},r.getRelativePosition=function(t){var e,n,r=t.originalEvent||t,i=t.currentTarget||t.srcElement,o=i.getBoundingClientRect();return r.touches?(e=r.touches[0].clientX-o.left,n=r.touches[0].clientY-o.top):(e=r.clientX-o.left,n=r.clientY-o.top),{x:e,y:n}},r.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n}),C=r.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=l},k=(r.bindEvents=function(t,e,n){t.events||(t.events={}),i(e,function(e){t.events[e]=function(){n.apply(t,arguments)},E(t.chart.canvas,e,t.events[e])})},r.unbindEvents=function(t,e){i(e,function(e,n){C(t.chart.canvas,n,e)})}),A=r.getMaximumWidth=function(t){var e=t.parentNode;return e.clientWidth},$=r.getMaximumHeight=function(t){var e=t.parentNode;return e.clientHeight},T=(r.getMaximumSize=r.getMaximumWidth,r.retinaScale=function(t){var e=t.ctx,n=t.canvas.width,r=t.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=n+"px",e.canvas.style.height=r+"px",e.canvas.height=r*window.devicePixelRatio,e.canvas.width=n*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio))}),N=r.clear=function(t){t.ctx.clearRect(0,0,t.width,t.height)},O=r.fontString=function(t,e,n){return e+" "+t+"px "+n},I=r.longestText=function(t,e,n){t.font=e;var r=0;return i(n,function(e){var n=t.measureText(e).width;r=n>r?n:r}),r},M=r.drawRoundedRectangle=function(t,e,n,r,i,o){t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()};n.instances={},n.Type=function(t,e,r){this.options=e,this.chart=r,this.id=f(),n.instances[this.id]=this,e.responsive&&this.resize(),this.initialize.call(this,t)},s(n.Type.prototype,{initialize:function(){return this},clear:function(){return N(this.chart),this},stop:function(){return r.cancelAnimFrame.call(t,this.animationFrame),this},resize:function(t){this.stop();var e=this.chart.canvas,n=A(this.chart.canvas),r=this.options.maintainAspectRatio?n/this.chart.aspectRatio:$(this.chart.canvas);return e.width=this.chart.width=n,e.height=this.chart.height=r,T(this.chart),"function"==typeof t&&t.apply(this,Array.prototype.slice.call(arguments,1)),this},reflow:l,render:function(t){return t&&this.reflow(),this.options.animation&&!t?r.animationLoop(this.draw,this.options.animationSteps,this.options.animationEasing,this.options.onAnimationProgress,this.options.onAnimationComplete,this):(this.draw(),this.options.onAnimationComplete.call(this)),this},generateLegend:function(){return w(this.options.legendTemplate,this)},destroy:function(){this.clear(),k(this,this.events),delete n.instances[this.id]},showTooltip:function(t,e){"undefined"==typeof this.activeElements&&(this.activeElements=[]);var o=function(t){var e=!1;return t.length!==this.activeElements.length?e=!0:(i(t,function(t,n){t!==this.activeElements[n]&&(e=!0)},this),e)}.call(this,t);if(o||e){if(this.activeElements=t,this.draw(),t.length>0)if(this.datasets&&this.datasets.length>1){for(var s,a,c=this.datasets.length-1;c>=0&&(s=this.datasets[c].points||this.datasets[c].bars||this.datasets[c].segments,a=u(s,t[0]),-1===a);c--);var l=[],f=[],h=function(){var t,e,n,i,o,s=[],u=[],c=[];return r.each(this.datasets,function(e){t=e.points||e.bars||e.segments,t[a]&&s.push(t[a])}),r.each(s,function(t){u.push(t.x),c.push(t.y),l.push(r.template(this.options.multiTooltipTemplate,t)),f.push({fill:t._saved.fillColor||t.fillColor,stroke:t._saved.strokeColor||t.strokeColor})},this),o=m(c),n=v(c),i=m(u),e=v(u),{x:i>this.chart.width/2?i:e,y:(o+n)/2}}.call(this,a);new n.MultiTooltip({x:h.x,y:h.y,xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,xOffset:this.options.tooltipXOffset,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,titleTextColor:this.options.tooltipTitleFontColor,titleFontFamily:this.options.tooltipTitleFontFamily,titleFontStyle:this.options.tooltipTitleFontStyle,titleFontSize:this.options.tooltipTitleFontSize,cornerRadius:this.options.tooltipCornerRadius,labels:l,legendColors:f,legendColorBackground:this.options.multiTooltipKeyBackground,title:t[0].label,chart:this.chart,ctx:this.chart.ctx}).draw()}else i(t,function(t){var e=t.tooltipPosition();new n.Tooltip({x:Math.round(e.x),y:Math.round(e.y),xPadding:this.options.tooltipXPadding,yPadding:this.options.tooltipYPadding,fillColor:this.options.tooltipFillColor,textColor:this.options.tooltipFontColor,fontFamily:this.options.tooltipFontFamily,fontStyle:this.options.tooltipFontStyle,fontSize:this.options.tooltipFontSize,caretHeight:this.options.tooltipCaretSize,cornerRadius:this.options.tooltipCornerRadius,text:w(this.options.tooltipTemplate,t),chart:this.chart}).draw()},this);return this}},toBase64Image:function(){return this.chart.canvas.toDataURL.apply(this.chart.canvas,arguments)}}),n.Type.extend=function(t){var e=this,r=function(){return e.apply(this,arguments)};if(r.prototype=o(e.prototype),s(r.prototype,t),r.extend=n.Type.extend,t.name||e.prototype.name){var i=t.name||e.prototype.name,u=n.defaults[e.prototype.name]?o(n.defaults[e.prototype.name]):{};n.defaults[i]=s(u,t.defaults),n.types[i]=r,n.prototype[i]=function(t,e){var o=a(n.defaults.global,n.defaults[i],e||{});return new r(t,o,this)}}else h("Name not provided for this chart, so it hasn't been registered");return e},n.Element=function(t){s(this,t),this.initialize.apply(this,arguments),this.save()},s(n.Element.prototype,{initialize:function(){},restore:function(t){return t?i(t,function(t){this[t]=this._saved[t]},this):s(this,this._saved),this},save:function(){return this._saved=o(this),delete this._saved._saved,this},update:function(t){return i(t,function(t,e){this._saved[e]=this[e],this[e]=t},this),this},transition:function(t,e){return i(t,function(t,n){this[n]=(t-this._saved[n])*e+this._saved[n]},this),this},tooltipPosition:function(){return{x:this.x,y:this.y}}}),n.Element.extend=c,n.Point=n.Element.extend({display:!0,inRange:function(t,e){var n=this.hitDetectionRadius+this.radius;return Math.pow(t-this.x,2)+Math.pow(e-this.y,2)<Math.pow(n,2)},draw:function(){if(this.display){var t=this.ctx;t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.closePath(),t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.fillStyle=this.fillColor,t.fill(),t.stroke()}}}),n.Arc=n.Element.extend({inRange:function(t,e){var n=r.getAngleFromPoint(this,{x:t,y:e}),i=n.angle>=this.startAngle&&n.angle<=this.endAngle,o=n.distance>=this.innerRadius&&n.distance<=this.outerRadius;return i&&o},tooltipPosition:function(){var t=this.startAngle+(this.endAngle-this.startAngle)/2,e=(this.outerRadius-this.innerRadius)/2+this.innerRadius;return{x:this.x+Math.cos(t)*e,y:this.y+Math.sin(t)*e}},draw:function(t){var e=this.ctx;e.beginPath(),e.arc(this.x,this.y,this.outerRadius,this.startAngle,this.endAngle),e.arc(this.x,this.y,this.innerRadius,this.endAngle,this.startAngle,!0),e.closePath(),e.strokeStyle=this.strokeColor,e.lineWidth=this.strokeWidth,e.fillStyle=this.fillColor,e.fill(),e.lineJoin="bevel",this.showStroke&&e.stroke()}}),n.Rectangle=n.Element.extend({draw:function(){var t=this.ctx,e=this.width/2,n=this.x-e,r=this.x+e,i=this.base-(this.base-this.y),o=this.strokeWidth/2;this.showStroke&&(n+=o,r-=o,i+=o),t.beginPath(),t.fillStyle=this.fillColor,t.strokeStyle=this.strokeColor,t.lineWidth=this.strokeWidth,t.moveTo(n,this.base),t.lineTo(n,i),t.lineTo(r,i),t.lineTo(r,this.base),t.fill(),this.showStroke&&t.stroke()},height:function(){return this.base-this.y},inRange:function(t,e){return t>=this.x-this.width/2&&t<=this.x+this.width/2&&e>=this.y&&e<=this.base}}),n.Tooltip=n.Element.extend({draw:function(){var t=this.chart.ctx;t.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.xAlign="center",this.yAlign="above";var e=2,n=t.measureText(this.text).width+2*this.xPadding,r=this.fontSize+2*this.yPadding,i=r+this.caretHeight+e;this.x+n/2>this.chart.width?this.xAlign="left":this.x-n/2<0&&(this.xAlign="right"),this.y-i<0&&(this.yAlign="below");var o=this.x-n/2,s=this.y-i;switch(t.fillStyle=this.fillColor,this.yAlign){case"above":t.beginPath(),t.moveTo(this.x,this.y-e),t.lineTo(this.x+this.caretHeight,this.y-(e+this.caretHeight)),t.lineTo(this.x-this.caretHeight,this.y-(e+this.caretHeight)),t.closePath(),t.fill();break;case"below":s=this.y+e+this.caretHeight,t.beginPath(),t.moveTo(this.x,this.y+e),t.lineTo(this.x+this.caretHeight,this.y+e+this.caretHeight),t.lineTo(this.x-this.caretHeight,this.y+e+this.caretHeight),t.closePath(),t.fill()}switch(this.xAlign){case"left":o=this.x-n+(this.cornerRadius+this.caretHeight);break;case"right":o=this.x-(this.cornerRadius+this.caretHeight)}M(t,o,s,n,r,this.cornerRadius),t.fill(),t.fillStyle=this.textColor,t.textAlign="center",t.textBaseline="middle",t.fillText(this.text,o+n/2,s+r/2)}}),n.MultiTooltip=n.Element.extend({initialize:function(){this.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.titleFont=O(this.titleFontSize,this.titleFontStyle,this.titleFontFamily),this.height=this.labels.length*this.fontSize+(this.labels.length-1)*(this.fontSize/2)+2*this.yPadding+1.5*this.titleFontSize,this.ctx.font=this.titleFont;var t=this.ctx.measureText(this.title).width,e=I(this.ctx,this.font,this.labels)+this.fontSize+3,n=v([e,t]);this.width=n+2*this.xPadding;var r=this.height/2;this.y-r<0?this.y=r:this.y+r>this.chart.height&&(this.y=this.chart.height-r),this.x>this.chart.width/2?this.x-=this.xOffset+this.width:this.x+=this.xOffset},getLineHeight:function(t){var e=this.y-this.height/2+this.yPadding,n=t-1;return 0===t?e+this.titleFontSize/2:e+(1.5*this.fontSize*n+this.fontSize/2)+1.5*this.titleFontSize},draw:function(){M(this.ctx,this.x,this.y-this.height/2,this.width,this.height,this.cornerRadius);var t=this.ctx;t.fillStyle=this.fillColor,t.fill(),t.closePath(),t.textAlign="left",t.textBaseline="middle",t.fillStyle=this.titleTextColor,t.font=this.titleFont,t.fillText(this.title,this.x+this.xPadding,this.getLineHeight(0)),t.font=this.font,r.each(this.labels,function(e,n){t.fillStyle=this.textColor,t.fillText(e,this.x+this.xPadding+this.fontSize+3,this.getLineHeight(n+1)),t.fillStyle=this.legendColorBackground,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize),t.fillStyle=this.legendColors[n].fill,t.fillRect(this.x+this.xPadding,this.getLineHeight(n+1)-this.fontSize/2,this.fontSize,this.fontSize);
},this)}}),n.Scale=n.Element.extend({initialize:function(){this.fit()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}));this.yLabelWidth=this.display&&this.showLabels?I(this.ctx,this.font,this.yLabels):0},addXLabel:function(t){this.xLabels.push(t),this.valuesCount++,this.fit()},removeXLabel:function(){this.xLabels.shift(),this.valuesCount--,this.fit()},fit:function(){this.startPoint=this.display?this.fontSize:0,this.endPoint=this.display?this.height-1.5*this.fontSize-5:this.height,this.startPoint+=this.padding,this.endPoint-=this.padding;var t,e=this.endPoint-this.startPoint;for(this.calculateYRange(e),this.buildYLabels(),this.calculateXLabelRotation();e>this.endPoint-this.startPoint;)e=this.endPoint-this.startPoint,t=this.yLabelWidth,this.calculateYRange(e),this.buildYLabels(),t<this.yLabelWidth&&this.calculateXLabelRotation()},calculateXLabelRotation:function(){this.ctx.font=this.font;var t,e,n=this.ctx.measureText(this.xLabels[0]).width,r=this.ctx.measureText(this.xLabels[this.xLabels.length-1]).width;if(this.xScalePaddingRight=r/2+3,this.xScalePaddingLeft=n/2>this.yLabelWidth+10?n/2:this.yLabelWidth+10,this.xLabelRotation=0,this.display){var i,o=I(this.ctx,this.font,this.xLabels);this.xLabelWidth=o;for(var s=Math.floor(this.calculateX(1)-this.calculateX(0))-6;this.xLabelWidth>s&&0===this.xLabelRotation||this.xLabelWidth>s&&this.xLabelRotation<=90&&this.xLabelRotation>0;)i=Math.cos(b(this.xLabelRotation)),t=i*n,e=i*r,t+this.fontSize/2>this.yLabelWidth+8&&(this.xScalePaddingLeft=t+this.fontSize/2),this.xScalePaddingRight=this.fontSize/2,this.xLabelRotation++,this.xLabelWidth=i*o;this.xLabelRotation>0&&(this.endPoint-=Math.sin(b(this.xLabelRotation))*o+3)}else this.xLabelWidth=0,this.xScalePaddingRight=this.padding,this.xScalePaddingLeft=this.padding},calculateYRange:l,drawingArea:function(){return this.startPoint-this.endPoint},calculateY:function(t){var e=this.drawingArea()/(this.min-this.max);return this.endPoint-e*(t-this.min)},calculateX:function(t){var e=(this.xLabelRotation>0,this.width-(this.xScalePaddingLeft+this.xScalePaddingRight)),n=e/(this.valuesCount-(this.offsetGridLines?0:1)),r=n*t+this.xScalePaddingLeft;return this.offsetGridLines&&(r+=n/2),Math.round(r)},update:function(t){r.extend(this,t),this.fit()},draw:function(){var t=this.ctx,e=(this.endPoint-this.startPoint)/this.steps,n=Math.round(this.xScalePaddingLeft);this.display&&(t.fillStyle=this.textColor,t.font=this.font,i(this.yLabels,function(i,o){var s=this.endPoint-e*o,a=Math.round(s);t.textAlign="right",t.textBaseline="middle",this.showLabels&&t.fillText(i,n-10,s),t.beginPath(),o>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),a+=r.aliasPixel(t.lineWidth),t.moveTo(n,a),t.lineTo(this.width,a),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(n-5,a),t.lineTo(n,a),t.stroke(),t.closePath()},this),i(this.xLabels,function(e,n){var r=this.calculateX(n)+y(this.lineWidth),i=this.calculateX(n-(this.offsetGridLines?.5:0))+y(this.lineWidth),o=this.xLabelRotation>0;t.beginPath(),n>0?(t.lineWidth=this.gridLineWidth,t.strokeStyle=this.gridLineColor):(t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor),t.moveTo(i,this.endPoint),t.lineTo(i,this.startPoint-3),t.stroke(),t.closePath(),t.lineWidth=this.lineWidth,t.strokeStyle=this.lineColor,t.beginPath(),t.moveTo(i,this.endPoint),t.lineTo(i,this.endPoint+5),t.stroke(),t.closePath(),t.save(),t.translate(r,o?this.endPoint+12:this.endPoint+8),t.rotate(-1*b(this.xLabelRotation)),t.font=this.font,t.textAlign=o?"right":"center",t.textBaseline=o?"middle":"top",t.fillText(e,0,0),t.restore()},this))}}),n.RadialScale=n.Element.extend({initialize:function(){this.size=m([this.height,this.width]),this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2},calculateCenterOffset:function(t){var e=this.drawingArea/(this.max-this.min);return(t-this.min)*e},update:function(){this.lineArc?this.drawingArea=this.display?this.size/2-(this.fontSize/2+this.backdropPaddingY):this.size/2:this.setScaleSize(),this.buildYLabels()},buildYLabels:function(){this.yLabels=[];for(var t=g(this.stepValue),e=0;e<=this.steps;e++)this.yLabels.push(w(this.templateString,{value:(this.min+e*this.stepValue).toFixed(t)}))},getCircumference:function(){return 2*Math.PI/this.valuesCount},setScaleSize:function(){var t,e,n,r,i,o,s,a,u,c,l,f,h=m([this.height/2-this.pointLabelFontSize-5,this.width/2]),d=this.width,v=0;for(this.ctx.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),e=0;e<this.valuesCount;e++)t=this.getPointPosition(e,h),n=this.ctx.measureText(w(this.templateString,{value:this.labels[e]})).width+5,0===e||e===this.valuesCount/2?(r=n/2,t.x+r>d&&(d=t.x+r,i=e),t.x-r<v&&(v=t.x-r,s=e)):e<this.valuesCount/2?t.x+n>d&&(d=t.x+n,i=e):e>this.valuesCount/2&&t.x-n<v&&(v=t.x-n,s=e);u=v,c=Math.ceil(d-this.width),o=this.getIndexAngle(i),a=this.getIndexAngle(s),l=c/Math.sin(o+Math.PI/2),f=u/Math.sin(a+Math.PI/2),l=p(l)?l:0,f=p(f)?f:0,this.drawingArea=h-(f+l)/2,this.setCenterPoint(f,l)},setCenterPoint:function(t,e){var n=this.width-e-this.drawingArea,r=t+this.drawingArea;this.xCenter=(r+n)/2,this.yCenter=this.height/2},getIndexAngle:function(t){var e=2*Math.PI/this.valuesCount;return t*e-Math.PI/2},getPointPosition:function(t,e){var n=this.getIndexAngle(t);return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},draw:function(){if(this.display){var t=this.ctx;if(i(this.yLabels,function(e,n){if(n>0){var r,i=n*(this.drawingArea/this.steps),o=this.yCenter-i;if(this.lineWidth>0)if(t.strokeStyle=this.lineColor,t.lineWidth=this.lineWidth,this.lineArc)t.beginPath(),t.arc(this.xCenter,this.yCenter,i,0,2*Math.PI),t.closePath(),t.stroke();else{t.beginPath();for(var s=0;s<this.valuesCount;s++)r=this.getPointPosition(s,this.calculateCenterOffset(this.min+n*this.stepValue)),0===s?t.moveTo(r.x,r.y):t.lineTo(r.x,r.y);t.closePath(),t.stroke()}if(this.showLabels){if(t.font=O(this.fontSize,this.fontStyle,this.fontFamily),this.showLabelBackdrop){var a=t.measureText(e).width;t.fillStyle=this.backdropColor,t.fillRect(this.xCenter-a/2-this.backdropPaddingX,o-this.fontSize/2-this.backdropPaddingY,a+2*this.backdropPaddingX,this.fontSize+2*this.backdropPaddingY)}t.textAlign="center",t.textBaseline="middle",t.fillStyle=this.fontColor,t.fillText(e,this.xCenter,o)}}},this),!this.lineArc){t.lineWidth=this.angleLineWidth,t.strokeStyle=this.angleLineColor;for(var e=this.valuesCount-1;e>=0;e--){if(this.angleLineWidth>0){var n=this.getPointPosition(e,this.calculateCenterOffset(this.max));t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(n.x,n.y),t.stroke(),t.closePath()}var r=this.getPointPosition(e,this.calculateCenterOffset(this.max)+5);t.font=O(this.pointLabelFontSize,this.pointLabelFontStyle,this.pointLabelFontFamily),t.fillStyle=this.pointLabelFontColor;var o=this.labels.length,s=this.labels.length/2,a=s/2,u=a>e||e>o-a,c=e===a||e===o-a;t.textAlign=0===e?"center":e===s?"center":s>e?"left":"right",t.textBaseline=c?"middle":u?"bottom":"top",t.fillText(this.labels[e],r.x,r.y)}}}}}),r.addEvent(window,"resize",function(){var t;return function(){clearTimeout(t),t=setTimeout(function(){i(n.instances,function(t){t.options.responsive&&t.resize(t.render,!0)})},50)}}()),d?define(function(){return n}):"object"==typeof module&&module.exports&&(module.exports=n),t.Chart=n,n.noConflict=function(){return t.Chart=e,n}}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleBeginAtZero:!0,scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Bar",defaults:r,initialize:function(t){var r=this.options;this.ScaleClass=e.Scale.extend({offsetGridLines:!0,calculateBarX:function(t,e,n){var i=this.calculateBaseWidth(),o=this.calculateX(n)-i/2,s=this.calculateBarWidth(t);return o+s*e+e*r.barDatasetSpacing+s/2},calculateBaseWidth:function(){return this.calculateX(1)-this.calculateX(0)-2*r.barValueSpacing},calculateBarWidth:function(t){var e=this.calculateBaseWidth()-(t-1)*r.barDatasetSpacing;return e/t}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getBarsAtEvent(t):[];this.eachBars(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),this.BarClass=e.Rectangle.extend({strokeWidth:this.options.barStrokeWidth,showStroke:this.options.barShowStroke,ctx:this.chart.ctx}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,bars:[]};this.datasets.push(r),n.each(e.data,function(i,o){n.isNumber(i)&&r.bars.push(new this.BarClass({value:i,label:t.labels[o],datasetLabel:e.label,strokeColor:e.strokeColor,fillColor:e.fillColor,highlightFill:e.highlightFill||e.fillColor,highlightStroke:e.highlightStroke||e.strokeColor}))},this)},this),this.buildScale(t.labels),this.BarClass.prototype.base=this.scale.endPoint,this.eachBars(function(t,e,r){n.extend(t,{width:this.scale.calculateBarWidth(this.datasets.length),x:this.scale.calculateBarX(this.datasets.length,r,e),y:this.scale.endPoint}),t.save()},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachBars(function(t){t.save()}),this.render()},eachBars:function(t){n.each(this.datasets,function(e,r){n.each(e.bars,t,this,r)},this)},getBarsAtEvent:function(t){for(var e,r=[],i=n.getRelativePosition(t),o=function(t){r.push(t.bars[e])},s=0;s<this.datasets.length;s++)for(e=0;e<this.datasets[s].bars.length;e++)if(this.datasets[s].bars[e].inRange(i.x,i.y))return n.each(this.datasets,o),r;return r},buildScale:function(t){var e=this,r=function(){var t=[];return e.eachBars(function(e){t.push(e.value)}),t},i={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(r(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.barShowStroke?this.options.barStrokeWidth:0,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(i,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new this.ScaleClass(i)},addData:function(t,e){n.each(t,function(t,r){n.isNumber(t)&&this.datasets[r].bars.push(new this.BarClass({value:t,label:e,x:this.scale.calculateBarX(this.datasets.length,r,this.scale.valuesCount+1),y:this.scale.endPoint,width:this.scale.calculateBarWidth(this.datasets.length),base:this.scale.endPoint,strokeColor:this.datasets[r].strokeColor,fillColor:this.datasets[r].fillColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.bars.shift()},this),this.update()},reflow:function(){n.extend(this.BarClass.prototype,{y:this.scale.endPoint,base:this.scale.endPoint});var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear(),this.chart.ctx,this.scale.draw(e),n.each(this.datasets,function(t,r){n.each(t.bars,function(t,n){t.base=this.scale.endPoint,t.transition({x:this.scale.calculateBarX(this.datasets.length,r,n),y:this.scale.calculateY(t.value),width:this.scale.calculateBarWidth(this.datasets.length)},e).draw()},this)},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Doughnut",defaults:r,initialize:function(t){this.segments=[],this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,this.SegmentArc=e.Arc.extend({ctx:this.chart.ctx,x:this.chart.width/2,y:this.chart.height/2}),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.calculateTotal(t),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({value:t.value,outerRadius:this.options.animateScale?0:this.outerRadius,innerRadius:this.options.animateScale?0:this.outerRadius/100*this.options.percentageInnerCutout,fillColor:t.color,highlightColor:t.highlight||t.color,showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,startAngle:1.5*Math.PI,circumference:this.options.animateRotate?0:this.calculateCircumference(t.value),label:t.label})),n||(this.reflow(),this.update())},calculateCircumference:function(t){return 2*Math.PI*(t/this.total)},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=t.value},this)},update:function(){this.calculateTotal(this.segments),n.each(this.activeElements,function(t){t.restore(["fillColor"])}),n.each(this.segments,function(t){t.save()}),this.render()},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.outerRadius=(n.min([this.chart.width,this.chart.height])-this.options.segmentStrokeWidth/2)/2,n.each(this.segments,function(t){t.update({outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout})},this)},draw:function(t){var e=t?t:1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.calculateCircumference(t.value),outerRadius:this.outerRadius,innerRadius:this.outerRadius/100*this.options.percentageInnerCutout},e),t.endAngle=t.startAngle+t.circumference,t.draw(),0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle)},this)}}),e.types.Doughnut.extend({name:"Pie",defaults:n.merge(r,{percentageInnerCutout:0})})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!0,bezierCurveTension:.4,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"Line",defaults:r,initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx,inRange:function(t){return Math.pow(t-this.x,2)<Math.pow(this.radius+this.hitDetectionRadius,2)}}),this.datasets=[],this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(i,o){n.isNumber(i)&&r.points.push(new this.PointClass({value:i,label:t.labels[o],datasetLabel:e.label,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))},this),this.buildScale(t.labels),this.eachPoints(function(t,e){n.extend(t,{x:this.scale.calculateX(e),y:this.scale.endPoint}),t.save()},this)},this),this.render()},update:function(){this.scale.update(),n.each(this.activeElements,function(t){t.restore(["fillColor","strokeColor"])}),this.eachPoints(function(t){t.save()}),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.datasets,function(t){n.each(t.points,function(t){t.inRange(r.x,r.y)&&e.push(t)})},this),e},buildScale:function(t){var r=this,i=function(){var t=[];return r.eachPoints(function(e){t.push(e.value)}),t},o={templateString:this.options.scaleLabel,height:this.chart.height,width:this.chart.width,ctx:this.chart.ctx,textColor:this.options.scaleFontColor,fontSize:this.options.scaleFontSize,fontStyle:this.options.scaleFontStyle,fontFamily:this.options.scaleFontFamily,valuesCount:t.length,beginAtZero:this.options.scaleBeginAtZero,integersOnly:this.options.scaleIntegersOnly,calculateYRange:function(t){var e=n.calculateScaleRange(i(),t,this.fontSize,this.beginAtZero,this.integersOnly);n.extend(this,e)},xLabels:t,font:n.fontString(this.options.scaleFontSize,this.options.scaleFontStyle,this.options.scaleFontFamily),lineWidth:this.options.scaleLineWidth,lineColor:this.options.scaleLineColor,gridLineWidth:this.options.scaleShowGridLines?this.options.scaleGridLineWidth:0,gridLineColor:this.options.scaleShowGridLines?this.options.scaleGridLineColor:"rgba(0,0,0,0)",padding:this.options.showScale?0:this.options.pointDotRadius+this.options.pointDotStrokeWidth,showLabels:this.options.scaleShowLabels,display:this.options.showScale};this.options.scaleOverride&&n.extend(o,{calculateYRange:n.noop,steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}),this.scale=new e.Scale(o)},addData:function(t,e){n.each(t,function(t,r){n.isNumber(t)&&this.datasets[r].points.push(new this.PointClass({value:t,label:e,x:this.scale.calculateX(this.scale.valuesCount+1),y:this.scale.endPoint,strokeColor:this.datasets[r].pointStrokeColor,fillColor:this.datasets[r].pointColor}))},this),this.scale.addXLabel(e),this.update()},removeData:function(){this.scale.removeXLabel(),n.each(this.datasets,function(t){t.points.shift()},this),this.update()},reflow:function(){var t=n.extend({height:this.chart.height,width:this.chart.width});this.scale.update(t)},draw:function(t){var e=t||1;this.clear();var r=this.chart.ctx;this.scale.draw(e),n.each(this.datasets,function(t){n.each(t.points,function(t,n){t.transition({y:this.scale.calculateY(t.value),x:this.scale.calculateX(n)},e)},this),this.options.bezierCurve&&n.each(t.points,function(e,r){e.controlPoints=0===r?n.splineCurve(e,e,t.points[r+1],0):r>=t.points.length-1?n.splineCurve(t.points[r-1],e,e,0):n.splineCurve(t.points[r-1],e,t.points[r+1],this.options.bezierCurveTension)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(t.points,function(e,n){n>0?this.options.bezierCurve?r.bezierCurveTo(t.points[n-1].controlPoints.outer.x,t.points[n-1].controlPoints.outer.y,e.controlPoints.inner.x,e.controlPoints.inner.y,e.x,e.y):r.lineTo(e.x,e.y):r.moveTo(e.x,e.y)},this),r.stroke(),this.options.datasetFill&&(r.lineTo(t.points[t.points.length-1].x,this.scale.endPoint),r.lineTo(this.scale.calculateX(0),this.scale.endPoint),r.fillStyle=t.fillColor,r.closePath(),r.fill()),n.each(t.points,function(t){t.draw()})},this)}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers,r={scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBeginAtZero:!0,scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,scaleShowLine:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><span style="background-color:<%=segments[i].fillColor%>"></span><%if(segments[i].label){%><%=segments[i].label%><%}%></li><%}%></ul>'};e.Type.extend({name:"PolarArea",defaults:r,initialize:function(t){this.segments=[],this.SegmentArc=e.Arc.extend({showStroke:this.options.segmentShowStroke,strokeWidth:this.options.segmentStrokeWidth,strokeColor:this.options.segmentStrokeColor,ctx:this.chart.ctx,innerRadius:0,x:this.chart.width/2,y:this.chart.height/2}),this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,lineArc:!0,width:this.chart.width,height:this.chart.height,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,valuesCount:t.length}),this.updateScaleRange(t),this.scale.update(),n.each(t,function(t,e){this.addData(t,e,!0)},this),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getSegmentsAtEvent(t):[];n.each(this.segments,function(t){t.restore(["fillColor"])}),n.each(e,function(t){t.fillColor=t.highlightColor}),this.showTooltip(e)}),this.render()},getSegmentsAtEvent:function(t){var e=[],r=n.getRelativePosition(t);return n.each(this.segments,function(t){t.inRange(r.x,r.y)&&e.push(t)},this),e},addData:function(t,e,n){var r=e||this.segments.length;this.segments.splice(r,0,new this.SegmentArc({fillColor:t.color,highlightColor:t.highlight||t.color,label:t.label,value:t.value,outerRadius:this.options.animateScale?0:this.scale.calculateCenterOffset(t.value),circumference:this.options.animateRotate?0:this.scale.getCircumference(),startAngle:1.5*Math.PI})),n||(this.reflow(),this.update())},removeData:function(t){var e=n.isNumber(t)?t:this.segments.length-1;this.segments.splice(e,1),this.reflow(),this.update()},calculateTotal:function(t){this.total=0,n.each(t,function(t){this.total+=t.value},this),this.scale.valuesCount=this.segments.length},updateScaleRange:function(t){var e=[];n.each(t,function(t){e.push(t.value)});var r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r,{size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2})},update:function(){this.calculateTotal(this.segments),n.each(this.segments,function(t){t.save()}),this.render()},reflow:function(){n.extend(this.SegmentArc.prototype,{x:this.chart.width/2,y:this.chart.height/2}),this.updateScaleRange(this.segments),this.scale.update(),n.extend(this.scale,{xCenter:this.chart.width/2,yCenter:this.chart.height/2}),n.each(this.segments,function(t){t.update({outerRadius:this.scale.calculateCenterOffset(t.value)})},this)},draw:function(t){var e=t||1;this.clear(),n.each(this.segments,function(t,n){t.transition({circumference:this.scale.getCircumference(),outerRadius:this.scale.calculateCenterOffset(t.value)},e),t.endAngle=t.startAngle+t.circumference,0===n&&(t.startAngle=1.5*Math.PI),n<this.segments.length-1&&(this.segments[n+1].startAngle=t.endAngle),t.draw()},this),this.scale.draw()}})}.call(this),function(){"use strict";var t=this,e=t.Chart,n=e.helpers;e.Type.extend({name:"Radar",defaults:{scaleShowLine:!0,angleShowLineOut:!0,scaleShowLabels:!1,scaleBeginAtZero:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:10,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,pointHitDetectionRadius:20,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].strokeColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'},initialize:function(t){this.PointClass=e.Point.extend({strokeWidth:this.options.pointDotStrokeWidth,radius:this.options.pointDotRadius,display:this.options.pointDot,hitDetectionRadius:this.options.pointHitDetectionRadius,ctx:this.chart.ctx}),this.datasets=[],this.buildScale(t),this.options.showTooltips&&n.bindEvents(this,this.options.tooltipEvents,function(t){var e="mouseout"!==t.type?this.getPointsAtEvent(t):[];this.eachPoints(function(t){t.restore(["fillColor","strokeColor"])}),n.each(e,function(t){t.fillColor=t.highlightFill,t.strokeColor=t.highlightStroke}),this.showTooltip(e)}),n.each(t.datasets,function(e){var r={label:e.label||null,fillColor:e.fillColor,strokeColor:e.strokeColor,pointColor:e.pointColor,pointStrokeColor:e.pointStrokeColor,points:[]};this.datasets.push(r),n.each(e.data,function(i,o){if(n.isNumber(i)){var s;this.scale.animation||(s=this.scale.getPointPosition(o,this.scale.calculateCenterOffset(i))),r.points.push(new this.PointClass({value:i,label:t.labels[o],datasetLabel:e.label,x:this.options.animation?this.scale.xCenter:s.x,y:this.options.animation?this.scale.yCenter:s.y,strokeColor:e.pointStrokeColor,fillColor:e.pointColor,highlightFill:e.pointHighlightFill||e.pointColor,highlightStroke:e.pointHighlightStroke||e.pointStrokeColor}))}},this)},this),this.render()},eachPoints:function(t){n.each(this.datasets,function(e){n.each(e.points,t,this)},this)},getPointsAtEvent:function(t){var e=n.getRelativePosition(t),r=n.getAngleFromPoint({x:this.scale.xCenter,y:this.scale.yCenter},e),i=2*Math.PI/this.scale.valuesCount,o=Math.round((r.angle-1.5*Math.PI)/i),s=[];return(o>=this.scale.valuesCount||0>o)&&(o=0),r.distance<=this.scale.drawingArea&&n.each(this.datasets,function(t){s.push(t.points[o])}),s},buildScale:function(t){this.scale=new e.RadialScale({display:this.options.showScale,fontStyle:this.options.scaleFontStyle,fontSize:this.options.scaleFontSize,fontFamily:this.options.scaleFontFamily,fontColor:this.options.scaleFontColor,showLabels:this.options.scaleShowLabels,showLabelBackdrop:this.options.scaleShowLabelBackdrop,backdropColor:this.options.scaleBackdropColor,backdropPaddingY:this.options.scaleBackdropPaddingY,backdropPaddingX:this.options.scaleBackdropPaddingX,lineWidth:this.options.scaleShowLine?this.options.scaleLineWidth:0,lineColor:this.options.scaleLineColor,angleLineColor:this.options.angleLineColor,angleLineWidth:this.options.angleShowLineOut?this.options.angleLineWidth:0,pointLabelFontColor:this.options.pointLabelFontColor,pointLabelFontSize:this.options.pointLabelFontSize,pointLabelFontFamily:this.options.pointLabelFontFamily,pointLabelFontStyle:this.options.pointLabelFontStyle,height:this.chart.height,width:this.chart.width,xCenter:this.chart.width/2,yCenter:this.chart.height/2,ctx:this.chart.ctx,templateString:this.options.scaleLabel,labels:t.labels,valuesCount:t.datasets[0].data.length}),this.scale.setScaleSize(),this.updateScaleRange(t.datasets),this.scale.buildYLabels()},updateScaleRange:function(t){var e=function(){var e=[];return n.each(t,function(t){t.data?e=e.concat(t.data):n.each(t.points,function(t){e.push(t.value)})}),e}(),r=this.options.scaleOverride?{steps:this.options.scaleSteps,stepValue:this.options.scaleStepWidth,min:this.options.scaleStartValue,max:this.options.scaleStartValue+this.options.scaleSteps*this.options.scaleStepWidth}:n.calculateScaleRange(e,n.min([this.chart.width,this.chart.height])/2,this.options.scaleFontSize,this.options.scaleBeginAtZero,this.options.scaleIntegersOnly);n.extend(this.scale,r)},addData:function(t,e){this.scale.valuesCount++,n.each(t,function(t,r){if(n.isNumber(t)){var i=this.scale.getPointPosition(this.scale.valuesCount,this.scale.calculateCenterOffset(t));this.datasets[r].points.push(new this.PointClass({value:t,label:e,x:i.x,y:i.y,strokeColor:this.datasets[r].pointStrokeColor,fillColor:this.datasets[r].pointColor}))}},this),this.scale.labels.push(e),this.reflow(),this.update()},removeData:function(){this.scale.valuesCount--,this.scale.labels.shift(),n.each(this.datasets,function(t){t.points.shift()},this),this.reflow(),this.update()},update:function(){this.eachPoints(function(t){t.save()}),this.reflow(),this.render()},reflow:function(){n.extend(this.scale,{width:this.chart.width,height:this.chart.height,size:n.min([this.chart.width,this.chart.height]),xCenter:this.chart.width/2,yCenter:this.chart.height/2}),this.updateScaleRange(this.datasets),this.scale.setScaleSize(),this.scale.buildYLabels()},draw:function(t){var e=t||1,r=this.chart.ctx;this.clear(),this.scale.draw(),n.each(this.datasets,function(t){n.each(t.points,function(t,n){t.transition(this.scale.getPointPosition(n,this.scale.calculateCenterOffset(t.value)),e)},this),r.lineWidth=this.options.datasetStrokeWidth,r.strokeStyle=t.strokeColor,r.beginPath(),n.each(t.points,function(t,e){0===e?r.moveTo(t.x,t.y):r.lineTo(t.x,t.y)},this),r.closePath(),r.stroke(),r.fillStyle=t.fillColor,r.fill(),n.each(t.points,function(t){t.draw()})},this)}})}.call(this);var angles=angular.module("angles",[]);angles.chart=function(t){return{restrict:"A",scope:{data:"=",options:"=",id:"@",width:"=",height:"=",resize:"=",chart:"@",segments:"@",responsive:"=",tooltip:"=",legend:"="},link:function(e,n){var r=n[0].getContext("2d"),i=!1;e.size=function(){e.width<=0?(n.width(n.parent().width()),r.canvas.width=n.width()):(r.canvas.width=e.width||r.canvas.width,i=!0),e.height<=0?(n.height(n.parent().height()),r.canvas.height=r.canvas.width/2):(r.canvas.height=e.height||r.canvas.height,i=!0)},e.$watch("data",function(a,u){o&&o.destroy(),e.options=e.options||{},a&&(e.chart&&(t=e.chart),i&&(e.size(),s=new Chart(r)),(e.responsive||e.resize)&&(e.options.responsive=!0),
void 0!==e.responsive&&(e.options.responsive=e.responsive),o=s[t](e.data,e.options),o.update(),e.legend&&angular.element(n[0]).parent().after(o.generateLegend()))},!0),e.$watch("tooltip",function(t,e){if(o&&o.draw(),void 0!==t&&o.segments&&!(!isFinite(t)||t>=o.segments.length||t<0)){var n=o.segments[t];n.save(),n.fillColor=n.highlightColor,o.showTooltip([n]),n.restore()}},!0),e.size();var o,s=new Chart(r)}}},angles.directive("chart",function(){return angles.chart()}),angles.directive("linechart",function(){return angles.chart("Line")}),angles.directive("barchart",function(){return angles.chart("Bar")}),angles.directive("radarchart",function(){return angles.chart("Radar")}),angles.directive("polarchart",function(){return angles.chart("PolarArea")}),angles.directive("piechart",function(){return angles.chart("Pie")}),angles.directive("doughnutchart",function(){return angles.chart("Doughnut")}),angles.directive("donutchart",function(){return angles.chart("Doughnut")}),function(n){function require(e){var n,r;if(e&&e.length>2&&"."==e[0]&&"/"==e[1]&&(e=e.slice(2)),n=t[e],"function"==typeof n)return r={},t[e]=r,n(r),r;if("object"==typeof n)return n;throw"Unknown module "+e}var t={},i="1.2.21003.0";t.Resources={},t.Resources["en-US"]={Validate_NotNullError:"{0} cannot be null.",Validate_NotNullOrEmptyError:"{0} cannot be null or empty.",Validate_InvalidId:"{0} is not valid.",Validate_TypeCheckError:"{0} is expected to be a value of type {1}, not {2}.",Validate_LengthUnexpected:"{0} is expected to have length {1}, not {2}.",Validate_InvalidUserParameter:"{0} contains an invalid user-defined query string parameter: {1}. User-defined query string parameters must not begin with a '$'.",Extensions_DefaultErrorMessage:"Unexpected failure.",Extensions_ConnectionFailureMessage:"Unexpected connection failure.",MobileServiceTable_ReadMismatchedQueryTables:"Cannot get the results of a query for table '{1}' via table '{0}'.",MobileServiceTable_InsertIdAlreadySet:"Cannot insert if the {0} member is already set.",MobileServiceLogin_AuthenticationProviderNotSupported:"Unsupported authentication provider name. Please specify one of {0}.",MobileServiceLogin_LoginErrorResponse:"Cannot start a login operation because login is already in progress.",MobileServiceLogin_InvalidResponseFormat:"Invalid format of the authentication response.",MobileServiceLogin_InvalidProvider:"The first parameter must be the name of the autentication provider or a Microsoft Account authentication token.",MobileServiceTable_NotSingleObject:"Could not get object from response {0}.",Push_ConflictWithReservedName:"Template name conflicts with reserved name '{0}'.",Push_InvalidTemplateName:"Template name can't contain ';' or ':'.",Push_NotSupportedXMLFormatAsBodyTemplateWin8:"The bodyTemplate is not in accepted XML format. The first node of the bodyTemplate should be Badge/Tile/Toast, except for the wns/raw template, which need to be a valid XML.",Push_BodyTemplateMustBeXml:"Valid XML is required for any template without a raw header.",Push_TagNoCommas:"Tags must not contain ','."},t.MobileServiceClient=function(t){function e(t,e){a.isString(t,"applicationUrl"),a.notNullOrEmpty(t,"applicationUrl"),a.isString(e,"applicationKey"),this.applicationUrl=t,this.applicationKey=e||null;var n=u.getSdkInfo(),i=u.getOperatingSystemInfo(),o=n.fileVersion.split(".").slice(0,2).join(".");this.version="ZUMO/"+o+" (lang="+n.language+"; os="+i.name+"; os_version="+i.version+"; arch="+i.architecture+"; version="+n.fileVersion+")",this.currentUser=null,this._serviceFilter=null,this._login=new l(this),this.getTable=function(t){return a.isString(t,"tableName"),a.notNullOrEmpty(t,"tableName"),new c(t,this)},r&&(this.push=new r(this))}function n(){var t,e,n=null,r="MobileServices.Installation.config",i=u.readSetting(r);if(!s.isNull(i))try{t=s.fromJson(i),n=t.applicationInstallationId}catch(o){}return s.isNullOrEmpty(n)&&(n=s.createUniqueInstallationId(),e=s.toJson({applicationInstallationId:n}),u.writeSetting(r,e)),n}var r,i,o,s=require("Extensions"),a=require("Validate"),u=require("Platform"),c=require("MobileServiceTable").MobileServiceTable,l=require("MobileServiceLogin").MobileServiceLogin;try{r=require("Push").Push}catch(f){}i={JsonApiCall:"AJ",GenericApiCall:"AG",AdditionalQueryParameters:"QS",OptimisticConcurrency:"OC",TableRefreshCall:"RF",TableReadRaw:"TR",TableReadQuery:"TQ"},o="X-ZUMO-FEATURES",t.MobileServiceClient=e,u.addToMobileServicesClientNamespace({MobileServiceClient:e}),e.prototype.withFilter=function(t){var n,r;return a.notNull(t,"serviceFilter"),n=new e(this.applicationUrl,this.applicationKey),n.currentUser=this.currentUser,r=this._serviceFilter,n._serviceFilter=s.isNull(r)?t:function(e,n,i){var o=function(t,e){r(t,n,e)};t(e,o,i)},n},e.prototype._request=function(t,n,r,i,c,l,f){var h,d;s.isNull(f)&&"function"==typeof l&&(f=l,l=null),s.isNull(f)&&"function"==typeof c&&(f=c,c=null),s.isNull(f)&&"function"==typeof i&&(f=i,i=!1),s.isNull(f)&&"function"==typeof r&&(f=r,r=null),a.isString(t,"method"),a.notNullOrEmpty(t,"method"),a.isString(n,"uriFragment"),a.notNull(n,"uriFragment"),a.notNull(f,"callback"),h={type:t.toUpperCase()},h.url=s.url.isAbsoluteUrl(n)?n:s.url.combinePathSegments(this.applicationUrl,n),h.headers={},s.isNull(c)||s.extend(h.headers,c),h.headers["X-ZUMO-INSTALLATION-ID"]=e._applicationInstallationId,s.isNullOrEmpty(this.applicationKey)||(h.headers["X-ZUMO-APPLICATION"]=this.applicationKey),this.currentUser&&!s.isNullOrEmpty(this.currentUser.mobileServiceAuthenticationToken)&&(h.headers["X-ZUMO-AUTH"]=this.currentUser.mobileServiceAuthenticationToken),s.isNull(e._userAgent)||(h.headers["User-Agent"]=e._userAgent),s.isNullOrEmpty["X-ZUMO-VERSION"]||(h.headers["X-ZUMO-VERSION"]=this.version),s.isNull(h.headers[o])&&l&&l.length&&(h.headers[o]=l.join(",")),s.isNull(r)?h.data=null:(h.data=s.isString(r)?r:s.toJson(r),s.hasProperty(h.headers,["Content-Type","content-type","CONTENT-TYPE","Content-type"])||(h.headers["Content-Type"]="application/json")),d=function(t,e){s.isNull(t)?!s.isNull(e)&&(e.status>=400||0===e.status)&&(t=s.createError(null,e),e=null):t=s.createError(t),f(t,e)},s.isNull(this._serviceFilter)||i?u.webRequest(h,d):this._serviceFilter(h,u.webRequest,d)},e.prototype.loginWithOptions=u.async(function(t,e,n){this._login.loginWithOptions(t,e,n)}),e.prototype.login=u.async(function(t,e,n,r){this._login.login(t,e,n,r)}),e.prototype.logout=function(){this.currentUser=null},e.prototype.invokeApi=u.async(function(t,e,n){var r,o,u,c,l,f,h;a.isString(t,"apiName"),s.isNull(n)&&"function"==typeof e&&(n=e,e=null),a.notNull(n,"callback"),s.isNull(e)||(r=e.parameters,s.isNull(r)||a.isValidParametersObject(e.parameters),o=e.method,u=e.body,c=e.headers),s.isNull(o)&&(o="POST"),l=s.url.combinePathSegments("api",t),s.isNull(r)||(f=s.url.getQueryString(r),l=s.url.combinePathAndQuery(l,f)),h=[],s.isNullOrEmpty(u)||h.push(s.isString(u)?i.GenericApiCall:i.JsonApiCall),s.isNull(r)||h.push(i.AdditionalQueryParameters),this._request(o,l,u,null,c,h,function(t,e){if(s.isNull(t)){var r;if("undefined"!=typeof e.getResponseHeader&&(r=e.getResponseHeader("Content-Type")),r)r.toLowerCase().indexOf("json")!==-1&&(e.result=s.fromJson(e.responseText));else try{e.result=s.fromJson(e.responseText)}catch(i){}n(null,e)}else n(t,null)})}),e._applicationInstallationId=n(),e._userAgent=u.getUserAgent(),e._zumoFeatures=i},t.MobileServiceTable=function(t){function e(t,e){this.getTableName=function(){return t},this.getMobileServiceClient=function(){return e},this.systemProperties=0}function n(t){var e,n={};for(e in t)"__"!==e.substr(0,2)&&(n[e]=t[e]);return n}function r(t,e,n){if(e===g.None||"string"==typeof n&&n.toLowerCase().indexOf("__systemproperties")>=0||(t=t||{},!c.isNull(t.__systemProperties)))return t;if(e===g.All)t.__systemProperties="*";else{var r=[];g.CreatedAt&e&&r.push(b.CreatedAt),g.UpdatedAt&e&&r.push(b.UpdatedAt),g.Version&e&&r.push(b.Version),t.__systemProperties=r.join(",")}return t}function i(t){var e,n=c.fromJson(t.responseText);return t.getResponseHeader&&(e=t.getResponseHeader("ETag"),c.isNullOrEmpty(e)||(n.__version=a(e))),n}function o(t){t.request&&412===t.request.status&&(t.serverInstance=c.fromJson(t.request.responseText))}function s(t){var e=t.replace(/\"/g,'\\"');return'"'+e+'"'}function a(t){var e=t.length,n=t;return e>1&&'"'===t[0]&&'"'===t[e-1]&&(n=t.substr(1,e-2)),n.replace(/\\\"/g,'"')}function u(t,e){var n,r=!1;if(e)if(Array.isArray(e))r=e.length>0;else if(c.isObject(e))for(n in e){r=!0;break}return r&&t.push(WindowsAzure.MobileServiceClient._zumoFeatures.AdditionalQueryParameters),t}var c=require("Extensions"),l=require("Validate"),f=require("Platform"),h=require("Query").Query,d="id",p="tables",v=["ID","Id","id","iD"],m=/^(.*?);\s*rel\s*=\s*(\w+)\s*$/,g={None:0,CreatedAt:1,UpdatedAt:2,Version:4,All:65535},b={CreatedAt:"__createdAt",UpdatedAt:"__updatedAt",Version:"__version"};f.addToMobileServicesClientNamespace({MobileServiceTable:{SystemProperties:g}}),t.MobileServiceTable=e,e.prototype._read=function(t,e,n){var i,o,s,a,h;c.isNull(n)&&(c.isNull(e)&&"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null,!c.isNull(t)&&c.isObject(t)&&!c.isString(t)&&c.isNull(t.toOData)&&(e=t,t=null))),t&&c.isString(t)&&l.notNullOrEmpty(t,"query"),c.isNull(e)||l.isValidParametersObject(e,"parameters"),l.notNull(n,"callback");var d=this.getTableName(),v=null,g=null,b=[];if(c.isString(t))v=t,c.isNullOrEmpty(t)||b.push(WindowsAzure.MobileServiceClient._zumoFeatures.TableReadRaw);else if(c.isObject(t)&&!c.isNull(t.toOData)&&t.getComponents&&(b.push(WindowsAzure.MobileServiceClient._zumoFeatures.TableReadQuery),i=t.getComponents(),g=i.projection,i.table)){if(d!==i.table)return o=c.format(f.getResourceString("MobileServiceTable_ReadMismatchedQueryTables"),d,i.table),void n(c.createError(o),null);s=t.toOData(),v=s.replace(new RegExp("^/"+i.table),"")}u(b,e),e=r(e,this.systemProperties,v),c.isNull(e)||(a=c.url.getQueryString(e),c.isNullOrEmpty(v)?v=a:v+="&"+a),h=v,c.url.isAbsoluteUrl(h)||(h=c.url.combinePathSegments(p,d),c.isNull(v)||(h=c.url.combinePathAndQuery(h,v))),this.getMobileServiceClient()._request("GET",h,null,!1,null,b,function(t,e){var r,i,o,s=null;if(c.isNull(t)){if(s=c.fromJson(e.responseText),s&&!Array.isArray(s)&&"undefined"!=typeof s.count&&"undefined"!=typeof s.results&&(s.results.totalCount=s.count,s=s.results),null!==g)for(r=0,r=0;r<s.length;r++)s[r]=g.call(s[r]);Array.isArray(s)&&e.getResponseHeader&&c.isNull(s.nextLink)&&(i=e.getResponseHeader("Link"),c.isNullOrEmpty(i)||(o=m.exec(i),o&&3===o.length&&"next"==o[2]&&(s.nextLink=o[1])))}n(t,s)})},e.prototype.read=f.async(e.prototype._read),e.prototype.insert=f.async(function(t,e,n){var o,s,a,h,m;c.isNull(n)&&"function"==typeof e&&(n=e,e=null),l.notNull(t,"instance"),c.isNull(e)||l.isValidParametersObject(e),l.notNull(n,"callback");for(o in v)if(s=t[v[o]],!c.isNullOrZero(s)){if(!c.isString(s))throw c.format(f.getResourceString("MobileServiceTable_InsertIdAlreadySet"),d);if(v[o]!==d)throw c.format(f.getResourceString("MobileServiceTable_InsertIdAlreadySet"),d);l.isValidId(s,d)}a=u([],e),h=c.url.combinePathSegments(p,this.getTableName()),e=r(e,this.systemProperties),c.isNull(e)||(m=c.url.getQueryString(e),h=c.url.combinePathAndQuery(h,m)),this.getMobileServiceClient()._request("POST",h,t,!1,null,a,function(e,r){if(c.isNull(e)){var o=i(r);o=f.allowPlatformToMutateOriginal(t,o),n(null,o)}else n(e,null)})}),e.prototype.update=f.async(function(t,e,a){var h,v,m,g,b={},y=[];c.isNull(a)&&"function"==typeof e&&(a=e,e=null),l.notNull(t,"instance"),l.isValidId(t[d],"instance."+d),c.isNull(e)||l.isValidParametersObject(e,"parameters"),l.notNull(a,"callback"),c.isString(t[d])?(h=t.__version,v=n(t)):v=t,c.isNullOrEmpty(h)||(b["If-Match"]=s(h),y.push(WindowsAzure.MobileServiceClient._zumoFeatures.OptimisticConcurrency)),y=u(y,e),e=r(e,this.systemProperties),m=c.url.combinePathSegments(p,this.getTableName(),encodeURIComponent(t[d].toString())),c.isNull(e)||(g=c.url.getQueryString(e),m=c.url.combinePathAndQuery(m,g)),this.getMobileServiceClient()._request("PATCH",m,v,!1,b,y,function(e,n){if(c.isNull(e)){var r=i(n);r=f.allowPlatformToMutateOriginal(t,r),a(null,r)}else o(e),a(e)})}),e.prototype.refresh=f.async(function(t,e,n){var r,i,o,s;if(c.isNull(n)&&"function"==typeof e&&(n=e,e=null),l.notNull(t,"instance"),!c.isValidId(t[d],d)){if("string"==typeof t[d]&&""!==t[d])throw c.format(f.getResourceString("Validate_InvalidId"),d);return void n(null,t)}c.isNull(e)||l.isValidParametersObject(e,"parameters"),l.notNull(n,"callback"),r=c.url.combinePathSegments(p,this.getTableName()),"string"==typeof t[d]?(i=encodeURIComponent(t[d]).replace(/\'/g,"%27%27"),r=c.url.combinePathAndQuery(r,"?$filter=id eq '"+i+"'")):r=c.url.combinePathAndQuery(r,"?$filter=id eq "+encodeURIComponent(t[d].toString())),c.isNull(e)||(o=c.url.getQueryString(e),r=c.url.combinePathAndQuery(r,o)),s=[WindowsAzure.MobileServiceClient._zumoFeatures.TableRefreshCall],s=u(s,e),this.getMobileServiceClient()._request("GET",r,t,!1,null,s,function(e,r){var i,o;c.isNull(e)?(i=c.fromJson(r.responseText),Array.isArray(i)&&(i=i[0]),i||(o=c.format(f.getResourceString("MobileServiceTable_NotSingleObject"),d),n(c.createError(o),null)),i=f.allowPlatformToMutateOriginal(t,i),n(null,i)):n(e,null)})}),e.prototype.lookup=f.async(function(t,e,n){var o,s,a;c.isNull(n)&&"function"==typeof e&&(n=e,e=null),l.isValidId(t,d),c.isNull(e)||l.isValidParametersObject(e),l.notNull(n,"callback"),o=c.url.combinePathSegments(p,this.getTableName(),encodeURIComponent(t.toString())),s=u([],e),e=r(e,this.systemProperties),c.isNull(e)||(a=c.url.getQueryString(e),o=c.url.combinePathAndQuery(o,a)),this.getMobileServiceClient()._request("GET",o,null,!1,null,s,function(t,e){if(c.isNull(t)){var r=i(e);n(null,r)}else n(t,null)})}),e.prototype.del=f.async(function(t,e,n){var i,a,f,h;c.isNull(n)&&"function"==typeof e&&(n=e,e=null),l.notNull(t,"instance"),l.isValidId(t[d],"instance."+d),l.notNull(n,"callback"),i={},a=[],c.isString(t[d])&&(c.isNullOrEmpty(t.__version)||(i["If-Match"]=s(t.__version),a.push(WindowsAzure.MobileServiceClient._zumoFeatures.OptimisticConcurrency))),a=u(a,e),e=r(e,this.systemProperties),c.isNull(e)||l.isValidParametersObject(e),f=c.url.combinePathSegments(p,this.getTableName(),encodeURIComponent(t[d].toString())),c.isNull(e)||(h=c.url.getQueryString(e),f=c.url.combinePathAndQuery(f,h)),this.getMobileServiceClient()._request("DELETE",f,null,!1,i,a,function(t){c.isNull(t)||o(t),n(t)})});for(var y=["where","select","orderBy","orderByDescending","skip","take","includeTotalCount"],_=function(t){e.prototype[t]=function(){var e=this,n=new h(e.getTableName());return n.read=f.async(function(t,r){e._read(n,t,r)}),n[t].apply(n,arguments)}},w=0;w<y.length;w++)_(y[w])},t.MobileServiceLogin=function(t){function e(t,e){s.isNull(e)&&(e=!0),a.notNull(t),a.isObject(t,"client"),this._loginState={inProcess:!1,cancelCallback:null},this.ignoreFilters=e,this.getMobileServiceClient=function(){return t},this.getLoginInProcess=function(){return this._loginState.inProcess}}function n(t,e,n,r){var i=null;s.isNull(t)&&(!s.isNull(e)&&s.isObject(e)&&s.isObject(e.user)&&s.isString(e.authenticationToken)?(n.currentUser=e.user,n.currentUser.mobileServiceAuthenticationToken=e.authenticationToken,i=n.currentUser):t=u.getResourceString("MobileServiceLogin_InvalidResponseFormat")),s.isNull(r)||r(t,i)}function r(t,e,r,i){var o=null;if(s.isNull(t))try{o=s.fromJson(e.responseText)}catch(a){t=a}n(t,o,r,i)}function i(t,e,n,i,o){var a,u,l=t.getMobileServiceClient();t._loginState={inProcess:!0,cancelCallback:null},a=c+"/"+e,s.isNull(i)||(u=s.url.getQueryString(i),a=s.url.combinePathAndQuery(a,u)),l._request("POST",a,n,t.ignoreFilters,function(e,n){t._loginState={inProcess:!1,cancelCallback:null},r(e,n,l,o)})}function o(t,e,r,i,o){var a,f,h=t.getMobileServiceClient(),d=s.url.combinePathSegments(h.applicationUrl,c,e),p=null;s.isNull(i)||(a=s.url.getQueryString(i),d=s.url.combinePathAndQuery(d,a)),r||(p=s.url.combinePathSegments(h.applicationUrl,c,l)),t._loginState={inProcess:!0,cancelCallback:null},f=u.login(d,p,function(e,r){t._loginState={inProcess:!1,cancelCallback:null},n(e,r,h,o)}),t._loginState.inProcess&&f&&f.cancelCallback&&(t._loginState.cancelCallback=f.cancelCallback)}var s=require("Extensions"),a=require("Validate"),u=require("Platform"),c="login",l="done";t.MobileServiceLogin=e,u.addToMobileServicesClientNamespace({MobileServiceLogin:e}),e.prototype.loginWithOptions=function(t,e,n){a.isString(t,"provider"),a.notNull(t,"provider"),s.isNull(n)&&(s.isNull(e)||"function"!=typeof e?a.notNull(null,"callback"):(n=e,e=null)),!e&&this._isAuthToken(t)?this.loginWithMobileServiceToken(t,n):(e=e||{},this.loginWithProvider(t,e.token,e.useSingleSignOn,e.parameters,n))},e.prototype.login=function(t,e,n,r){s.isNull(r)&&(s.isNull(n)||"function"!=typeof n?s.isNull(e)||"function"!=typeof e||(r=e,n=null,e=null):(r=n,n=null)),s.isNull(n)&&(s.isBool(e)?(n=e,e=null):n=!1),s.isNull(e)&&this._isAuthToken(t)&&(e=t,t=null),s.isNull(t)&&(a.notNull(e),a.isString(e)),s.isNull(e)&&(a.notNull(t),a.isString(t),t=t.toLowerCase()),s.isNull(t)?this.loginWithMobileServiceToken(e,r):("windowsazureactivedirectory"===t.toLowerCase()&&(t="aad"),this.loginWithProvider(t,e,n,{},r))},e.prototype._isAuthToken=function(t){return t&&s.isString(t)&&3===t.split(".").length},e.prototype.loginWithMobileServiceToken=function(t,e){var n=this,i=n.getMobileServiceClient();a.isString(t,"authenticationToken"),a.notNullOrEmpty(t,"authenticationToken"),i._request("POST",c,{authenticationToken:t},n.ignoreFilters,function(t,n){r(t,n,i,e)})},e.prototype.loginWithProvider=function(t,e,n,r,c){if(a.isString(t,"provider"),s.isNull(e)||a.isObject(e,"token"),this._loginState.inProcess){var l=this._loginState.cancelCallback&&this._loginState.cancelCallback();if(!l)throw u.getResourceString("MobileServiceLogin_LoginErrorResponse")}t=t.toLowerCase(),s.isNull(e)?o(this,t,n,r,c):i(this,t,e,r,c)}},t.Push=function(t){function e(t){this._apns=null,this._gcm=null,this._registrationManager=null,Object.defineProperties(this,{apns:{get:function(){if(!this._apns){var e=r.format("MS-PushContainer-apns-{0}",t.applicationUrl);this._registrationManager=new o(t,"apns",e),this._apns=new s(this)}return this._apns}},gcm:{get:function(){if(!this._gcm){var e=r.format("MS-PushContainer-gcm-{0}",t.applicationUrl);this._registrationManager=new o(t,"apns",e),this._gcm=new a(this)}return this._gcm}}})}function n(t,e,n){i.notNullOrEmpty(t,"pushHandle"),i.isString(t,"pushHandle"),"apns"==e&&(t=t.toUpperCase());var r={platform:e,deviceId:t};return n&&(i.isArray(n,"tags"),r.tags=n),r}var r=require("Extensions"),i=require("Validate"),o=(require("Platform"),require("RegistrationManager").RegistrationManager),s=function(t){this._push=t},a=function(t){this._push=t};t.Push=e,e.prototype._register=function(t,e,r){var i=n(e,t,r);return this._registrationManager.upsertRegistration(i)},e.prototype._registerTemplate=function(t,e,o,s,a,u){i.notNullOrEmpty(o,"name"),i.notNullOrEmpty(s,"bodyTemplate");var c=s,l=n(e,t,u);return r.isString(c)||(c=JSON.stringify(c)),l.templateName=o,l.templateBody=c,a&&(l.expiry=a),this._registrationManager.upsertRegistration(l)},e.prototype._unregister=function(t){return i.notNullOrEmpty(t,"templateName"),this._registrationManager.deleteRegistrationWithName(t)},e.prototype._unregisterAll=function(t){return i.notNullOrEmpty(t,"pushHandle"),this._registrationManager.deleteAllRegistrations(t)},s.prototype.registerNative=function(t,e){return this._push._register("apns",t,e)},s.prototype.registerTemplate=function(t,e,n,i,o){return r.isNull(o)&&!r.isNull(i)&&Array.isArray(i)&&(o=i,i=null),this._push._registerTemplate("apns",t,e,n,i,o)},s.prototype.unregisterNative=function(){return this._push._unregister(o.NativeRegistrationName)},s.prototype.unregisterTemplate=function(t){return this._push._unregister(t)},s.prototype.unregisterAll=function(t){return this._push._unregisterAll(t)},a.prototype.registerNative=function(t,e){return this._push._register("gcm",t,e)},a.prototype.registerTemplate=function(t,e,n,r){return this._push._registerTemplate("gcm",t,e,n,null,r)},a.prototype.unregisterNative=function(){return this._push._unregister(o.NativeRegistrationName)},a.prototype.unregisterTemplate=function(t){return this._push._unregister(t)},a.prototype.unregisterAll=function(t){return this._push._unregisterAll(t)}},t.RegistrationManager=function(t){function e(t,e,n){r.notNull(t,"mobileServicesClient"),this._platform=e||"wns",this._pushHttpClient=new s(t),this._storageManager=new o(n||t.applicationUrl)}var n=require("Extensions"),r=require("Validate"),i=require("Platform"),o=require("LocalStorageManager").LocalStorageManager,s=require("PushHttpClient").PushHttpClient;t.RegistrationManager=e,e.NativeRegistrationName=o.NativeRegistrationName,e.prototype.upsertRegistration=i.async(function(t,e){r.notNull(t,"registration"),r.notNull(e,"callback");var i=this,s=function(t){u(function(e){return e?void t(e):void a(!1,t)})},a=function(e,n){i._pushHttpClient.upsertRegistration(t,function(r){return e&&r&&r.request&&410===r.request.status?void s(n):(r||(i._storageManager.pushHandle=t.deviceId),void n(r))})},u=function(e){i._pushHttpClient.createRegistrationId(function(n,r){return n?void e(n):(t.registrationId=r,i._storageManager.updateRegistrationWithName(t.templateName||o.NativeRegistrationName,t.registrationId,t.deviceId),e(),void 0)})},c=function(e){var r=t.templateName||o.NativeRegistrationName,s=i._storageManager.getRegistrationIdWithName(r);n.isNullOrEmpty(s)?u(function(t){return t?void e(t):void a(!0,e)}):(t.registrationId=s,a(!0,e))};this._storageManager.isRefreshNeeded?this._refreshRegistrations(this._storageManager.pushHandle||t.deviceId,function(t){return t?void e(t):void c(e)}):c(e)}),e.prototype.deleteRegistrationWithName=i.async(function(t,e){var r=this._storageManager.getRegistrationIdWithName(t),i=this;return n.isNullOrEmpty(r)?void e():void this._pushHttpClient.unregister(r,function(n){n||i._storageManager.deleteRegistrationWithName(t),e(n)})}),e.prototype.deleteAllRegistrations=i.async(function(t,e){var i=this,o=this._storageManager.pushHandle,s=function(e,r){if(e)return void r(e);var o=i._storageManager.getRegistrationIds(),s=o.length,a=[];return 0===s?(i._storageManager.deleteAllRegistrations(),void r()):void o.map(function(e){i._pushHttpClient.unregister(e,function(e){s--,e&&a.push(e),s<=0&&(0===a.length?(i._storageManager.deleteAllRegistrations(),r()):r(n.createError("Failed to delete registrations for "+t)))})})};r.notNull(t,"pushHandle"),this._refreshRegistrations(o||t,function(r){n.isNullOrEmpty(o)||t===o?s(r,e):s(r,function(){i._refreshRegistrations(t,function(t){s(t,e)})})})}),e.prototype.listRegistrations=i.async(function(t,e){r.notNullOrEmpty(t),this._pushHttpClient.listRegistrations(t,this._platform,e)}),e.prototype._refreshRegistrations=function(t,e){var n=this;r.notNull(t,"pushHandle"),r.notNull(e,"callback"),this._pushHttpClient.listRegistrations(t,this._platform,function(r,i){r||n._storageManager.updateAllRegistrations(i,t),e(r)})}},t.LocalStorageManager=function(t){function e(t){this._registrations={},this._storageKey="MobileServices.Push."+t,this._isRefreshNeeded=!1,Object.defineProperty(this,"isRefreshNeeded",{get:function(){return this._isRefreshNeeded}}),this._pushHandle=null,Object.defineProperty(this,"pushHandle",{get:function(){return n.isNull(this._pushHandle)?"":this._pushHandle},set:function(t){r.notNullOrEmpty(t,"pushHandle"),this._pushHandle!==t&&(this._pushHandle=t,this._flushToSettings())}}),this._initializeRegistrationInfoFromStorage()}var n=require("Extensions"),r=require("Validate"),i=require("Platform"),o={Version:"v1.1.0",Keys:{Version:"Version",PushHandle:"ChannelUri",Registrations:"Registrations",NativeRegistration:"$Default"}};t.LocalStorageManager=e,e.NativeRegistrationName=o.Keys.NativeRegistration,e.prototype.getRegistrationIds=function(){var t,e=[];for(t in this._registrations)this._registrations.hasOwnProperty(t)&&e.push(this._registrations[t]);return e},e.prototype.getRegistrationIdWithName=function(t){return r.notNullOrEmpty(t,"registrationName"),this._registrations[t]},e.prototype.updateAllRegistrations=function(t,e){var i,s;for(r.notNull(e,"pushHandle"),t||(t=[]),this._registrations={},i=0;i<t.length;i++)s=t[i].templateName,n.isNullOrEmpty(s)&&(s=o.Keys.NativeRegistration),this._registrations[s]=t[i].registrationId;this._pushHandle=e,this._flushToSettings(),this._isRefreshNeeded=!1},e.prototype.updateRegistrationWithName=function(t,e,n){r.notNullOrEmpty(t,"registrationName"),r.notNullOrEmpty(e,"registrationId"),r.notNullOrEmpty(n,"pushHandle"),this._registrations[t]=e,this._pushHandle=n,this._flushToSettings()},e.prototype.deleteRegistrationWithName=function(t){r.notNullOrEmpty(t,"registrationName"),this._registrations.hasOwnProperty(t)&&(delete this._registrations[t],this._flushToSettings())},e.prototype.deleteAllRegistrations=function(){this._registrations={},this._flushToSettings()},e.prototype._flushToSettings=function(){var t={};t[o.Keys.Version]=o.Version,t[o.Keys.PushHandle]=this._pushHandle,t[o.Keys.Registrations]=this._registrations,i.writeSetting(this._storageKey,JSON.stringify(t))},e.prototype._initializeRegistrationInfoFromStorage=function(){var t,e;this._registrations={};try{if(t=JSON.parse(i.readSetting(this._storageKey)),this._pushHandle=t[o.Keys.PushHandle],!this._pushHandle)return void(this._isRefreshNeeded=!0);if(e=t[o.Keys.Version]||"",this._isRefreshNeeded=o.Version!==e.toLowerCase(),this._isRefreshNeeded)return;this._registrations=t[o.Keys.Registrations]}catch(n){this._isRefreshNeeded=!0}}},t.PushHttpClient=function(t){function e(t){this.mobileServicesClient=t}var n=(require("Platform"),{"If-Modified-Since":"Mon, 27 Mar 1972 00:00:00 GMT"});t.PushHttpClient=e,e.prototype.listRegistrations=function(t,e,r){this.mobileServicesClient._request("GET","/push/registrations?platform="+encodeURIComponent(e)+"&deviceId="+encodeURIComponent(t),null,null,n,function(t,e){t?r(t):r(null,JSON.parse(e.responseText))})},e.prototype.unregister=function(t,e){this.mobileServicesClient._request("DELETE","/push/registrations/"+encodeURIComponent(t),null,null,n,function(t){return t&&t.request&&404===t.request.status?void e():void e(t)})},e.prototype.createRegistrationId=function(t){this.mobileServicesClient._request("POST","/push/registrationIds",null,null,n,function(e,n){if(e)return void t(e);var r=n.getResponseHeader("Location");t(null,r.slice(r.lastIndexOf("/")+1))})},e.prototype.upsertRegistration=function(t,e){this.mobileServicesClient._request("PUT","/push/registrations/"+encodeURIComponent(t.registrationId),t,null,n,e)}},t.Platform=function(t){function e(){return h||(h=r(d)),h}function r(t){for(var e=0;e<t.length;e++)if(t[e].supportsCurrentRuntime())return t[e];throw new Error("Unsupported browser - no suitable providers are available.")}var o,s=require("Extensions"),a=require("Validate"),u=require("Promises"),c=require("Resources"),l={};try{o="___z",localStorage.setItem(o,o),localStorage.removeItem(o),l=localStorage}catch(f){}var h=null,d=[require("DirectAjaxTransport"),require("IframeTransport")],p=[require("CordovaPopup"),require("BrowserPopup")],v=/^(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2})(?:\.(\d*))?Z$/,m=!JSON.stringify(new Date(100)).match(/\.100Z"$/);t.async=function(t){return function(){var e=this,n=arguments;return new u.Promise(function(r,i){var o=function(t){s.isNull(t)?r.apply(null,Array.prototype.slice.call(arguments,1)):i(t)};Array.prototype.push.call(n,o);try{t.apply(e,n)}catch(a){o(s.createError(a))}})}},t.addToMobileServicesClientNamespace=function(t){var e,r=n.WindowsAzure=n.WindowsAzure||{};for(e in t)t.hasOwnProperty(e)&&(r[e]=t[e])},t.readSetting=function(t){return l[t]},t.writeSetting=function(t,e){l[t]=e},t.webRequest=function(t,n){return e().performRequest(t,n)},t.getUserAgent=function(){return null},t.getOperatingSystemInfo=function(){return{name:"--",version:"--",architecture:"--"}},t.getSdkInfo=function(){return{language:"Web",fileVersion:i}},t.login=function(t,e,n){var i=/^[a-z]+:/,o="https:";return t=t.replace(i,o),e=e.replace(i,o),r(p).login(t,e,n)},t.toJson=function(t){return JSON.stringify(t,function(t,e){if(m&&this&&s.isDate(this[t])){var n=this[t].getMilliseconds(),r=String(n+1e3).substring(1);return e.replace(v,function(t,e){return e+"."+r+"Z"})}return e})},t.tryParseIsoDateString=function(t){var e,n;if(a.isString(t),e=v.exec(t)){var r=e[1],i=e[2]||"0",o=Math.round(1e3*Number("0."+i));if(r=r.replace(/\-/g,"/").replace("T"," "),n=Date.parse(r+" UTC"),!isNaN(n))return new Date(n+o)}return null},t.getResourceString=function(t){return c["en-US"][t]},t.allowPlatformToMutateOriginal=function(t,e){return e}},t.DirectAjaxTransport=function(t){t.name="DirectAjaxTransport",t.supportsCurrentRuntime=function(){return"undefined"!=typeof n.XMLHttpRequest&&"withCredentials"in new n.XMLHttpRequest},t.performRequest=function(t,e){var r,i=t.headers||{},o=t.url.replace(/#.*$/,""),s=t.type?t.type.toUpperCase():"GET",a=new n.XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&e(null,a)},a.open(s,o);for(r in i)t.headers.hasOwnProperty(r)&&a.setRequestHeader(r,t.headers[r]);a.send(t.data)}},t.IframeTransport=function(t){function e(t){t&&1223===t.status&&(t.status=204)}function r(t,e){var r=s[t];r||(r=s[t]=new i.Promise(function(e){var r=document.createElement("iframe"),i=o.getOriginRoot(window.location.href),s=function(){e(r)};r.addEventListener?r.addEventListener("load",s,!1):r.attachEvent("onload",s),r.src=t+"/crossdomain/bridge?origin="+encodeURIComponent(i),r.setAttribute("width",0),r.setAttribute("height",0),r.style.display="none",n.document.body.appendChild(r)})),r.then(e)}var i=require("Promises"),o=require("PostMessageExchange"),s=[],a=o.instance;t.name="IframeTransport",t.supportsCurrentRuntime=function(){return"undefined"!=typeof n.postMessage},t.performRequest=function(t,n){var i=o.getOriginRoot(t.url);r(i,function(r){var o={type:t.type,url:t.url,headers:t.headers,data:t.data};a.request(r.contentWindow,o,i).then(function(t){e(t),n(null,t)},function(t){n(t,null)})})}},t.BrowserPopup=function(t){function e(t,e){var n=document.createElement("iframe");return n.name="zumo-login-receiver",n.src=t+"/crossdomain/loginreceiver?completion_origin="+encodeURIComponent(e),n.setAttribute("width",0),n.setAttribute("height",0),n.style.display="none",document.body.appendChild(n),n}var n=require("PostMessageExchange");t.supportsCurrentRuntime=function(){return!0},t.login=function(t,r,i){var o,s=n.getOriginRoot(window.location.href),a=n.getOriginRoot(t),u=window.navigator.userAgent.indexOf("MSIE")>=0||window.navigator.userAgent.indexOf("Trident")>=0,c=u&&e(a,s),l=u?"iframe":"postMessage";if(t+="?completion_type="+l+"&completion_origin="+encodeURIComponent(s),!(s&&(0===s.indexOf("http:")||0===s.indexOf("https:"))))return o="Login is only supported from http:// or https:// URLs. Please host your page in a web server.",void i(o,null);var f=window.open(t,"_blank","location=no"),h=function(t,e){window.clearInterval(p),f.close(),window.removeEventListener?window.removeEventListener("message",d):window.detachEvent("onmessage",d),c&&c.parentNode.removeChild(c),i(t,e)},d=function(t){var e,n=u?c.contentWindow:f;if(t.source===n){try{e=JSON.parse(t.data)}catch(r){return}e&&"LoginCompleted"===e.type&&(e.oauth||e.error)&&h(e.error,e.oauth)}},p=window.setInterval(function(){f&&f.closed===!0&&h("canceled",null)},250);return window.addEventListener?window.addEventListener("message",d,!1):window.attachEvent("onmessage",d),{cancelCallback:function(){return h("canceled",null),!0}}}},t.CordovaPopup=function(t){function e(){return window.cordova&&window.cordova.version}function n(){var t=e().match(/^(\d+).(\d+)./);if(t){var n=Number(t[1]),r=Number(t[2]),i=a;return n>i.major||n===i.major&&r>=i.minor}return!1}function r(){return!window.open}function i(t){var e=o(t,"#token="),n=o(t,"#error=");return{oAuthToken:e?JSON.parse(e):null,
error:n}}function o(t,e){var n=t.indexOf(e);return n<0?null:decodeURIComponent(t.substring(n+e.length))}function s(){for(var t=("webkitTransform"in document.documentElement.style?"-webkit-":""),e=12,n="",r=0;r<e;r++)n+="<div style='-prefix-transform: rotateZ("+(180+360*r/e)+"deg);-prefix-animation-delay: "+.75*r/e+"s;'></div>";return["<!DOCTYPE html><html>","<head><meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1'></head>","<body><div id='spinner'>"+n+"</div>","<style type='text/css'>","    #spinner { position: absolute; top: 50%; left: 50%; -prefix-animation: spinner 10s linear infinite; }","    #spinner > div {","        background: #333; opacity: 0; position: absolute; top: 11px; left: -2px; width: 4px; height: 21px; border-radius: 2px;","        -prefix-transform-origin: 50% -11px; -prefix-animation: spinner-spoke 0.75s linear infinite;","    }","    @-prefix-keyframes spinner { 0% { -prefix-transform: rotateZ(0deg); } 100% { -prefix-transform: rotateZ(-360deg); } }","    @-prefix-keyframes spinner-spoke { 0% { opacity: 0; } 5% { opacity: 1; } 70% { opacity: 0; } 100% { opacity: 0; } }","</style>","</body></html>"].join("").replace(/-prefix-/g,t)}var a={major:3,minor:0};t.supportsCurrentRuntime=function(){return!!e()},t.login=function(t,o,u){var c,l,f,h=e();if(!n(h))throw c="Not a supported version of Cordova. Detected: "+h+". Required: "+a.major+"."+a.minor,new Error(c);if(!r)throw c='A required plugin: "org.apache.cordova.inappbrowser" was not detected.',new Error(c);l="<script>location.href = unescape('"+window.escape(t)+"')</script>",f="data:text/html,"+encodeURIComponent(s()+l),setTimeout(function(){var t=window.open(f,"_blank","location=no"),e=!1,n=function(n){if(!e&&0===n.url.indexOf(o)){e=!0,setTimeout(function(){t.close()},500);var r=i(n.url);u(r.error,r.oAuthToken)}};t.addEventListener("loadstart",n),t.addEventListener("loadstop",n),t.addEventListener("exit",function(){e||(e=!0,u("UserCancelled",null))})},500)}},t.Extensions=function(t){function e(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}var n=require("Validate"),r=require("Platform"),i=t;t.isNull=function(t){return null===t||void 0===t},t.isNullOrZero=function(t){return null===t||void 0===t||0===t||""===t},t.isNullOrEmpty=function(t){return i.isNull(t)||0===t.length},t.format=function(t){var e,r;if(n.isString(t,"message"),!i.isNullOrEmpty(t)&&arguments.length>1)for(e=1;e<arguments.length;e++)for(r="{"+(e-1)+"}";t.indexOf(r)!==-1;)t=t.replace(r,arguments[e]);return t},t.has=function(t,e){return n.notNull(e,"key"),n.isString(e,"key"),!i.isNull(t)&&t.hasOwnProperty(e)},t.hasProperty=function(t,e){for(var n=0;n<e.length;n++)if(i.has(t,e[n]))return!0;return!1},t.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},t.isObject=function(t){return i.isNull(t)||"object"==typeof t&&!i.isDate(t)},t.isValidId=function(t){return!i.isNullOrZero(t)&&(i.isString(t)?!(0===t.length||t.length>255||0===t.trim().length)&&null===t.match(/[+"\/?`\\]|[\u0000-\u001F]|[\u007F-\u009F]|^\.{1,2}$/):!!i.isNumber(t)&&t>0)},t.isString=function(t){return i.isNull(t)||"string"==typeof t},t.isNumber=function(t){return!i.isNull(t)&&"number"==typeof t},t.isBool=function(t){return!i.isNull(t)&&"boolean"==typeof t},t.isDate=function(t){return!i.isNull(t)&&"date"==e(t)},t.toJson=function(t){return r.toJson(t)},t.fromJson=function(e){var n=null;return i.isNullOrEmpty(e)||(n=JSON.parse(e,function(e,n){if(i.isString(n)&&!i.isNullOrEmpty(n)){var r=t.tryParseIsoDateString(n);if(!i.isNull(r))return r}return n})),n},t.createUniqueInstallationId=function(){var t=function(t){return"0000".substring(t.length)+t},e=function(){return t(Math.floor(65536*Math.random()).toString(16))};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},t.mapProperties=function(t,e){var n,r=[];if(!i.isNull(t)){n=null;for(n in t)r.push(e(n,t[n]))}return r},t.pad=function(t,e,r){n.notNull(t,"value"),n.isInteger(e,"length"),n.isString(r,"ch"),n.notNullOrEmpty(r,"ch"),n.length(r,1,"ch");for(var i=t.toString();i.length<e;)i=r+i;return i},t.trimEnd=function(t,e){n.isString(t,"text"),n.notNull(t,"text"),n.isString(e,"ch"),n.notNullOrEmpty("ch","ch"),n.length(e,1,"ch");for(var r=t.length-1;r>=0&&t[r]===e;)r--;return r>=0?t.substr(0,r+1):""},t.trimStart=function(t,e){n.isString(t,"text"),n.notNull(t,"text"),n.isString(e,"ch"),n.notNullOrEmpty(e,"ch"),n.length(e,1,"ch");for(var r=0;r<t.length&&t[r]===e;)r++;return r<t.length?t.substr(r,t.length-r):""},t.compareCaseInsensitive=function(t,e){return i.isString(t)&&!i.isNullOrEmpty(t)&&(t=t.toUpperCase()),i.isString(t)&&!i.isNullOrEmpty(e)&&(e=e.toUpperCase()),t===e},t.url={separator:"/",combinePathSegments:function(){var t,e=[],r=0;for(n.notNullOrEmpty(arguments,"arguments"),r=0;r<arguments.length;r++)t=arguments[r],n.isString(t,i.format("argument[{0}]",r)),0!==r&&(t=i.trimStart(t||"",i.url.separator)),r<arguments.length-1&&(t=i.trimEnd(t||"",i.url.separator)),e.push(t);return e.reduce(function(t,e){return t+i.url.separator+e})},getQueryString:function(e){var r,i,o;n.notNull(e,"parameters"),n.isObject(e,"parameters"),r=[];for(i in e)o=e[i],t.isObject(o)&&(o=t.toJson(o)),r.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return r.join("&")},combinePathAndQuery:function(e,r){return n.notNullOrEmpty(e,"path"),n.isString(e,"path"),i.isNullOrEmpty(r)?e:(n.isString(r,"queryString"),e.indexOf("?")>=0?e+"&"+t.trimStart(r,"?"):e+"?"+t.trimStart(r,"?"))},isAbsoluteUrl:function(t){if(i.isNullOrEmpty(t))return!1;var e=t.substring(0,7).toLowerCase();return"http://"==e||"https:/"==e}},t.tryParseIsoDateString=function(t){return r.tryParseIsoDateString(t)},t.createError=function(t,e){var n,o,s,a={message:r.getResourceString("Extensions_DefaultErrorMessage")};if(a.toString=function(){return a.message},e)if(a.request=e,0===e.status)a.message=r.getResourceString("Extensions_ConnectionFailureMessage");else{n=!1,e.getResponseHeader&&(o=e.getResponseHeader("Content-Type"),o&&(n=o.toLowerCase().indexOf("text")>=0));try{s=JSON.parse(e.responseText),a.message="string"==typeof s?s:s.error||s.description||e.statusText||r.getResourceString("Extensions_DefaultErrorMessage")}catch(u){a.message=n?e.responseText:e.statusText||r.getResourceString("Extensions_DefaultErrorMessage")}}else i.isString(t)&&!i.isNullOrEmpty(t)?a.message=t:i.isNull(t)||(a.exception=t);return a}},t.PostMessageExchange=function(t){function e(){var t=this;t._lastMessageId=0,t._hasListener=!1,t._pendingMessages={}}function r(t){var e=i(t),n=e.port?e.port.toString():null,r="http:"===e.protocol&&"80"===n||"https:"===e.protocol&&"443"===n,o=n&&!r?":"+n:"";return e.protocol+"//"+e.hostname+o}function i(t){var e=n.document.createElement("a");return e.href=t,e}var o=require("Promises"),s=3e5;e.prototype.request=function(t,e,r){var i=this,a=++i._lastMessageId,u={messageId:a,contents:e};return i._ensureHasListener(),new o.Promise(function(e,o){i._pendingMessages[a]={messageId:a,complete:e,error:o,targetWindow:t,origin:r},i._pendingMessages[a].timeoutId=n.setTimeout(function(){var t=i._pendingMessages[a];t&&(delete i._pendingMessages[a],t.error({status:0,statusText:"Timeout",responseText:null}))},s),t.postMessage(JSON.stringify(u),r)})},e.prototype._ensureHasListener=function(){if(!this._hasListener){this._hasListener=!0;var t=this,e=function(){t._handleMessage.apply(t,arguments)};window.addEventListener?window.addEventListener("message",e,!1):window.attachEvent("onmessage",e)}},e.prototype._handleMessage=function(t){var e=this._tryDeserializeMessage(t.data),i=e&&e.messageId,o=i&&this._pendingMessages[i],s=o&&o.targetWindow===t.source&&o.origin===r(t.origin);s&&(n.clearTimeout(o.timeoutId),delete this._pendingMessages[i],o.complete(e.contents))},e.prototype._tryDeserializeMessage=function(t){if(!t||"string"!=typeof t)return null;try{return JSON.parse(t)}catch(e){return null}},t.instance=new e,t.getOriginRoot=r},t.Promises=function(t){!function(t){"use strict";function e(t){this._callbackFrames=[],this._resolutionState=null,this._resolutionValueOrError=null,this._resolveSuccess=r(this._resolveSuccess,this),this._resolveError=r(this._resolveError,this),t&&t(this._resolveSuccess,this._resolveError)}var n={success:{},error:{}},r=function(t,e){return function(){t.apply(e,arguments)}},i=function(t){return t&&"function"==typeof t.then};e.prototype.then=function(t,n){var r={success:t,error:n,chainedPromise:new e};return this._resolutionState?this._invokeCallback(r):this._callbackFrames.push(r),r.chainedPromise},e.prototype._resolveSuccess=function(t){this._resolve(n.success,t)},e.prototype._resolveError=function(t){this._resolve(n.error,t)},e.prototype._resolve=function(t,e){if(!this._resolutionState){this._resolutionState=t,this._resolutionValueOrError=e;for(var n=0,r=this._callbackFrames.length;n<r;n++)this._invokeCallback(this._callbackFrames[n])}},e.prototype._invokeCallback=function(t){var e=this._resolutionState===n.success?t.success:t.error;"function"==typeof e?setTimeout(r(function(){var r,o,s=!0;try{r=e(this._resolutionValueOrError),o=n.success}catch(a){s=!1,r=a,o=n.error}s&&i(r)?r.then(t.chainedPromise._resolveSuccess,t.chainedPromise._resolveError):t.chainedPromise._resolve(o,r)},this),1):t.chainedPromise._resolve(this._resolutionState,this._resolutionValueOrError)},e.prototype.done=function(t,e){return void this.then(t,e).then(null,function(t){setTimeout(function(){throw new Error(t)},1)})},t.Promise=e}(t)},t.Validate=function(t){var e=require("Extensions"),n=require("Platform");t.notNull=function(t,r){if(e.isNull(t))throw e.format(n.getResourceString("Validate_NotNullError"),r||"Value")},t.notNullOrEmpty=function(t,r){if(e.isNullOrEmpty(t))throw e.format(n.getResourceString("Validate_NotNullOrEmptyError"),r||"Value")},t.notNullOrZero=function(t,r){if(e.isNullOrZero(t))throw e.format(n.getResourceString("Validate_NotNullOrEmptyError"),r||"Value")},t.isValidId=function(t,r){if(!e.isValidId(t))throw e.format(n.getResourceString("Validate_InvalidId"),r||"id")},t.isDate=function(r,i){if(t.notNull(r,i),!e.isDate(r))throw e.format(n.getResourceString("Validate_TypeCheckError"),i||"Value","Date",typeof r)},t.isNumber=function(r,i){if(t.notNull(r,i),!e.isNumber(r))throw e.format(n.getResourceString("Validate_TypeCheckError"),i||"Value","Number",typeof r)},t.isValidParametersObject=function(r,i){t.notNull(r,i),t.isObject(r,i);for(var o in r)if(0===o.indexOf("$"))throw e.format(n.getResourceString("Validate_InvalidUserParameter"),i,o)},t.isInteger=function(r,i){if(t.notNull(r,i),t.isNumber(r,i),parseInt(r,10)!==parseFloat(r))throw e.format(n.getResourceString("Validate_TypeCheckError"),i||"Value","number",typeof r)},t.isString=function(t,r){if(!e.isString(t))throw e.format(n.getResourceString("Validate_TypeCheckError"),r||"Value","string",typeof t)},t.isObject=function(t,r){if(!e.isObject(t))throw e.format(n.getResourceString("Validate_TypeCheckError"),r||"Value","object",typeof t)},t.isArray=function(t,r){if(!Array.isArray(t))throw e.format(n.getResourceString("Validate_TypeCheckError"),r||"Value","array",typeof t)},t.length=function(r,i,o){if(t.notNull(r,o),t.isInteger(i,"length"),r.length!==i)throw e.format(n.getResourceString("Validate_LengthUnexpected"),o||"Value",i,r.length)}},t.JavaScript=function(t){(function(){var e,n,r,i,o;o=require("esprima"),e=require("./JavaScriptNodes"),i=require("./PartialEvaluator").PartialEvaluator,r=require("./JavaScriptToQueryVisitor").JavaScriptToQueryVisitor,t.JavaScript=n=function(){function t(){}return t.transformConstraint=function(e,n){var o,s;return o=t.getExpression(e,n),o.expression=i.evaluate(o),s=new r(o),s.visit(o.expression)},t.getProjectedFields=function(){return[]},t.getExpression=function(t,e){var n,r,i,s,a,u,c,l,f,h,d,p,v,m,g,b,y,_,w,S,x,E,C;if(c="var _$$_stmt_$$_ = "+t+";",u=o.parse(c,{range:!0}),r="Program"===(null!=u?u.type:void 0)&&1===(null!=u&&null!=(h=u.body)?h.length:void 0)&&"VariableDeclaration"===(null!=(d=u.body[0])?d.type:void 0)&&1===(null!=(b=u.body[0])&&null!=(y=b.declarations)?y.length:void 0)&&"VariableDeclarator"===(null!=(_=u.body[0].declarations[0])?_.type:void 0)&&"FunctionExpression"===(null!=(w=u.body[0].declarations[0])&&null!=(S=w.init)?S.type:void 0)&&"BlockStatement"===(null!=(x=u.body[0].declarations[0].init)&&null!=(E=x.body)?E.type:void 0)&&1===(null!=(C=u.body[0].declarations[0].init.body)&&null!=(p=C.body)?p.length:void 0)&&"ReturnStatement"===(null!=(v=u.body[0].declarations[0].init.body.body[0])?v.type:void 0)&&(null!=(m=u.body[0].declarations[0].init.body.body[0])?m.argument:void 0),!r)throw"Expected a predicate with a single return statement, not "+t;if(a=null!=(g=u.body[0].declarations[0].init.params)?g.map(function(t){return t.name}):void 0,a.length>e.length)throw"Expected value(s) for parameter(s) "+a.slice(e.length);if(e.length>a.length)throw"Expected parameter(s) for value(s) "+e.slice(a.length);for(n={},i=l=0,f=a.length;l<f;i=++l)s=a[i],n[s]=e[i];return{source:c,expression:r,environment:n}},t}()}).call(this)},t.JavaScriptNodes=function(t){(function(){var e,n,r,i,o,s,a,u,c,l,f,h,d,p,v,m,g,b,y,_,w,S,x,E,C,k,A,$,T,N,O,I,M,R,D,L,j,P,q,B,F,U,H,z,V,W,K,J,X,G,Y,Q={}.hasOwnProperty,Z=function(t,e){function n(){this.constructor=t}for(var r in e)Q.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Y=require("./Node"),O=Y.Node,J=Y.Visitor,t.JavaScriptNode=E=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(O),t.JavaScriptVisitor=C=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e.prototype.JavaScriptNode=function(t){return t},e}(J),t.Program=D=function(t){function e(t){this.elements=t,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.Program=function(t){return t=this.JavaScriptNode(t),t.elements=this.visit(t.elements),t},t.Function=y=function(t){function e(t,n,r){this.id=t,this.params=n,this.body=r,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.Function=function(t){return t=this.JavaScriptNode(t),t.id=this.visit(t.id),t.params=this.visit(t.params),t.body=this.visit(t.body),t},t.Statement=P=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.Statement=function(t){return this.JavaScriptNode(t)},t.EmptyStatement=p=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.EmptyStatement=function(t){return this.JavaScriptNode(t)},t.BlockStatement=o=function(t){function e(t){this.body=t,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.BlockStatement=function(t){return t=this.Statement(t),t.body=this.visit(t.body),t},t.ExpressionStatement=m=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ExpressionStatement=function(t){return this.Statement(t)},t.IfStatement=x=function(t){function e(t,n,r){this.test=t,this.consequent=n,this.alternate=r,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.IfStatement=function(t){return t=this.Statement(t),t.test=this.visit(t.test),t.consequent=this.visit(t.consequent),t.alternate=this.visit(t.alternate),t},t.LabeledStatement=k=function(t){function e(t,n){this.label=t,this.body=n,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.LabeledStatement=function(t){return t=this.Statement(t),t.label=this.visit(t.label),t.body=this.visit(t.body),t},t.BreakStatement=s=function(t){function e(t){this.label=t,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.BreakStatement=function(t){return t=this.Statement(t),t.label=this.visit(t.label),t},t.ContinueStatement=l=function(t){function e(t){this.label=t,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ContinueStatement=function(t){return t=this.Statement(t),t.label=this.visit(t.label),t},t.WithStatement=G=function(t){function e(t,n){this.object=t,this.body=n,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.WithStatement=function(t){return t=this.Statement(t),t.object=this.visit(t.object),t.body=this.visit(t.body),t},t.SwitchStatement=B=function(t){function e(t,n){this.discriminant=t,this.cases=n,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.SwitchStatement=function(t){return t=this.Statement(t),t.discriminant=this.visit(t.discriminant),t.cases=this.visit(t.cases),t},t.ReturnStatement=L=function(t){function e(t){this.argument=t,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ReturnStatement=function(t){return t=this.Statement(t),t.argument=this.visit(t.argument),t},t.ThrowStatement=U=function(t){function e(t){this.argument=t,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ThrowStatement=function(t){return t=this.Statement(t),t.argument=this.visit(t.argument),t},t.TryStatement=H=function(t){function e(t,n,r){this.block=t,this.handlers=n,this.finalizer=r,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.TryStatement=function(t){return t=this.Statement(t),t.block=this.visit(t.block),t.handlers=this.visit(t.handlers),t.finalizer=this.visit(t.finalizer),t},t.WhileStatement=X=function(t){function e(t,n){this.test=t,this.body=n,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.WhileStatement=function(t){return t=this.Statement(t),t.test=this.visit(t.test),t.body=this.visit(t.body),t},t.DoWhileStatement=d=function(t){function e(t,n){this.body=t,this.test=n,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.DoWhileStatement=function(t){return t=this.Statement(t),t.body=this.visit(t.body),t.test=this.visit(t.test),t},t.ForStatement=b=function(t){function e(t,n,r,i){this.init=t,this.test=n,this.update=r,this.body=i,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ForStatement=function(t){return t=this.Statement(t),t.init=this.visit(t.init),t.test=this.visit(t.test),t.update=this.visit(t.update),t.body=this.visit(t.body),t},t.ForInStatement=g=function(t){function e(t,n,r){this.left=t,this.right=n,this.body=r,e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.ForInStatement=function(t){return t=this.Statement(t),t.left=this.visit(t.left),t.right=this.visit(t.right),t.body=this.visit(t.body),t},t.DebuggerStatement=f=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.DebuggerStatement=function(t){return this.Statement(t)},t.Declaration=h=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(P),C.prototype.Declaration=function(t){return this.Statement(t)},t.FunctionDeclaration=_=function(t){function e(t,n,r){this.id=t,this.params=n,this.body=r,e.__super__.constructor.call(this)}return Z(e,t),e}(h),C.prototype.FunctionDeclaration=function(t){return t=this.Declaration(t),t.id=this.visit(t.id),t.params=this.visit(t.params),t.body=this.visit(t.body),t},t.VariableDeclaration=W=function(t){function e(t,n){this.declarations=t,this.kind=n,e.__super__.constructor.call(this)}return Z(e,t),e}(h),C.prototype.VariableDeclaration=function(t){return t=this.Declaration(t),t.declarations=this.visit(t.declarations),t},t.VariableDeclarator=K=function(t){function e(t,n){this.id=t,this.init=n,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.VariableDeclarator=function(t){return t=this.JavaScriptNode(t),t.id=this.visit(t.id),t.init=this.visit(t.init),t},t.Expression=v=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Z(e,t),e.prototype.constuctor=function(){return e.__super__.constuctor.call(this)},e}(E),C.prototype.Expression=function(t){return this.JavaScriptNode(t)},t.ThisExpression=F=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.ThisExpression=function(t){return this.Expression(t)},t.ArrayExpression=e=function(t){function e(t){this.elements=t,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.ArrayExpression=function(t){return t=this.Expression(t),t.elements=this.visit(t.elements),t},t.ObjectExpression=I=function(t){function e(t){this.properties=t,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.ObjectExpression=function(t){var e,n,r,i;for(t=this.Expression(t),i=t.properties,n=0,r=i.length;n<r;n++)e=i[n],e.key=this.visit(e.key),e.value=this.visit(e.value);return t},t.FunctionExpression=w=function(t){function e(t,n,r){this.id=t,this.params=n,this.body=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.FunctionExpression=function(t){return t=this.Expression(t),t.id=this.visit(t.id),t.params=this.visit(t.params),t.body=this.visit(t.body),t},t.SequenceExpression=j=function(t){function e(t){this.expressions=t,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.SequenceExpression=function(t){return t=this.Expression(t),t.expressions=this.visit(t.expressions),t},t.UnaryExpression=z=function(t){function e(t,n,r){this.operator=t,this.prefix=n,this.argument=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.UnaryExpression=function(t){return t=this.Expression(t),t.argument=this.visit(t.argument),t},t.BinaryExpression=i=function(t){function e(t,n,r){this.operator=t,this.left=n,this.right=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.BinaryExpression=function(t){return t=this.Expression(t),t.left=this.visit(t.left),t.right=this.visit(t.right),t},t.AssignmentExpression=r=function(t){function e(t,n,r){this.operator=t,this.left=n,this.right=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.AssignmentExpression=function(t){return t=this.Expression(t),t.left=this.visit(t.left),t.right=this.visit(t.right),t},t.UpdateExpression=V=function(t){function e(t,n,r){this.operator=t,this.argument=n,this.prefix=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.UpdateExpression=function(t){return t=this.Expression(t),t.argument=this.visit(t.argument),t},t.LogicalExpression=$=function(t){function e(t,n,r){this.operator=t,this.left=n,this.right=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.LogicalExpression=function(t){return t=this.Expression(t),t.left=this.visit(t.left),t.right=this.visit(t.right),t},t.ConditionalExpression=c=function(t){function e(t,n,r){this.test=t,this.alternate=n,this.consequent=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.ConditionalExpression=function(t){return t=this.Expression(t),t.test=this.visit(t.test),t.alternate=this.visit(t.alternate),t.consequent=this.visit(t.consequent),t},t.NewExpression=N=function(t){function e(t,n){this.callee=t,this.arguments=n,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.NewExpression=function(t){return t=this.Expression(t),t.callee=this.visit(t.callee),t.arguments=this.visit(t.arguments),t},t.CallExpression=a=function(t){function e(t,n){this.callee=t,this.arguments=n,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.CallExpression=function(t){return t=this.Expression(t),t.callee=this.visit(t.callee),t.arguments=this.visit(t.arguments),t},t.MemberExpression=T=function(t){function e(t,n,r){this.object=t,this.property=n,this.computed=r,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.MemberExpression=function(t){return t=this.Expression(t),t.object=this.visit(t.object),t.property=this.visit(t.property),t},t.Pattern=R=function(t){function e(){e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.Pattern=function(t){return this.JavaScriptNode(t)},t.ObjectPattern=M=function(t){function e(t){this.properties=t,e.__super__.constructor.call(this)}return Z(e,t),e}(R),C.prototype.ObjectPattern=function(t){var e,n,r,i;for(t=this.Pattern(t),i=t.properties,n=0,r=i.length;n<r;n++)e=i[n],e.key=this.visit(e.key),e.value=this.visit(e.value);return t},t.ArrayPattern=n=function(t){function e(t){this.elements=t,e.__super__.constructor.call(this)}return Z(e,t),e}(R),C.prototype.ArrayPattern=function(t){return t=this.Pattern(t),t.elements=this.visit(t.elements),t},t.SwitchCase=q=function(t){function e(t,n){this.test=t,this.consequent=n,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.SwitchCase=function(t){return t=this.JavaScriptNode(t),t.test=this.visit(t.test),t.consequent=this.visit(t.consequent),t},t.CatchClause=u=function(t){function e(t,n){this.param=t,this.body=n,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.CatchClause=function(t){return t=this.JavaScriptNode(t),t.param=this.visit(t.param),t.body=this.visit(t.body),t},t.Identifier=S=function(t){function e(t){this.name=t,e.__super__.constructor.call(this)}return Z(e,t),e}(E),C.prototype.Identifier=function(t){return this.JavaScriptNode(t)},t.Literal=A=function(t){function e(t){this.value=t,e.__super__.constructor.call(this)}return Z(e,t),e}(v),C.prototype.Literal=function(t){return this.Expression(t)}}).call(this)},t.JavaScriptToQueryVisitor=function(t){(function(){var e,n,r,i,o={}.hasOwnProperty,s=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};i=require("./Utilities"),e=require("./JavaScriptNodes"),r=require("./QueryNodes"),t.JavaScriptToQueryVisitor=n=function(t){function e(t){this.context=t}return s(e,t),e.prototype.getSource=function(t){var e,n;return this.context.source.slice(null!=t&&null!=(e=t.range)?e[0]:void 0,+((null!=t&&null!=(n=t.range)?n[1]:void 0)-1)+1||9e9)},e.prototype.invalid=function(t){throw"The expression '"+this.getSource(t)+"'' is not supported."},e.prototype.translateUnary=function(t,e){var n,i;return n=e[t.operator],n?(i=this.visit(t.argument),new r.UnaryExpression(n,i)):null},e.prototype.translateBinary=function(t,e){var n,i,o;return i=e[t.operator],i?(n=this.visit(t.left),o=this.visit(t.right),new r.BinaryExpression(i,n,o)):null},e.prototype.visit=function(t){var n;return n=e.__super__.visit.call(this,t),t===n&&this.invalid(t),n},e.prototype.MemberExpression=function(t){var n;return n=function(){var e,n,i,o;return"ThisExpression"===(null!=t&&null!=(e=t.object)?e.type:void 0)&&"Identifier"===(null!=t&&null!=(n=t.property)?n.type:void 0)?new r.MemberExpression(t.property.name):"MemberExpression"===(null!=t&&null!=(i=t.object)?i.type:void 0)&&"ThisExpression"===(null!=(o=t.object.object)?o.type:void 0)&&"Identifier"===t.property.type&&"length"===t.property.name?new r.InvocationExpression(r.Methods.Length,new r.MemberExpression(t.object.property.name)):void 0}(),null!=n?n:e.__super__.MemberExpression.call(this,t)},e.prototype.Literal=function(t){return new r.ConstantExpression(t.value)},e.prototype.UnaryExpression=function(t){var n,i;return"+"===t.operator?this.visit(t.argument):(n={"!":r.UnaryOperators.Not,"-":r.UnaryOperators.Negate},null!=(i=this.translateUnary(t,n))?i:e.__super__.UnaryExpression.call(this,t))},e.prototype.UpdateExpression=function(t){var n,i;return n={"++":r.UnaryOperators.Increment,"--":r.UnaryOperators.Decrement},null!=(i=this.translateUnary(t,n))?i:e.__super__.UpdateExpression.call(this,t)},e.prototype.LogicalExpression=function(t){var n,i;return n={"&&":r.BinaryOperators.And,"||":r.BinaryOperators.Or},null!=(i=this.translateBinary(t,n))?i:e.__super__.LogicalExpression.call(this,t)},e.prototype.BinaryExpression=function(t){var n,o,s,a,u,c,l;return s={"+":r.BinaryOperators.Add,"-":r.BinaryOperators.Subtract,"*":r.BinaryOperators.Multiply,"/":r.BinaryOperators.Divide,"%":r.BinaryOperators.Modulo,">":r.BinaryOperators.GreaterThan,">=":r.BinaryOperators.GreaterThanOrEqual,"<":r.BinaryOperators.LessThan,"<=":r.BinaryOperators.LessThanOrEqual,"!=":r.BinaryOperators.NotEqual,"!==":r.BinaryOperators.NotEqual,"==":r.BinaryOperators.Equal,"===":r.BinaryOperators.Equal},function(){var f,h;return null!=(l=this.translateBinary(t,s))?l:"in"===t.operator&&"Literal"===(null!=(f=t.right)?f.type:void 0)&&i.isArray(null!=(h=t.right)?h.value:void 0)?t.right.value.length>0?(o=this.visit(t.left),r.QueryExpression.groupClauses(r.BinaryOperators.Or,function(){var e,s,l,f;for(l=t.right.value,f=[],e=0,s=l.length;e<s;e++){if(c=l[e],i.isObject(c)){if(a=function(){var t=[];for(n in c)u=c[n],t.push(u);return t}(),1!==(null!=a?a.length:void 0))throw"in operator requires comparison objects with a single field, not "+c+" ("+JSON.stringify(c)+"), for expression '"+this.getSource(t)+"'";c=a[0]}f.push(new r.BinaryExpression(r.BinaryOperators.Equal,o,new r.ConstantExpression(c)))}return f}.call(this))):new r.BinaryExpression(r.BinaryOperators.Equal,new r.ConstantExpression((!0)),new r.ConstantExpression((!1))):e.__super__.BinaryExpression.call(this,t)}.call(this)},e.prototype.CallExpression=function(t){var n,i,o,s,a,u,c;return o=function(e){return function(n){var r;if(1!==(null!=(r=t.arguments)?r.length:void 0))throw"Function "+n+" expects one argument in expression '"+e.getSource(t)+"'";return e.visit(t.arguments[0])}}(this),s=function(e){return function(n,r){var i;if(2!==(null!=(i=t.arguments)?i.length:void 0))throw"Function "+r+" expects two arguments in expression '"+e.getSource(t)+"'";return[n,e.visit(t.arguments[0]),e.visit(t.arguments[1])]}}(this),i=null!=t&&null!=(c=t.callee)?c.value:void 0,n=function(){var e,n,c,l,f,h,d;if(i===Math.floor)return new r.InvocationExpression(r.Methods.Floor,[o("floor")]);if(i===Math.ceil)return new r.InvocationExpression(r.Methods.Ceiling,[o("ceil")]);if(i===Math.round)return new r.InvocationExpression(r.Methods.Round,[o("round")]);if("MemberExpression"===t.callee.type&&(null!=(e=t.callee.object)?e.__hasThisExp:void 0)===!0){if(a="CallExpression"===(null!=t&&null!=(n=t.callee)&&null!=(c=n.object)?c.type:void 0)?this.visit(t.callee.object):new r.MemberExpression(null!=(l=t.callee.object)&&null!=(f=l.property)?f.name:void 0),u=null!=(h=t.callee)&&null!=(d=h.property)?d.name:void 0,"toUpperCase"===u)return new r.InvocationExpression(r.Methods.ToUpperCase,[a]);if("toLowerCase"===u)return new r.InvocationExpression(r.Methods.ToLowerCase,[a]);if("trim"===u)return new r.InvocationExpression(r.Methods.Trim,[a]);if("indexOf"===u)return new r.InvocationExpression(r.Methods.IndexOf,[a,o("indexOf")]);if("concat"===u)return new r.InvocationExpression(r.Methods.Concat,[a,o("concat")]);if("substring"===u||"substr"===u)return new r.InvocationExpression(r.Methods.Substring,s(a,"substring"));if("replace"===u)return new r.InvocationExpression(r.Methods.Replace,s(a,"replace"));if("getFullYear"===u||"getUTCFullYear"===u)return new r.InvocationExpression(r.Methods.Year,[a]);if("getYear"===u)return new r.BinaryExpression(r.BinaryOperators.Subtract,new r.InvocationExpression(r.Methods.Year,[a]),new r.ConstantExpression(1900));if("getMonth"===u||"getUTCMonth"===u)return new r.BinaryExpression(r.BinaryOperators.Subtract,new r.InvocationExpression(r.Methods.Month,[a]),new r.ConstantExpression(1));if("getDate"===u||"getUTCDate"===u)return new r.InvocationExpression(r.Methods.Day,[a])}}.call(this),null!=n?n:e.__super__.CallExpression.call(this,t)},e}(e.JavaScriptVisitor)}).call(this)},t.Node=function(t){(function(){var e,n,r;r=require("./Utilities"),t.Node=e=function(){function t(){this.type=r.functionName(this.constructor)}return t.prototype.type="Node",t}(),t.Visitor=n=function(){function t(){}return t.prototype.visit=function(t){var e,n,i,o;if(r.isArray(t)){for(o=[],n=0,i=t.length;n<i;n++)e=t[n],o.push(this.visit(e));return o}if(null!=t?t.type:void 0){if(r.isFunction(this[t.type]))return this[t.type](t);throw"Unsupported expression "+this.getSource(t)}return t},t.prototype.getSource=function(){return null},t}()}).call(this)},t.ODataProvider=function(t){(function(){var e,n,r,i,o,s={}.hasOwnProperty,a=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=require("./Utilities"),r=require("./QueryNodes"),i=require("./Query").Query,t.ODataProvider=n=function(){function t(){}return t.prototype.toQuery=function(t){var e,n,r;return e=this.toOData(t,!0),r="/"+e.table,n="?",e.filters&&(r+=""+n+"$filter="+e.filters,
n="&"),e.ordering&&(r+=""+n+"$orderby="+e.ordering,n="&"),e.skip&&(r+=""+n+"$skip="+e.skip,n="&"),(e.take||0===e.take)&&(r+=""+n+"$top="+e.take,n="&"),e.selections&&(r+=""+n+"$select="+e.selections,n="&"),e.includeTotalCount&&(r+=""+n+"$inlinecount=allpages"),r},t.prototype.toOData=function(t,n){var r,i,o,s,a,u;return null==n&&(n=!1),i=null!=(a=null!=t?t.getComponents():void 0)?a:{},s=function(){var t,e;t=null!=i?i.ordering:void 0,e=[];for(o in t)r=t[o],e.push(r?o:""+o+" desc");return e}(),{table:null!=i?i.table:void 0,filters:e.convert(i.filters,n),ordering:null!=s?s.toString():void 0,skip:null!=i?i.skip:void 0,take:null!=i?i.take:void 0,selections:null!=i&&null!=(u=i.selections)?u.toString():void 0,includeTotalCount:null!=i?i.includeTotalCount:void 0}},t.prototype.fromOData=function(t,e,n,r,o,s,a){var u,c,l,f,h,d,p,v,m,g,b,y;for(f=new i(t),e&&f.where(e),(r||0===r)&&f.skip(r),(o||0===o)&&f.take(o),a&&f.includeTotalCount(),g=null!=(m=null!=s?s.split(","):void 0)?m:[],h=0,p=g.length;h<p;h++)c=g[h],f.select(c.trim());for(b=function(){var t,e,r,i,o;for(i=null!=(r=null!=n?n.split(","):void 0)?r:[],o=[],t=0,e=i.length;t<e;t++)l=i[t],o.push(l.trim().split(" "));return o}(),d=0,v=b.length;d<v;d++)y=b[d],c=y[0],u=y[1],"DESC"!==(null!=u?u.toUpperCase():void 0)?f.orderBy(c):f.orderByDescending(c);return f},t}(),e=function(t){function e(t){this.encodeForUri=t}return a(e,t),e.convert=function(t,n){var r,i;return r=new e(n),null!=(i=t?r.visit(t):void 0)?i:null},e.prototype.toOData=function(t){var e;if(o.isNumber(t)||o.isBoolean(t))return t.toString();if(o.isString(t))return t=t.replace(/'/g,"''"),null!=this.encodeForUri&&this.encodeForUri===!0&&(t=encodeURIComponent(t)),"'"+t+"'";if(o.isDate(t))return e=JSON.stringify(t),e.length>2&&(e=e.slice(1,+(e.length-2)+1||9e9)),e=e.replace(/(T\d{2}:\d{2}:\d{2})Z$/,function(e,n){var r;return r=String(t.getMilliseconds()+1e3).substring(1),""+n+"."+r+"Z"}),"datetime'"+e+"'";if(t)throw"Unsupported literal value "+t;return"null"},e.prototype.ConstantExpression=function(t){return this.toOData(t.value)},e.prototype.MemberExpression=function(t){return t.member},e.prototype.UnaryExpression=function(t){if(t.operator===r.UnaryOperators.Not)return"not "+this.visit(t.operand);if(t.operator===r.UnaryOperators.Negate)return"(0 sub "+this.visit(t.operand)+")";throw"Unsupported operator "+t.operator},e.prototype.BinaryExpression=function(t){var e,n;if(e={And:"and",Or:"or",Add:"add",Subtract:"sub",Multiply:"mul",Divide:"div",Modulo:"mod",GreaterThan:"gt",GreaterThanOrEqual:"ge",LessThan:"lt",LessThanOrEqual:"le",NotEqual:"ne",Equal:"eq"},n=e[t.operator])return"("+this.visit(t.left)+" "+n+" "+this.visit(t.right)+")";throw"Unsupported operator "+t.operator},e.prototype.InvocationExpression=function(t){var e,n;if(e={Length:"length",ToUpperCase:"toupper",ToLowerCase:"tolower",Trim:"trim",IndexOf:"indexof",Replace:"replace",Substring:"substring",Concat:"concat",Day:"day",Month:"month",Year:"year",Floor:"floor",Ceiling:"ceiling",Round:"round"},n=e[t.method])return""+n+"("+this.visit(t.args)+")";throw"Invocation of unsupported method "+t.method},e.prototype.LiteralExpression=function(t){var e,n,r,i,o,s;for(r="",n=!1,s=t.queryString,i=0,o=s.length;i<o;i++)if(e=s[i],n)r+=e,n="'"!==e;else if("?"===e){if(!t.args||t.args.length<=0)throw"Too few arguments for "+t.queryString+".";r+=this.toOData(t.args.shift())}else"'"===e?(r+=e,n=!0):r+=e;if(t.args&&t.args.length>0)throw"Too many arguments for "+t.queryString;return r},e}(r.QueryExpressionVisitor)}).call(this)},t.PartialEvaluator=function(n){(function(){var r,t,f,i,e={}.hasOwnProperty,u=function(t,n){function r(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};i=require("./Utilities"),t=require("./JavaScriptNodes"),n.PartialEvaluator=f=function(n){function PartialEvaluator(t){this.context=t}return u(PartialEvaluator,n),PartialEvaluator.prototype.visit=function(n){var i,u,f,e,r,o,s,h,c,l;return n.__independent&&"Literal"!==n.type&&n.type?"Identifier"===n.type&&this.context.environment[n.name]?new t.Literal(this.context.environment[n.name]):(f=this.context.source.slice(null!=n&&null!=(s=n.range)?s[0]:void 0,+((null!=n&&null!=(h=n.range)?h[1]:void 0)-1)+1||9e9),u=null!=(c=function(){var t,e;t=this.context.environment,e=[];for(i in t)r=t[i],e.push(i);return e}.call(this))?c:[],o=null!=(l=function(){var t,e;t=this.context.environment,e=[];for(i in t)r=t[i],e.push(JSON.stringify(r));return e}.call(this))?l:[],e="(function("+u+") { return "+f+"; })("+o+")",r=eval(e),new t.Literal(r)):PartialEvaluator.__super__.visit.call(this,n)},PartialEvaluator.evaluate=function(t){var e,n;return n=new r(t),n.visit(t.expression),e=new PartialEvaluator(t),e.visit(t.expression)},PartialEvaluator}(t.JavaScriptVisitor),n.IndependenceNominator=r=function(t){function e(t){this.context=t}return u(e,t),e.prototype.Literal=function(t){return e.__super__.Literal.call(this,t),t.__independent=!0,t.__hasThisExp=!1,t},e.prototype.ThisExpression=function(t){return e.__super__.ThisExpression.call(this,t),t.__independent=!1,t.__hasThisExp=!0,t},e.prototype.Identifier=function(t){return e.__super__.Identifier.call(this,t),t.__independent=!0,t.__hasThisExp=!1,t},e.prototype.MemberExpression=function(t){var n;return e.__super__.MemberExpression.call(this,t),t.__hasThisExp=null!=(n=t.object)?n.__hasThisExp:void 0,t.__hasThisExp&&(t.__independent=!1,null!=t&&(t.property.__independent=!1)),t},e.prototype.CallExpression=function(t){return e.__super__.CallExpression.call(this,t),t.__hasThisExp=t.callee.__hasThisExp,t},e.prototype.ObjectExpression=function(t){var n,r,i,o,s,a,u,c;for(e.__super__.ObjectExpression.call(this,t),u=t.properties,i=0,s=u.length;i<s;i++)r=u[i],r.key.__independent=!1;for(n=!0,c=t.properties,o=0,a=c.length;o<a;o++)r=c[o],n&=r.value.__independent;return t.__independent=!!n,t},e.prototype.visit=function(t){var n,r,o,s,a,u,c;if(e.__super__.visit.call(this,t),!Object.prototype.hasOwnProperty.call(t,"__independent")){n=!0,r=function(t){var e;return!i.isObject(t)||null!=(e=a.__independent)&&e};for(o in t)if(a=t[o],i.isArray(a))for(u=0,c=a.length;u<c;u++)s=a[u],n&=r(s);else i.isObject(a)&&(n&=r(a));t.__independent=!!n}return t},e}(t.JavaScriptVisitor)}).call(this)},t.Query=function(t){(function(){var e,n,r,i,o,s=[].slice;o=require("./Utilities"),r=require("./QueryNodes"),e=require("./JavaScript").JavaScript,t.Query=i=function(){function t(t,n){var i,a,u,c,l,f,h,d,p,v;if(!t||!o.isString(t))throw"Expected the name of a table!";d=t,i=n,a=null,l=null,f=[],c={},h=null,p=null,u=!1,v=0,this.getComponents=function(){return{filters:a,selections:f,projection:l,ordering:c,skip:h,take:p,table:d,context:i,includeTotalCount:u,version:v}},this.setComponents=function(t){var e,n,r,o,s,m,g,b,y;return v++,a=null!=(e=null!=t?t.filters:void 0)?e:null,f=null!=(n=null!=t?t.selections:void 0)?n:[],l=null!=(r=null!=t?t.projection:void 0)?r:null,c=null!=(o=null!=t?t.ordering:void 0)?o:{},h=null!=(s=null!=t?t.skip:void 0)?s:null,p=null!=(m=null!=t?t.take:void 0)?m:null,u=null!=(g=null!=t?t.includeTotalCount:void 0)&&g,d=null!=(b=null!=t?t.table:void 0)?b:null,i=null!=(y=null!=t?t.context:void 0)?y:null,this},this.where=function(){var t,n,i,u,c;return n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],v++,i=function(){if(o.isFunction(n))return e.transformConstraint(n,t);if(o.isObject(n))return r.QueryExpression.groupClauses(r.BinaryOperators.And,function(){var t=[];for(u in n)c=n[u],t.push(i=new r.BinaryExpression(r.BinaryOperators.Equal,new r.MemberExpression(u),new r.ConstantExpression(c)));return t}());if(o.isString(n))return new r.LiteralExpression(n,t);throw"Expected a function, object, or string, not "+n}(),a=r.QueryExpression.groupClauses(r.BinaryOperators.And,[a,i]),this},this.select=function(){var t,n,r,i,a;if(r=arguments[0],n=2<=arguments.length?s.call(arguments,1):[],v++,o.isString(r))for(f.push(r),i=0,a=n.length;i<a;i++){if(t=n[i],!o.isString(t))throw"Expected string parameters, not "+t;f.push(t)}else{if(!o.isFunction(r))throw"Expected a string or a function, not "+r;l=r,f=e.getProjectedFields(l)}return this},this.orderBy=function(){var t,e,n,r;for(e=1<=arguments.length?s.call(arguments,0):[],v++,n=0,r=e.length;n<r;n++){if(t=e[n],!o.isString(t))throw"Expected string parameters, not "+t;c[t]=!0}return this},this.orderByDescending=function(){var t,e,n,r;for(e=1<=arguments.length?s.call(arguments,0):[],v++,n=0,r=e.length;n<r;n++){if(t=e[n],!o.isString(t))throw"Expected string parameters, not "+t;c[t]=!1}return this},this.skip=function(t){if(v++,!o.isNumber(t))throw"Expected a number, not "+t;return h=t,this},this.take=function(t){if(v++,!o.isNumber(t))throw"Expected a number, not "+t;return p=t,this},this.includeTotalCount=function(){return v++,u=!0,this}}return t.registerProvider=function(e,n){return t.Providers[e]=n,t.prototype["to"+e]=function(){if(null!=n)return"function"==typeof n.toQuery?n.toQuery(this):void 0}},t.Providers={},t.Expressions=r,t}(),n=require("./ODataProvider").ODataProvider,i.registerProvider("OData",new n)}).call(this)},t.QueryNodes=function(t){(function(){var e,n,r,i,o,s,a,u,c,l,f,h={}.hasOwnProperty,d=function(t,e){function n(){this.constructor=t}for(var r in e)h.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};f=require("./Node"),s=f.Node,l=f.Visitor,t.QueryExpression=a=function(t){function n(){n.__super__.constructor.call(this)}return d(n,t),n.groupClauses=function(t,n){var r;return r=function(n,r){return n?r?new e(t,n,r):n:r},n.reduce(r,null)},n}(s),t.QueryExpressionVisitor=u=function(t){function e(){e.__super__.constructor.call(this)}return d(e,t),e.prototype.QueryExpression=function(t){return t},e}(l),t.ConstantExpression=n=function(t){function e(t){this.value=t,e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.ConstantExpression=function(t){return this.QueryExpression(t)},t.MemberExpression=o=function(t){function e(t){this.member=t,e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.MemberExpression=function(t){return this.QueryExpression(t)},t.BinaryExpression=e=function(t){function e(t,n,r){this.operator=t,this.left=n,this.right=r,e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.BinaryExpression=function(t){return t=this.QueryExpression(t),t.left=this.visit(t.left),t.right=this.visit(t.right),t},t.BinaryOperators={And:"And",Or:"Or",Add:"Add",Subtract:"Subtract",Multiply:"Multiply",Divide:"Divide",Modulo:"Modulo",GreaterThan:"GreaterThan",GreaterThanOrEqual:"GreaterThanOrEqual",LessThan:"LessThan",LessThanOrEqual:"LessThanOrEqual",NotEqual:"NotEqual",Equal:"Equal"},t.UnaryExpression=c=function(t){function e(t,n){this.operator=t,this.operand=n,e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.UnaryExpression=function(t){return t=this.QueryExpression(t),t.operand=this.visit(t.operand),t},t.UnaryOperators={Not:"Not",Negate:"Negate",Increment:"Increment",Decrement:"Decrement"},t.InvocationExpression=r=function(t){function e(t,n){this.method=t,this.args=n,e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.InvocationExpression=function(t){return t=this.QueryExpression(t),t.args=this.visit(t.args),t},t.Methods={Length:"Length",ToUpperCase:"ToUpperCase",ToLowerCase:"ToLowerCase",Trim:"Trim",IndexOf:"IndexOf",Replace:"Replace",Substring:"Substring",Concat:"Concat",Day:"Day",Month:"Month",Year:"Year",Floor:"Floor",Ceiling:"Ceiling",Round:"Round"},t.LiteralExpression=i=function(t){function e(t,n){this.queryString=t,this.args=null!=n?n:[],e.__super__.constructor.call(this)}return d(e,t),e}(a),u.prototype.LiteralExpression=function(t){return this.QueryExpression(t)}}).call(this)},t.Utilities=function(t){(function(){var e,n=[].slice;e=function(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},null==Array.prototype.reduce&&(Array.prototype.reduce=function(){var t,e,r,i,o,s;if(t=arguments[0],s=2<=arguments.length?n.call(arguments,1):[],e=this,r=e.length,i=0,o=void 0,null==e)throw new TypeError("Object is null or undefined");if("function"!=typeof t)throw new TypeError("First argument is not callable");if(0===s.length){if(0===r)throw new TypeError("Array length is 0 and no second argument");o=e[0],i=1}else o=s[0];for(;i<r;)i in e&&(o=t.call(void 0,o,e[i],e)),++i;return o}),null==Array.prototype.map&&(Array.prototype.map=function(t,e){var n,r,i,o,s,a,u;if("undefined"==typeof this||null===this)throw new TypeError("this is null or not defined");if("function"!=typeof t)throw new TypeError(t+" is not a function");for(e=e?e:void 0,i=Object(this),o=i.length>>>0,s=new Array(o),r=a=0,u=i.length;a<u;r=++a)n=i[r],r in i&&(s[r]=t.call(e,n,r,i));return s}),null==Array.isArray&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),t.isObject=function(t){return"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()},t.isString=function(t){return"string"==typeof t},t.isFunction=function(t){return"function"==typeof t},t.isArray=Array.isArray,t.isNumber=function(t){return"number"==typeof t},t.isBoolean=function(t){return"boolean"==typeof t},t.isDate=function(t){return"date"===e(t)},t.functionName=function(t){var e,n,r;return"function"==typeof Function.prototype.name?Function.prototype.name.call(t):(r=t.toString(),n="function ",r.slice(0,+(n.length-1)+1||9e9)===n&&(e=r.indexOf("(",n.length),e>n.length)?r.slice(n.length,+(e-1)+1||9e9):null)}}).call(this)},t.esprima=function(t){!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["exports"],n):n("undefined"!=typeof t?t:e.esprima={})}(this,function(t){"use strict";function e(t,e){if(!t)throw new Error("ASSERT: "+e)}function n(t){return t>=48&&t<=57}function r(t){return"0123456789abcdefABCDEF".indexOf(t)>=0}function i(t){return"01234567".indexOf(t)>=0}function o(t){return 32===t||9===t||11===t||12===t||160===t||t>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(t)>=0}function s(t){return 10===t||13===t||8232===t||8233===t}function a(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||92===t||t>=128&&ve.NonAsciiIdentifierStart.test(String.fromCharCode(t))}function u(t){return 36===t||95===t||t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57||92===t||t>=128&&ve.NonAsciiIdentifierPart.test(String.fromCharCode(t))}function c(t){switch(t){case"class":case"enum":case"export":case"extends":case"import":case"super":return!0;default:return!1}}function l(t){switch(t){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}}function f(t){return"eval"===t||"arguments"===t}function h(t){if(ge&&l(t))return!0;switch(t.length){case 2:return"if"===t||"in"===t||"do"===t;case 3:return"var"===t||"for"===t||"new"===t||"try"===t||"let"===t;case 4:return"this"===t||"else"===t||"case"===t||"void"===t||"with"===t||"enum"===t;case 5:return"while"===t||"break"===t||"catch"===t||"throw"===t||"const"===t||"yield"===t||"class"===t||"super"===t;case 6:return"return"===t||"typeof"===t||"delete"===t||"switch"===t||"export"===t||"import"===t;case 7:return"default"===t||"finally"===t||"extends"===t;case 8:return"function"===t||"continue"===t||"debugger"===t;case 10:return"instanceof"===t;default:return!1}}function d(t,n,r,i,o){var s;e("number"==typeof r,"Comment must have valid position"),xe.lastCommentStart>=r||(xe.lastCommentStart=r,s={type:t,value:n},Ee.range&&(s.range=[r,i]),Ee.loc&&(s.loc=o),Ee.comments.push(s),Ee.attachComment&&(Ee.leadingComments.push(s),Ee.trailingComments.push(s)))}function p(t){for(var e,n,r=be-t,i={start:{line:ye,column:be-_e-t}};be<we;)if(e=me.charCodeAt(be),++be,s(e))return Ee.comments&&(n=me.slice(r+t,be-1),i.end={line:ye,column:be-_e-1},d("Line",n,r,be-1,i)),13===e&&10===me.charCodeAt(be)&&++be,++ye,_e=be,void 0;Ee.comments&&(n=me.slice(r+t,be),i.end={line:ye,column:be-_e},d("Line",n,r,be,i))}function v(){var t,e,n,r;for(Ee.comments&&(t=be-2,e={start:{line:ye,column:be-_e-2}});be<we;)if(n=me.charCodeAt(be),s(n))13===n&&10===me.charCodeAt(be+1)&&++be,++ye,++be,_e=be,be>=we&&z({},pe.UnexpectedToken,"ILLEGAL");else if(42===n){if(47===me.charCodeAt(be+1))return++be,++be,Ee.comments&&(r=me.slice(t+2,be-2),e.end={line:ye,column:be-_e},d("Block",r,t,be,e)),void 0;++be}else++be;z({},pe.UnexpectedToken,"ILLEGAL")}function m(){for(var t,e=0===be;be<we;)if(t=me.charCodeAt(be),o(t))++be;else if(s(t))++be,13===t&&10===me.charCodeAt(be)&&++be,++ye,_e=be,e=!0;else if(47===t)if(t=me.charCodeAt(be+1),47===t)++be,++be,p(2),e=!0;else{if(42!==t)break;++be,++be,v()}else if(e&&45===t){if(45!==me.charCodeAt(be+1)||62!==me.charCodeAt(be+2))break;be+=3,p(3)}else{if(60!==t)break;if("!--"!==me.slice(be+1,be+4))break;++be,++be,++be,++be,p(4)}}function g(t){for(var e,n=0,i="u"===t?4:2,o=0;o<i;++o){if(!(be<we&&r(me[be])))return"";e=me[be++],n=16*n+"0123456789abcdef".indexOf(e.toLowerCase())}return String.fromCharCode(n)}function b(){var t,e,n,i;for(t=me[be],e=0,"}"===t&&z({},pe.UnexpectedToken,"ILLEGAL");be<we&&(t=me[be++],r(t));)e=16*e+"0123456789abcdef".indexOf(t.toLowerCase());return(e>1114111||"}"!==t)&&z({},pe.UnexpectedToken,"ILLEGAL"),e<=65535?String.fromCharCode(e):(n=(e-65536>>10)+55296,i=(e-65536&1023)+56320,String.fromCharCode(n,i))}function y(){var t,e;for(t=me.charCodeAt(be++),e=String.fromCharCode(t),92===t&&(117!==me.charCodeAt(be)&&z({},pe.UnexpectedToken,"ILLEGAL"),++be,t=g("u"),t&&"\\"!==t&&a(t.charCodeAt(0))||z({},pe.UnexpectedToken,"ILLEGAL"),e=t);be<we&&(t=me.charCodeAt(be),u(t));)++be,e+=String.fromCharCode(t),92===t&&(e=e.substr(0,e.length-1),117!==me.charCodeAt(be)&&z({},pe.UnexpectedToken,"ILLEGAL"),++be,t=g("u"),t&&"\\"!==t&&u(t.charCodeAt(0))||z({},pe.UnexpectedToken,"ILLEGAL"),e+=t);return e}function _(){for(var t,e=be++;be<we;){if(t=me.charCodeAt(be),92===t)return be=e,y();if(!u(t))break;++be}return me.slice(e,be)}function w(){var t,e,n;return t=be,e=92===me.charCodeAt(be)?y():_(),n=1===e.length?ue.Identifier:h(e)?ue.Keyword:"null"===e?ue.NullLiteral:"true"===e||"false"===e?ue.BooleanLiteral:ue.Identifier,{type:n,value:e,lineNumber:ye,lineStart:_e,start:t,end:be}}function S(){var t,e,n,r,i=be,o=me.charCodeAt(be),s=me[be];switch(o){case 46:case 40:case 41:case 59:case 44:case 123:case 125:case 91:case 93:case 58:case 63:case 126:return++be,Ee.tokenize&&(40===o?Ee.openParenToken=Ee.tokens.length:123===o&&(Ee.openCurlyToken=Ee.tokens.length)),{type:ue.Punctuator,value:String.fromCharCode(o),lineNumber:ye,lineStart:_e,start:i,end:be};default:if(t=me.charCodeAt(be+1),61===t)switch(o){case 43:case 45:case 47:case 60:case 62:case 94:case 124:case 37:case 38:case 42:return be+=2,{type:ue.Punctuator,value:String.fromCharCode(o)+String.fromCharCode(t),lineNumber:ye,lineStart:_e,start:i,end:be};case 33:case 61:return be+=2,61===me.charCodeAt(be)&&++be,{type:ue.Punctuator,value:me.slice(i,be),lineNumber:ye,lineStart:_e,start:i,end:be}}}return r=me.substr(be,4),">>>="===r?(be+=4,{type:ue.Punctuator,value:r,lineNumber:ye,lineStart:_e,start:i,end:be}):(n=r.substr(0,3),">>>"===n||"<<="===n||">>="===n?(be+=3,{type:ue.Punctuator,value:n,lineNumber:ye,lineStart:_e,start:i,end:be}):(e=n.substr(0,2),s===e[1]&&"+-<>&|".indexOf(s)>=0||"=>"===e?(be+=2,{type:ue.Punctuator,value:e,lineNumber:ye,lineStart:_e,start:i,end:be}):"<>=!+-*%&|^/".indexOf(s)>=0?(++be,{type:ue.Punctuator,value:s,lineNumber:ye,lineStart:_e,start:i,end:be}):void z({},pe.UnexpectedToken,"ILLEGAL")))}function x(t){for(var e="";be<we&&r(me[be]);)e+=me[be++];return 0===e.length&&z({},pe.UnexpectedToken,"ILLEGAL"),a(me.charCodeAt(be))&&z({},pe.UnexpectedToken,"ILLEGAL"),{type:ue.NumericLiteral,value:parseInt("0x"+e,16),lineNumber:ye,lineStart:_e,start:t,end:be}}function E(t){for(var e="0"+me[be++];be<we&&i(me[be]);)e+=me[be++];return(a(me.charCodeAt(be))||n(me.charCodeAt(be)))&&z({},pe.UnexpectedToken,"ILLEGAL"),{type:ue.NumericLiteral,value:parseInt(e,8),octal:!0,lineNumber:ye,lineStart:_e,start:t,end:be}}function C(){var t,r,o;if(o=me[be],e(n(o.charCodeAt(0))||"."===o,"Numeric literal must start with a decimal digit or a decimal point"),r=be,t="","."!==o){if(t=me[be++],o=me[be],"0"===t){if("x"===o||"X"===o)return++be,x(r);if(i(o))return E(r);o&&n(o.charCodeAt(0))&&z({},pe.UnexpectedToken,"ILLEGAL")}for(;n(me.charCodeAt(be));)t+=me[be++];o=me[be]}if("."===o){for(t+=me[be++];n(me.charCodeAt(be));)t+=me[be++];o=me[be]}if("e"===o||"E"===o)if(t+=me[be++],o=me[be],("+"===o||"-"===o)&&(t+=me[be++]),n(me.charCodeAt(be)))for(;n(me.charCodeAt(be));)t+=me[be++];else z({},pe.UnexpectedToken,"ILLEGAL");return a(me.charCodeAt(be))&&z({},pe.UnexpectedToken,"ILLEGAL"),{type:ue.NumericLiteral,value:parseFloat(t),lineNumber:ye,lineStart:_e,start:r,end:be}}function k(){var t,n,r,o,a,u,c,l,f="",h=!1;for(c=ye,l=_e,t=me[be],e("'"===t||'"'===t,"String literal must starts with a quote"),n=be,++be;be<we;){if(r=me[be++],r===t){t="";break}if("\\"===r)if(r=me[be++],r&&s(r.charCodeAt(0)))++ye,"\r"===r&&"\n"===me[be]&&++be,_e=be;else switch(r){case"u":case"x":"{"===me[be]?(++be,f+=b()):(u=be,a=g(r),a?f+=a:(be=u,f+=r));break;case"n":f+="\n";break;case"r":f+="\r";break;case"t":f+="\t";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\x0B";break;default:i(r)?(o="01234567".indexOf(r),0!==o&&(h=!0),be<we&&i(me[be])&&(h=!0,o=8*o+"01234567".indexOf(me[be++]),"0123".indexOf(r)>=0&&be<we&&i(me[be])&&(o=8*o+"01234567".indexOf(me[be++]))),f+=String.fromCharCode(o)):f+=r}else{if(s(r.charCodeAt(0)))break;f+=r}}return""!==t&&z({},pe.UnexpectedToken,"ILLEGAL"),{type:ue.StringLiteral,value:f,octal:h,startLineNumber:c,startLineStart:l,lineNumber:ye,lineStart:_e,start:n,end:be}}function A(t,e){var n;try{n=new RegExp(t,e)}catch(r){z({},pe.InvalidRegExp)}return n}function $(){var t,n,r,i,o;for(t=me[be],e("/"===t,"Regular expression literal must start with a slash"),n=me[be++],r=!1,i=!1;be<we;)if(t=me[be++],n+=t,"\\"===t)t=me[be++],s(t.charCodeAt(0))&&z({},pe.UnterminatedRegExp),n+=t;else if(s(t.charCodeAt(0)))z({},pe.UnterminatedRegExp);else if(r)"]"===t&&(r=!1);else{if("/"===t){i=!0;break}"["===t&&(r=!0)}return i||z({},pe.UnterminatedRegExp),o=n.substr(1,n.length-2),{value:o,literal:n}}function T(){for(var t,e,n="",r="";be<we&&(t=me[be],u(t.charCodeAt(0)));)if(++be,"\\"===t&&be<we)if(t=me[be],"u"===t){if(++be,e=be,t=g("u"))for(r+=t,n+="\\u";e<be;++e)n+=me[e];else be=e,r+="u",n+="\\u";V({},pe.UnexpectedToken,"ILLEGAL")}else n+="\\",V({},pe.UnexpectedToken,"ILLEGAL");else r+=t,n+=t;return{value:r,literal:n}}function N(){var t,e,n,r;return Se=null,m(),t=be,e=$(),n=T(),r=A(e.value,n.value),Ee.tokenize?{type:ue.RegularExpression,value:r,lineNumber:ye,lineStart:_e,start:t,end:be}:{literal:e.literal+n.literal,value:r,start:t,end:be}}function O(){var t,e,n,r;return m(),t=be,e={start:{line:ye,column:be-_e}},n=N(),e.end={line:ye,column:be-_e},Ee.tokenize||(Ee.tokens.length>0&&(r=Ee.tokens[Ee.tokens.length-1],r.range[0]===t&&"Punctuator"===r.type&&("/"===r.value||"/="===r.value)&&Ee.tokens.pop()),Ee.tokens.push({type:"RegularExpression",value:n.literal,range:[t,be],loc:e})),n}function I(t){return t.type===ue.Identifier||t.type===ue.Keyword||t.type===ue.BooleanLiteral||t.type===ue.NullLiteral}function M(){var t,e;if(t=Ee.tokens[Ee.tokens.length-1],!t)return O();if("Punctuator"===t.type){if("]"===t.value)return S();if(")"===t.value)return e=Ee.tokens[Ee.openParenToken-1],!e||"Keyword"!==e.type||"if"!==e.value&&"while"!==e.value&&"for"!==e.value&&"with"!==e.value?S():O();if("}"===t.value){if(Ee.tokens[Ee.openCurlyToken-3]&&"Keyword"===Ee.tokens[Ee.openCurlyToken-3].type){if(e=Ee.tokens[Ee.openCurlyToken-4],!e)return S()}else{if(!Ee.tokens[Ee.openCurlyToken-4]||"Keyword"!==Ee.tokens[Ee.openCurlyToken-4].type)return S();if(e=Ee.tokens[Ee.openCurlyToken-5],!e)return O()}return le.indexOf(e.value)>=0?S():O()}return O()}return"Keyword"===t.type?O():S()}function R(){var t;return m(),be>=we?{type:ue.EOF,lineNumber:ye,lineStart:_e,start:be,end:be}:(t=me.charCodeAt(be),a(t)?w():40===t||41===t||59===t?S():39===t||34===t?k():46===t?n(me.charCodeAt(be+1))?C():S():n(t)?C():Ee.tokenize&&47===t?M():S())}function D(){var t,e,n;return m(),t={start:{line:ye,column:be-_e}},e=R(),t.end={line:ye,column:be-_e},e.type!==ue.EOF&&(n=me.slice(e.start,e.end),Ee.tokens.push({type:ce[e.type],value:n,range:[e.start,e.end],loc:t})),e}function L(){var t;return t=Se,be=t.end,ye=t.lineNumber,_e=t.lineStart,Se="undefined"!=typeof Ee.tokens?D():R(),be=t.end,ye=t.lineNumber,_e=t.lineStart,t}function j(){var t,e,n;t=be,e=ye,n=_e,Se="undefined"!=typeof Ee.tokens?D():R(),be=t,ye=e,_e=n}function P(){this.line=ye,this.column=be-_e}function q(){this.start=new P,this.end=null}function B(t){this.start=t.type===ue.StringLiteral?{line:t.startLineNumber,column:t.start-t.startLineStart}:{line:t.lineNumber,column:t.start-t.lineStart},this.end=null}function F(){be=Se.start,Se.type===ue.StringLiteral?(ye=Se.startLineNumber,_e=Se.startLineStart):(ye=Se.lineNumber,_e=Se.lineStart),Ee.range&&(this.range=[be,0]),Ee.loc&&(this.loc=new q)}function U(t){Ee.range&&(this.range=[t.start,0]),Ee.loc&&(this.loc=new B(t))}function H(){var t,e,n,r;return t=be,e=ye,n=_e,m(),r=ye!==e,be=t,ye=e,_e=n,r}function z(t,n){var r,i=Array.prototype.slice.call(arguments,2),o=n.replace(/%(\d)/g,function(t,n){return e(n<i.length,"Message reference must be in range"),i[n]});throw"number"==typeof t.lineNumber?(r=new Error("Line "+t.lineNumber+": "+o),r.index=t.start,r.lineNumber=t.lineNumber,r.column=t.start-_e+1):(r=new Error("Line "+ye+": "+o),r.index=be,r.lineNumber=ye,r.column=be-_e+1),r.description=o,r}function V(){try{z.apply(null,arguments)}catch(t){if(!Ee.errors)throw t;Ee.errors.push(t)}}function W(t){if(t.type===ue.EOF&&z(t,pe.UnexpectedEOS),t.type===ue.NumericLiteral&&z(t,pe.UnexpectedNumber),t.type===ue.StringLiteral&&z(t,pe.UnexpectedString),t.type===ue.Identifier&&z(t,pe.UnexpectedIdentifier),t.type===ue.Keyword){if(c(t.value))z(t,pe.UnexpectedReserved);else if(ge&&l(t.value))return void V(t,pe.StrictReservedWord);z(t,pe.UnexpectedToken,t.value)}z(t,pe.UnexpectedToken,t.value)}function K(t){var e=L();(e.type!==ue.Punctuator||e.value!==t)&&W(e)}function J(t){if(Ee.errors){var e=Se;e.type!==ue.Punctuator&&e.value!==t?V(e,pe.UnexpectedToken,e.value):L()}else K(t)}function X(t){var e=L();(e.type!==ue.Keyword||e.value!==t)&&W(e)}function G(t){return Se.type===ue.Punctuator&&Se.value===t}function Y(t){return Se.type===ue.Keyword&&Se.value===t}function Q(){var t;return Se.type===ue.Punctuator&&(t=Se.value,"="===t||"*="===t||"/="===t||"%="===t||"+="===t||"-="===t||"<<="===t||">>="===t||">>>="===t||"&="===t||"^="===t||"|="===t)}function Z(){var t;return 59===me.charCodeAt(be)||G(";")?void L():(t=ye,m(),ye===t&&(Se.type===ue.EOF||G("}")||W(Se)),void 0)}function tt(t){return t.type===fe.Identifier||t.type===fe.MemberExpression}function et(){var t=[],e=new F;for(K("[");!G("]");)G(",")?(L(),t.push(null)):(t.push(xt()),G("]")||K(","));return L(),e.finishArrayExpression(t)}function nt(t,e){var n,r,i=new F;return n=ge,r=Gt(),e&&ge&&f(t[0].name)&&V(e,pe.StrictParamName),ge=n,i.finishFunctionExpression(null,t,[],r)}function rt(){var t,e=new F;return t=L(),t.type===ue.StringLiteral||t.type===ue.NumericLiteral?(ge&&t.octal&&V(t,pe.StrictOctalLiteral),e.finishLiteral(t)):e.finishIdentifier(t.value)}function it(){var t,e,n,r,i,o=new F;return t=Se,t.type===ue.Identifier?(n=rt(),"get"!==t.value||G(":")?"set"!==t.value||G(":")?(K(":"),r=xt(),o.finishProperty("init",n,r)):(e=rt(),K("("),t=Se,t.type!==ue.Identifier?(K(")"),V(t,pe.UnexpectedToken,t.value),r=nt([])):(i=[At()],K(")"),r=nt(i,t)),o.finishProperty("set",e,r)):(e=rt(),K("("),K(")"),r=nt([]),o.finishProperty("get",e,r))):t.type!==ue.EOF&&t.type!==ue.Punctuator?(e=rt(),K(":"),r=xt(),o.finishProperty("init",e,r)):void W(t)}function ot(){var t,e,n,r,i=[],o={},s=String,a=new F;for(K("{");!G("}");)t=it(),e=t.key.type===fe.Identifier?t.key.name:s(t.key.value),r="init"===t.kind?de.Data:"get"===t.kind?de.Get:de.Set,n="$"+e,Object.prototype.hasOwnProperty.call(o,n)?(o[n]===de.Data?ge&&r===de.Data?V({},pe.StrictDuplicateProperty):r!==de.Data&&V({},pe.AccessorDataProperty):r===de.Data?V({},pe.AccessorDataProperty):o[n]&r&&V({},pe.AccessorGetSet),o[n]|=r):o[n]=r,i.push(t),G("}")||J(",");return K("}"),a.finishObjectExpression(i)}function st(){var t;return K("("),G(")")?(L(),he.ArrowParameterPlaceHolder):(++xe.parenthesisCount,t=Et(),K(")"),t)}function at(){var t,e,n,r;if(G("("))return st();if(G("["))return et();if(G("{"))return ot();if(t=Se.type,r=new F,t===ue.Identifier)n=r.finishIdentifier(L().value);else if(t===ue.StringLiteral||t===ue.NumericLiteral)ge&&Se.octal&&V(Se,pe.StrictOctalLiteral),n=r.finishLiteral(L());else if(t===ue.Keyword){if(Y("function"))return ee();Y("this")?(L(),n=r.finishThisExpression()):W(L())}else t===ue.BooleanLiteral?(e=L(),e.value="true"===e.value,n=r.finishLiteral(e)):t===ue.NullLiteral?(e=L(),e.value=null,n=r.finishLiteral(e)):G("/")||G("/=")?(n="undefined"!=typeof Ee.tokens?r.finishLiteral(O()):r.finishLiteral(N()),j()):W(L());return n}function ut(){var t=[];if(K("("),!G(")"))for(;be<we&&(t.push(xt()),!G(")"));)J(",");return K(")"),t}function ct(){var t,e=new F;return t=L(),I(t)||W(t),e.finishIdentifier(t.value)}function lt(){return K("."),ct()}function ft(){var t;return K("["),t=Et(),K("]"),t}function ht(){var t,e,n=new F;return X("new"),t=pt(),e=G("(")?ut():[],n.finishNewExpression(t,e)}function dt(){var t,e,n,r,i=xe.allowIn;for(r=Se,xe.allowIn=!0,t=Y("new")?ht():at();;)if(G("."))n=lt(),t=new U(r).finishMemberExpression(".",t,n);else if(G("("))e=ut(),t=new U(r).finishCallExpression(t,e);else{if(!G("["))break;n=ft(),t=new U(r).finishMemberExpression("[",t,n)}return xe.allowIn=i,t}function pt(){var t,n,r;for(e(xe.allowIn,"callee of new expression always allow in keyword."),r=Se,t=Y("new")?ht():at();;)if(G("["))n=ft(),t=new U(r).finishMemberExpression("[",t,n);else{if(!G("."))break;n=lt(),t=new U(r).finishMemberExpression(".",t,n)}return t}function vt(){var t,e,n=Se;return t=dt(),Se.type===ue.Punctuator&&(G("++")||G("--"))&&!H()&&(ge&&t.type===fe.Identifier&&f(t.name)&&V({},pe.StrictLHSPostfix),tt(t)||V({},pe.InvalidLHSInAssignment),e=L(),t=new U(n).finishPostfixExpression(e.value,t)),t}function mt(){var t,e,n;return Se.type!==ue.Punctuator&&Se.type!==ue.Keyword?e=vt():G("++")||G("--")?(n=Se,t=L(),e=mt(),ge&&e.type===fe.Identifier&&f(e.name)&&V({},pe.StrictLHSPrefix),tt(e)||V({},pe.InvalidLHSInAssignment),e=new U(n).finishUnaryExpression(t.value,e)):G("+")||G("-")||G("~")||G("!")?(n=Se,t=L(),e=mt(),e=new U(n).finishUnaryExpression(t.value,e)):Y("delete")||Y("void")||Y("typeof")?(n=Se,t=L(),e=mt(),e=new U(n).finishUnaryExpression(t.value,e),ge&&"delete"===e.operator&&e.argument.type===fe.Identifier&&V({},pe.StrictDelete)):e=vt(),e}function gt(t,e){var n=0;if(t.type!==ue.Punctuator&&t.type!==ue.Keyword)return 0;switch(t.value){case"||":n=1;break;case"&&":n=2;break;case"|":n=3;break;case"^":n=4;break;case"&":n=5;break;case"==":case"!=":case"===":case"!==":n=6;break;case"<":case">":case"<=":case">=":case"instanceof":n=7;break;case"in":n=e?7:0;break;case"<<":case">>":case">>>":n=8;break;case"+":case"-":n=9;break;case"*":case"/":case"%":n=11}return n}function bt(){var t,e,n,r,i,o,s,a,u,c;if(t=Se,u=mt(),u===he.ArrowParameterPlaceHolder||(r=Se,i=gt(r,xe.allowIn),0===i))return u;for(r.prec=i,L(),e=[t,Se],s=mt(),o=[u,r,s];(i=gt(Se,xe.allowIn))>0;){for(;o.length>2&&i<=o[o.length-2].prec;)s=o.pop(),a=o.pop().value,u=o.pop(),e.pop(),n=new U(e[e.length-1]).finishBinaryExpression(a,u,s),o.push(n);r=L(),r.prec=i,o.push(r),e.push(Se),n=mt(),o.push(n)}for(c=o.length-1,n=o[c],e.pop();c>1;)n=new U(e.pop()).finishBinaryExpression(o[c-1].value,o[c-2],n),c-=2;return n}function yt(){var t,e,n,r,i;return i=Se,t=bt(),t===he.ArrowParameterPlaceHolder?t:(G("?")&&(L(),e=xe.allowIn,xe.allowIn=!0,n=xt(),xe.allowIn=e,K(":"),r=xt(),t=new U(i).finishConditionalExpression(t,n,r)),t)}function _t(){return G("{")?Gt():xt()}function wt(t){var e,n,r,i,o,s,a,u;
for(i=[],o=[],s=0,u=null,a={paramSet:{}},e=0,n=t.length;e<n;e+=1)if(r=t[e],r.type===fe.Identifier)i.push(r),o.push(null),Yt(a,r,r.name);else{if(r.type!==fe.AssignmentExpression)return null;i.push(r.left),o.push(r.right),++s,Yt(a,r.left,r.left.name)}return a.message===pe.StrictParamDupe&&z(ge?a.stricted:a.firstRestricted,a.message),0===s&&(o=[]),{params:i,defaults:o,rest:u,stricted:a.stricted,firstRestricted:a.firstRestricted,message:a.message}}function St(t,e){var n,r;return K("=>"),n=ge,r=_t(),ge&&t.firstRestricted&&z(t.firstRestricted,t.message),ge&&t.stricted&&V(t.stricted,t.message),ge=n,e.finishArrowFunctionExpression(t.params,t.defaults,r,r.type!==fe.BlockStatement)}function xt(){var t,e,n,r,i,o;return t=xe.parenthesisCount,o=Se,e=Se,n=yt(),n!==he.ArrowParameterPlaceHolder&&!G("=>")||xe.parenthesisCount!==t&&xe.parenthesisCount!==t+1||(n.type===fe.Identifier?i=wt([n]):n.type===fe.AssignmentExpression?i=wt([n]):n.type===fe.SequenceExpression?i=wt(n.expressions):n===he.ArrowParameterPlaceHolder&&(i=wt([])),!i)?(Q()&&(tt(n)||V({},pe.InvalidLHSInAssignment),ge&&n.type===fe.Identifier&&f(n.name)&&V(e,pe.StrictLHSAssignment),e=L(),r=xt(),n=new U(o).finishAssignmentExpression(e.value,n,r)),n):St(i,new U(o))}function Et(){var t,e,n=Se;if(t=xt(),G(",")){for(e=[t];be<we&&G(",");)L(),e.push(xt());t=new U(n).finishSequenceExpression(e)}return t}function Ct(){for(var t,e=[];be<we&&!G("}")&&(t=ne(),"undefined"!=typeof t);)e.push(t);return e}function kt(){var t,e=new F;return K("{"),t=Ct(),K("}"),e.finishBlockStatement(t)}function At(){var t,e=new F;return t=L(),t.type!==ue.Identifier&&W(t),e.finishIdentifier(t.value)}function $t(t){var e,n=null,r=new F;return e=At(),ge&&f(e.name)&&V({},pe.StrictVarName),"const"===t?(K("="),n=xt()):G("=")&&(L(),n=xt()),r.finishVariableDeclarator(e,n)}function Tt(t){var e=[];do{if(e.push($t(t)),!G(","))break;L()}while(be<we);return e}function Nt(t){var e;return X("var"),e=Tt(),Z(),t.finishVariableDeclaration(e,"var")}function Ot(t){var e,n=new F;return X(t),e=Tt(t),Z(),n.finishVariableDeclaration(e,t)}function It(){var t=new F;return K(";"),t.finishEmptyStatement()}function Mt(t){var e=Et();return Z(),t.finishExpressionStatement(e)}function Rt(t){var e,n,r;return X("if"),K("("),e=Et(),K(")"),n=Xt(),Y("else")?(L(),r=Xt()):r=null,t.finishIfStatement(e,n,r)}function Dt(t){var e,n,r;return X("do"),r=xe.inIteration,xe.inIteration=!0,e=Xt(),xe.inIteration=r,X("while"),K("("),n=Et(),K(")"),G(";")&&L(),t.finishDoWhileStatement(e,n)}function Lt(t){var e,n,r;return X("while"),K("("),e=Et(),K(")"),r=xe.inIteration,xe.inIteration=!0,n=Xt(),xe.inIteration=r,t.finishWhileStatement(e,n)}function jt(){var t,e,n=new F;return t=L(),e=Tt(),n.finishVariableDeclaration(e,t.value)}function Pt(t){var e,n,r,i,o,s,a,u=xe.allowIn;return e=n=r=null,X("for"),K("("),G(";")?L():(Y("var")||Y("let")?(xe.allowIn=!1,e=jt(),xe.allowIn=u,1===e.declarations.length&&Y("in")&&(L(),i=e,o=Et(),e=null)):(xe.allowIn=!1,e=Et(),xe.allowIn=u,Y("in")&&(tt(e)||V({},pe.InvalidLHSInForIn),L(),i=e,o=Et(),e=null)),"undefined"==typeof i&&K(";")),"undefined"==typeof i&&(G(";")||(n=Et()),K(";"),G(")")||(r=Et())),K(")"),a=xe.inIteration,xe.inIteration=!0,s=Xt(),xe.inIteration=a,"undefined"==typeof i?t.finishForStatement(e,n,r,s):t.finishForInStatement(i,o,s)}function qt(t){var e,n=null;return X("continue"),59===me.charCodeAt(be)?(L(),xe.inIteration||z({},pe.IllegalContinue),t.finishContinueStatement(null)):H()?(xe.inIteration||z({},pe.IllegalContinue),t.finishContinueStatement(null)):(Se.type===ue.Identifier&&(n=At(),e="$"+n.name,Object.prototype.hasOwnProperty.call(xe.labelSet,e)||z({},pe.UnknownLabel,n.name)),Z(),null!==n||xe.inIteration||z({},pe.IllegalContinue),t.finishContinueStatement(n))}function Bt(t){var e,n=null;return X("break"),59===me.charCodeAt(be)?(L(),xe.inIteration||xe.inSwitch||z({},pe.IllegalBreak),t.finishBreakStatement(null)):H()?(xe.inIteration||xe.inSwitch||z({},pe.IllegalBreak),t.finishBreakStatement(null)):(Se.type===ue.Identifier&&(n=At(),e="$"+n.name,Object.prototype.hasOwnProperty.call(xe.labelSet,e)||z({},pe.UnknownLabel,n.name)),Z(),null!==n||xe.inIteration||xe.inSwitch||z({},pe.IllegalBreak),t.finishBreakStatement(n))}function Ft(t){var e=null;return X("return"),xe.inFunctionBody||V({},pe.IllegalReturn),32===me.charCodeAt(be)&&a(me.charCodeAt(be+1))?(e=Et(),Z(),t.finishReturnStatement(e)):H()?t.finishReturnStatement(null):(G(";")||G("}")||Se.type===ue.EOF||(e=Et()),Z(),t.finishReturnStatement(e))}function Ut(t){var e,n;return ge&&(m(),V({},pe.StrictModeWith)),X("with"),K("("),e=Et(),K(")"),n=Xt(),t.finishWithStatement(e,n)}function Ht(){var t,e,n=[],r=new F;for(Y("default")?(L(),t=null):(X("case"),t=Et()),K(":");be<we&&!(G("}")||Y("default")||Y("case"));)e=Xt(),n.push(e);return r.finishSwitchCase(t,n)}function zt(t){var e,n,r,i,o;if(X("switch"),K("("),e=Et(),K(")"),K("{"),n=[],G("}"))return L(),t.finishSwitchStatement(e,n);for(i=xe.inSwitch,xe.inSwitch=!0,o=!1;be<we&&!G("}");)r=Ht(),null===r.test&&(o&&z({},pe.MultipleDefaultsInSwitch),o=!0),n.push(r);return xe.inSwitch=i,K("}"),t.finishSwitchStatement(e,n)}function Vt(t){var e;return X("throw"),H()&&z({},pe.NewlineAfterThrow),e=Et(),Z(),t.finishThrowStatement(e)}function Wt(){var t,e,n=new F;return X("catch"),K("("),G(")")&&W(Se),t=At(),ge&&f(t.name)&&V({},pe.StrictCatchVariable),K(")"),e=kt(),n.finishCatchClause(t,e)}function Kt(t){var e,n=[],r=null;return X("try"),e=kt(),Y("catch")&&n.push(Wt()),Y("finally")&&(L(),r=kt()),0!==n.length||r||z({},pe.NoCatchOrFinally),t.finishTryStatement(e,[],n,r)}function Jt(t){return X("debugger"),Z(),t.finishDebuggerStatement()}function Xt(){var t,e,n,r,i=Se.type;if(i===ue.EOF&&W(Se),i===ue.Punctuator&&"{"===Se.value)return kt();if(r=new F,i===ue.Punctuator)switch(Se.value){case";":return It(r);case"(":return Mt(r)}else if(i===ue.Keyword)switch(Se.value){case"break":return Bt(r);case"continue":return qt(r);case"debugger":return Jt(r);case"do":return Dt(r);case"for":return Pt(r);case"function":return te(r);case"if":return Rt(r);case"return":return Ft(r);case"switch":return zt(r);case"throw":return Vt(r);case"try":return Kt(r);case"var":return Nt(r);case"while":return Lt(r);case"with":return Ut(r)}return t=Et(),t.type===fe.Identifier&&G(":")?(L(),n="$"+t.name,Object.prototype.hasOwnProperty.call(xe.labelSet,n)&&z({},pe.Redeclaration,"Label",t.name),xe.labelSet[n]=!0,e=Xt(),delete xe.labelSet[n],r.finishLabeledStatement(t,e)):(Z(),r.finishExpressionStatement(t))}function Gt(){var t,e,n,r,i,o,s,a,u,c=[],l=new F;for(K("{");be<we&&Se.type===ue.StringLiteral&&(e=Se,t=ne(),c.push(t),t.expression.type===fe.Literal);)n=me.slice(e.start+1,e.end-1),"use strict"===n?(ge=!0,r&&V(r,pe.StrictOctalLiteral)):!r&&e.octal&&(r=e);for(i=xe.labelSet,o=xe.inIteration,s=xe.inSwitch,a=xe.inFunctionBody,u=xe.parenthesizedCount,xe.labelSet={},xe.inIteration=!1,xe.inSwitch=!1,xe.inFunctionBody=!0,xe.parenthesizedCount=0;be<we&&!G("}")&&(t=ne(),"undefined"!=typeof t);)c.push(t);return K("}"),xe.labelSet=i,xe.inIteration=o,xe.inSwitch=s,xe.inFunctionBody=a,xe.parenthesizedCount=u,l.finishBlockStatement(c)}function Yt(t,e,n){var r="$"+n;ge?(f(n)&&(t.stricted=e,t.message=pe.StrictParamName),Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.stricted=e,t.message=pe.StrictParamDupe)):t.firstRestricted||(f(n)?(t.firstRestricted=e,t.message=pe.StrictParamName):l(n)?(t.firstRestricted=e,t.message=pe.StrictReservedWord):Object.prototype.hasOwnProperty.call(t.paramSet,r)&&(t.firstRestricted=e,t.message=pe.StrictParamDupe)),t.paramSet[r]=!0}function Qt(t){var e,n,r;return e=Se,n=At(),Yt(t,e,e.value),G("=")&&(L(),r=xt(),++t.defaultCount),t.params.push(n),t.defaults.push(r),!G(")")}function Zt(t){var e;if(e={params:[],defaultCount:0,defaults:[],firstRestricted:t},K("("),!G(")"))for(e.paramSet={};be<we&&Qt(e);)K(",");return K(")"),0===e.defaultCount&&(e.defaults=[]),{params:e.params,defaults:e.defaults,stricted:e.stricted,firstRestricted:e.firstRestricted,message:e.message}}function te(){var t,e,n,r,i,o,s,a,u=[],c=[],h=new F;return X("function"),n=Se,t=At(),ge?f(n.value)&&V(n,pe.StrictFunctionName):f(n.value)?(o=n,s=pe.StrictFunctionName):l(n.value)&&(o=n,s=pe.StrictReservedWord),i=Zt(o),u=i.params,c=i.defaults,r=i.stricted,o=i.firstRestricted,i.message&&(s=i.message),a=ge,e=Gt(),ge&&o&&z(o,s),ge&&r&&V(r,s),ge=a,h.finishFunctionDeclaration(t,u,c,e)}function ee(){var t,e,n,r,i,o,s,a=null,u=[],c=[],h=new F;return X("function"),G("(")||(t=Se,a=At(),ge?f(t.value)&&V(t,pe.StrictFunctionName):f(t.value)?(n=t,r=pe.StrictFunctionName):l(t.value)&&(n=t,r=pe.StrictReservedWord)),i=Zt(n),u=i.params,c=i.defaults,e=i.stricted,n=i.firstRestricted,i.message&&(r=i.message),s=ge,o=Gt(),ge&&n&&z(n,r),ge&&e&&V(e,r),ge=s,h.finishFunctionExpression(a,u,c,o)}function ne(){if(Se.type===ue.Keyword)switch(Se.value){case"const":case"let":return Ot(Se.value);case"function":return te();default:return Xt()}if(Se.type!==ue.EOF)return Xt()}function re(){for(var t,e,n,r,i=[];be<we&&(e=Se,e.type===ue.StringLiteral)&&(t=ne(),i.push(t),t.expression.type===fe.Literal);)n=me.slice(e.start+1,e.end-1),"use strict"===n?(ge=!0,r&&V(r,pe.StrictOctalLiteral)):!r&&e.octal&&(r=e);for(;be<we&&(t=ne(),"undefined"!=typeof t);)i.push(t);return i}function ie(){var t,e;return m(),j(),e=new F,ge=!1,t=re(),e.finishProgram(t)}function oe(){for(var t,e,n=[],r=0;r<Ee.tokens.length;++r)t=Ee.tokens[r],e={type:t.type,value:t.value},Ee.range&&(e.range=t.range),Ee.loc&&(e.loc=t.loc),n.push(e);Ee.tokens=n}function se(t,e){var n,r;n=String,"string"==typeof t||t instanceof String||(t=n(t)),me=t,be=0,ye=me.length>0?1:0,_e=0,we=me.length,Se=null,xe={allowIn:!0,labelSet:{},inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ee={},e=e||{},e.tokens=!0,Ee.tokens=[],Ee.tokenize=!0,Ee.openParenToken=-1,Ee.openCurlyToken=-1,Ee.range="boolean"==typeof e.range&&e.range,Ee.loc="boolean"==typeof e.loc&&e.loc,"boolean"==typeof e.comment&&e.comment&&(Ee.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Ee.errors=[]);try{if(j(),Se.type===ue.EOF)return Ee.tokens;for(L();Se.type!==ue.EOF;)try{L()}catch(i){if(Ee.errors){Ee.errors.push(i);break}throw i}oe(),r=Ee.tokens,"undefined"!=typeof Ee.comments&&(r.comments=Ee.comments),"undefined"!=typeof Ee.errors&&(r.errors=Ee.errors)}catch(o){throw o}finally{Ee={}}return r}function ae(t,e){var n,r;r=String,"string"==typeof t||t instanceof String||(t=r(t)),me=t,be=0,ye=me.length>0?1:0,_e=0,we=me.length,Se=null,xe={allowIn:!0,labelSet:{},parenthesisCount:0,inFunctionBody:!1,inIteration:!1,inSwitch:!1,lastCommentStart:-1},Ee={},"undefined"!=typeof e&&(Ee.range="boolean"==typeof e.range&&e.range,Ee.loc="boolean"==typeof e.loc&&e.loc,Ee.attachComment="boolean"==typeof e.attachComment&&e.attachComment,Ee.loc&&null!==e.source&&void 0!==e.source&&(Ee.source=r(e.source)),"boolean"==typeof e.tokens&&e.tokens&&(Ee.tokens=[]),"boolean"==typeof e.comment&&e.comment&&(Ee.comments=[]),"boolean"==typeof e.tolerant&&e.tolerant&&(Ee.errors=[]),Ee.attachComment&&(Ee.range=!0,Ee.comments=[],Ee.bottomRightStack=[],Ee.trailingComments=[],Ee.leadingComments=[]));try{n=ie(),"undefined"!=typeof Ee.comments&&(n.comments=Ee.comments),"undefined"!=typeof Ee.tokens&&(oe(),n.tokens=Ee.tokens),"undefined"!=typeof Ee.errors&&(n.errors=Ee.errors)}catch(i){throw i}finally{Ee={}}return n}var ue,ce,le,fe,he,de,pe,ve,me,ge,be,ye,_e,we,Se,xe,Ee;ue={BooleanLiteral:1,EOF:2,Identifier:3,Keyword:4,NullLiteral:5,NumericLiteral:6,Punctuator:7,StringLiteral:8,RegularExpression:9},ce={},ce[ue.BooleanLiteral]="Boolean",ce[ue.EOF]="<end>",ce[ue.Identifier]="Identifier",ce[ue.Keyword]="Keyword",ce[ue.NullLiteral]="Null",ce[ue.NumericLiteral]="Numeric",ce[ue.Punctuator]="Punctuator",ce[ue.StringLiteral]="String",ce[ue.RegularExpression]="RegularExpression",le=["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="],fe={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",ArrowFunctionExpression:"ArrowFunctionExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"},he={ArrowParameterPlaceHolder:{type:"ArrowParameterPlaceHolder"}},de={Data:1,Get:2,Set:4},pe={UnexpectedToken:"Unexpected token %0",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedIdentifier:"Unexpected identifier",UnexpectedReserved:"Unexpected reserved word",UnexpectedEOS:"Unexpected end of input",NewlineAfterThrow:"Illegal newline after throw",InvalidRegExp:"Invalid regular expression",UnterminatedRegExp:"Invalid regular expression: missing /",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NoCatchOrFinally:"Missing catch or finally after try",UnknownLabel:"Undefined label '%0'",Redeclaration:"%0 '%1' has already been declared",IllegalContinue:"Illegal continue statement",IllegalBreak:"Illegal break statement",IllegalReturn:"Illegal return statement",StrictModeWith:"Strict mode code may not include a with statement",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictDuplicateProperty:"Duplicate data property in object literal not allowed in strict mode",AccessorDataProperty:"Object literal may not have data and accessor property with the same name",AccessorGetSet:"Object literal may not have multiple get/set accessors with the same name",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictReservedWord:"Use of future reserved word in strict mode"},ve={NonAsciiIdentifierStart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԯԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠ-ࢲऄ-हऽॐक़-ॡॱ-ঀঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤞᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々-〇〡-〩〱-〵〸-〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚝꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꧠ-ꧤꧦ-ꧯꧺ-ꧾꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꩾ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"),NonAsciiIdentifierPart:new RegExp("[ªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮ̀-ʹͶͷͺ-ͽͿΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁ҃-҇Ҋ-ԯԱ-Ֆՙա-և֑-ׇֽֿׁׂׅׄא-תװ-ײؐ-ؚؠ-٩ٮ-ۓە-ۜ۟-۪ۨ-ۼۿܐ-݊ݍ-ޱ߀-ߵߺࠀ-࠭ࡀ-࡛ࢠ-ࢲࣤ-ॣ०-९ॱ-ঃঅ-ঌএঐও-নপ-রলশ-হ়-ৄেৈো-ৎৗড়ঢ়য়-ৣ০-ৱਁ-ਃਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹ਼ਾ-ੂੇੈੋ-੍ੑਖ਼-ੜਫ਼੦-ੵઁ-ઃઅ-ઍએ-ઑઓ-નપ-રલળવ-હ઼-ૅે-ૉો-્ૐૠ-ૣ૦-૯ଁ-ଃଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହ଼-ୄେୈୋ-୍ୖୗଡ଼ଢ଼ୟ-ୣ୦-୯ୱஂஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹா-ூெ-ைொ-்ௐௗ௦-௯ఀ-ఃఅ-ఌఎ-ఐఒ-నప-హఽ-ౄె-ైొ-్ౕౖౘౙౠ-ౣ౦-౯ಁ-ಃಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹ಼-ೄೆ-ೈೊ-್ೕೖೞೠ-ೣ೦-೯ೱೲഁ-ഃഅ-ഌഎ-ഐഒ-ഺഽ-ൄെ-ൈൊ-ൎൗൠ-ൣ൦-൯ൺ-ൿංඃඅ-ඖක-නඳ-රලව-ෆ්ා-ුූෘ-ෟ෦-෯ෲෳก-ฺเ-๎๐-๙ກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ູົ-ຽເ-ໄໆ່-ໍ໐-໙ໜ-ໟༀ༘༙༠-༩༹༵༷༾-ཇཉ-ཬཱ-྄྆-ྗྙ-ྼ࿆က-၉ၐ-ႝႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚ፝-፟ᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛸᜀ-ᜌᜎ-᜔ᜠ-᜴ᝀ-ᝓᝠ-ᝬᝮ-ᝰᝲᝳក-៓ៗៜ៝០-៩᠋-᠍᠐-᠙ᠠ-ᡷᢀ-ᢪᢰ-ᣵᤀ-ᤞᤠ-ᤫᤰ-᤻᥆-ᥭᥰ-ᥴᦀ-ᦫᦰ-ᧉ᧐-᧙ᨀ-ᨛᨠ-ᩞ᩠-᩿᩼-᪉᪐-᪙ᪧ᪰-᪽ᬀ-ᭋ᭐-᭙᭫-᭳ᮀ-᯳ᰀ-᰷᱀-᱉ᱍ-ᱽ᳐-᳔᳒-ᳶ᳸᳹ᴀ-᷵᷼-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼ‌‍‿⁀⁔ⁱⁿₐ-ₜ⃐-⃥⃜⃡-⃰ℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯ⵿-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⷠ-ⷿⸯ々-〇〡-〯〱-〵〸-〼ぁ-ゖ゙゚ゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘫꙀ-꙯ꙴ-꙽ꙿ-ꚝꚟ-꛱ꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞭꞰꞱꟷ-ꠧꡀ-ꡳꢀ-꣄꣐-꣙꣠-ꣷꣻ꤀-꤭ꤰ-꥓ꥠ-ꥼꦀ-꧀ꧏ-꧙ꧠ-ꧾꨀ-ꨶꩀ-ꩍ꩐-꩙ꩠ-ꩶꩺ-ꫂꫛ-ꫝꫠ-ꫯꫲ-꫶ꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꬰ-ꭚꭜ-ꭟꭤꭥꯀ-ꯪ꯬꯭꯰-꯹가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻ︀-️︠-︭︳︴﹍-﹏ﹰ-ﹴﹶ-ﻼ０-９Ａ-Ｚ＿ａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]")},U.prototype=F.prototype={processComment:function(){var t,e,n=Ee.bottomRightStack,r=n[n.length-1];if(this.type!==fe.Program||!(this.body.length>0)){if(Ee.trailingComments.length>0?Ee.trailingComments[0].range[0]>=this.range[1]?(e=Ee.trailingComments,Ee.trailingComments=[]):Ee.trailingComments.length=0:r&&r.trailingComments&&r.trailingComments[0].range[0]>=this.range[1]&&(e=r.trailingComments,delete r.trailingComments),r)for(;r&&r.range[0]>=this.range[0];)t=r,r=n.pop();t?t.leadingComments&&t.leadingComments[t.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=t.leadingComments,t.leadingComments=void 0):Ee.leadingComments.length>0&&Ee.leadingComments[Ee.leadingComments.length-1].range[1]<=this.range[0]&&(this.leadingComments=Ee.leadingComments,Ee.leadingComments=[]),e&&(this.trailingComments=e),n.push(this)}},finish:function(){Ee.range&&(this.range[1]=be),Ee.loc&&(this.loc.end=new P,Ee.source&&(this.loc.source=Ee.source)),Ee.attachComment&&this.processComment()},finishArrayExpression:function(t){return this.type=fe.ArrayExpression,this.elements=t,this.finish(),this},finishArrowFunctionExpression:function(t,e,n,r){return this.type=fe.ArrowFunctionExpression,this.id=null,this.params=t,this.defaults=e,this.body=n,this.rest=null,this.generator=!1,this.expression=r,this.finish(),this},finishAssignmentExpression:function(t,e,n){return this.type=fe.AssignmentExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBinaryExpression:function(t,e,n){return this.type="||"===t||"&&"===t?fe.LogicalExpression:fe.BinaryExpression,this.operator=t,this.left=e,this.right=n,this.finish(),this},finishBlockStatement:function(t){return this.type=fe.BlockStatement,this.body=t,this.finish(),this},finishBreakStatement:function(t){return this.type=fe.BreakStatement,this.label=t,this.finish(),this},finishCallExpression:function(t,e){return this.type=fe.CallExpression,this.callee=t,this.arguments=e,this.finish(),this},finishCatchClause:function(t,e){return this.type=fe.CatchClause,this.param=t,this.body=e,this.finish(),this},finishConditionalExpression:function(t,e,n){return this.type=fe.ConditionalExpression,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishContinueStatement:function(t){return this.type=fe.ContinueStatement,this.label=t,this.finish(),this},finishDebuggerStatement:function(){return this.type=fe.DebuggerStatement,this.finish(),this},finishDoWhileStatement:function(t,e){return this.type=fe.DoWhileStatement,this.body=t,this.test=e,this.finish(),this},finishEmptyStatement:function(){return this.type=fe.EmptyStatement,this.finish(),this},finishExpressionStatement:function(t){return this.type=fe.ExpressionStatement,this.expression=t,this.finish(),this},finishForStatement:function(t,e,n,r){return this.type=fe.ForStatement,this.init=t,this.test=e,this.update=n,this.body=r,this.finish(),this},finishForInStatement:function(t,e,n){return this.type=fe.ForInStatement,this.left=t,this.right=e,this.body=n,this.each=!1,this.finish(),this},finishFunctionDeclaration:function(t,e,n,r){return this.type=fe.FunctionDeclaration,this.id=t,this.params=e,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishFunctionExpression:function(t,e,n,r){return this.type=fe.FunctionExpression,this.id=t,this.params=e,this.defaults=n,this.body=r,this.rest=null,this.generator=!1,this.expression=!1,this.finish(),this},finishIdentifier:function(t){return this.type=fe.Identifier,this.name=t,this.finish(),this},finishIfStatement:function(t,e,n){return this.type=fe.IfStatement,this.test=t,this.consequent=e,this.alternate=n,this.finish(),this},finishLabeledStatement:function(t,e){return this.type=fe.LabeledStatement,this.label=t,this.body=e,this.finish(),this},finishLiteral:function(t){return this.type=fe.Literal,this.value=t.value,this.raw=me.slice(t.start,t.end),this.finish(),this},finishMemberExpression:function(t,e,n){return this.type=fe.MemberExpression,this.computed="["===t,this.object=e,this.property=n,this.finish(),this},finishNewExpression:function(t,e){return this.type=fe.NewExpression,this.callee=t,this.arguments=e,this.finish(),this},finishObjectExpression:function(t){return this.type=fe.ObjectExpression,this.properties=t,this.finish(),this},finishPostfixExpression:function(t,e){return this.type=fe.UpdateExpression,this.operator=t,this.argument=e,this.prefix=!1,this.finish(),this},finishProgram:function(t){return this.type=fe.Program,this.body=t,this.finish(),this},finishProperty:function(t,e,n){return this.type=fe.Property,this.key=e,this.value=n,this.kind=t,this.finish(),this},finishReturnStatement:function(t){return this.type=fe.ReturnStatement,this.argument=t,this.finish(),this},finishSequenceExpression:function(t){return this.type=fe.SequenceExpression,this.expressions=t,this.finish(),this},finishSwitchCase:function(t,e){return this.type=fe.SwitchCase,this.test=t,this.consequent=e,this.finish(),this},finishSwitchStatement:function(t,e){return this.type=fe.SwitchStatement,this.discriminant=t,this.cases=e,this.finish(),this},finishThisExpression:function(){return this.type=fe.ThisExpression,this.finish(),this},finishThrowStatement:function(t){return this.type=fe.ThrowStatement,this.argument=t,this.finish(),this},finishTryStatement:function(t,e,n,r){return this.type=fe.TryStatement,this.block=t,this.guardedHandlers=e,this.handlers=n,this.finalizer=r,this.finish(),this},finishUnaryExpression:function(t,e){return this.type="++"===t||"--"===t?fe.UpdateExpression:fe.UnaryExpression,this.operator=t,this.argument=e,this.prefix=!0,this.finish(),this},finishVariableDeclaration:function(t,e){return this.type=fe.VariableDeclaration,this.declarations=t,this.kind=e,this.finish(),this},finishVariableDeclarator:function(t,e){return this.type=fe.VariableDeclarator,this.id=t,this.init=e,this.finish(),this},finishWhileStatement:function(t,e){return this.type=fe.WhileStatement,this.test=t,this.body=e,this.finish(),this},finishWithStatement:function(t,e){return this.type=fe.WithStatement,this.object=t,this.body=e,this.finish(),this}},t.version="2.0.0-dev",t.tokenize=se,t.parse=ae,t.Syntax=function(){var t,e={};"function"==typeof Object.create&&(e=Object.create(null));for(t in fe)fe.hasOwnProperty(t)&&(e[t]=fe[t]);return"function"==typeof Object.freeze&&Object.freeze(e),e}()})},require("MobileServiceClient")}(this||exports),!function(){"use strict";function t(t,e,n,r,i,o,s){function a(t){if(t)h(t.toastId);else for(var e=0;e<y.length;e++)h(y[e].toastId)}function u(t,e,n){var r=p().iconClasses.error;return d(r,t,e,n)}function c(t,e,n){var r=p().iconClasses.info;return d(r,t,e,n)}function l(t,e,n){var r=p().iconClasses.success;return d(r,t,e,n)}function f(t,e,n){var r=p().iconClasses.warning;return d(r,t,e,n)}function h(e,n){function r(t){for(var e=0;e<y.length;e++)if(y[e].toastId===t)return y[e]}function i(){return!y.length}var a=r(e);a&&!a.deleting&&(a.deleting=!0,a.isOpened=!1,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(n),a.scope.$destroy();var t=y.indexOf(a);delete w[a.scope.message],y.splice(t,1);var e=o.maxOpened;e&&y.length>=e&&y[e-1].open.resolve(),i()&&(g.remove(),g=null,S=s.defer())}))}function d(t,e,n,r){return angular.isObject(n)&&(r=n,n=null),m({iconClass:t,message:e,optionsOverride:r,title:n})}function p(){return angular.extend({},o)}function v(e){if(g)return S.promise;g=angular.element("<div></div>"),g.attr("id",e.containerId),g.addClass(e.positionClass),g.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(g,n).then(function(){S.resolve()}),S.promise}function m(n){function o(t,e,n){n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=i.trustAsHtml(e.title),t.scope.message=i.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:n.onShown,progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function a(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,r=e.length;r>n;n++)delete t[e[n]];return t}var e={toastId:b++,isOpened:!1,scope:r.$new(),open:s.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(f=angular.extend(f,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),o(e,n,f),e.el=u(e.scope),e}function u(t){var n=angular.element("<div toast></div>"),r=e.get("$compile");return r(n)(t)}function c(){return f.maxOpened&&y.length<=f.maxOpened||!f.maxOpened}function l(){var t=f.preventDuplicates&&n.message===_,e=f.preventOpenDuplicates&&w[n.message];return!(!t&&!e)||(_=n.message,w[n.message]=!0,!1)}var f=p();if(!l()){var d=a();if(y.push(d),f.autoDismiss&&f.maxOpened>0)for(var m=y.slice(0,y.length-f.maxOpened),S=0,x=m.length;x>S;S++)h(m[S].toastId);return c()&&d.open.resolve(),d.open.promise.then(function(){v(f).then(function(){if(d.isOpened=!0,f.newestOnTop)t.enter(d.el,g).then(function(){d.scope.init()});else{var e=g[0].lastChild?angular.element(g[0].lastChild):null;t.enter(d.el,g,e).then(function(){d.scope.init()})}})}),d}}var g,b=0,y=[],_="",w={},S=s.defer(),x={clear:a,error:u,info:c,remove:h,success:l,warning:f};return x}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,r){function i(){var t=(a-(new Date).getTime())/s*100;e.css("width",t+"%")}var o,s,a;r.progressBar=t,t.start=function(t){o&&clearInterval(o),s=parseFloat(t),a=(new Date).getTime()+s,o=setInterval(i,10)},t.stop=function(){o&&clearInterval(o)},t.$on("$destroy",function(){clearInterval(o)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,r){function i(n,i,o,s){function a(t){return s.startProgressBar(t),e(function(){s.stopProgressBar(),r.remove(n.toastId)},t,1)}function u(){n.progressBar=!1,s.stopProgressBar()}function c(){return n.options.closeHtml}var l;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,c()){var f=angular.element(n.options.closeHtml),h=t.get("$compile");f.addClass("toast-close-button"),f.attr("ng-click","close()"),h(f)(n),i.prepend(f)}n.init=function(){n.options.timeOut&&(l=a(n.options.timeOut)),n.options.onShown&&n.options.onShown()},i.on("mouseenter",function(){u(),l&&e.cancel(l)}),n.tapToast=function(){n.options.tapToDismiss&&n.close(!0)},n.close=function(t){r.remove(n.toastId,t)},i.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),l=a(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:i}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),!function(){"use strict";function t(t,e,n,r,i,o,s){function a(t){if(t)h(t.toastId);else for(var e=0;e<y.length;e++)h(y[e].toastId)}function u(t,e,n){var r=p().iconClasses.error;return d(r,t,e,n)}function c(t,e,n){var r=p().iconClasses.info;return d(r,t,e,n)}function l(t,e,n){var r=p().iconClasses.success;return d(r,t,e,n)}function f(t,e,n){var r=p().iconClasses.warning;return d(r,t,e,n)}function h(e,n){function r(t){for(var e=0;e<y.length;e++)if(y[e].toastId===t)return y[e]}function i(){return!y.length}var a=r(e);a&&!a.deleting&&(a.deleting=!0,a.isOpened=!1,t.leave(a.el).then(function(){a.scope.options.onHidden&&a.scope.options.onHidden(n),a.scope.$destroy();var t=y.indexOf(a);delete w[a.scope.message],y.splice(t,1);var e=o.maxOpened;e&&y.length>=e&&y[e-1].open.resolve(),i()&&(g.remove(),g=null,S=s.defer())}))}function d(t,e,n,r){return angular.isObject(n)&&(r=n,n=null),m({iconClass:t,message:e,optionsOverride:r,title:n})}function p(){return angular.extend({},o)}function v(e){if(g)return S.promise;g=angular.element("<div></div>"),g.attr("id",e.containerId),g.addClass(e.positionClass),g.css({"pointer-events":"auto"});var n=angular.element(document.querySelector(e.target));if(!n||!n.length)throw"Target for toasts doesn't exist";return t.enter(g,n).then(function(){S.resolve()}),S.promise}function m(n){function o(t,e,n){n.allowHtml?(t.scope.allowHtml=!0,t.scope.title=i.trustAsHtml(e.title),t.scope.message=i.trustAsHtml(e.message)):(t.scope.title=e.title,t.scope.message=e.message),t.scope.toastType=t.iconClass,t.scope.toastId=t.toastId,t.scope.options={extendedTimeOut:n.extendedTimeOut,messageClass:n.messageClass,onHidden:n.onHidden,onShown:n.onShown,progressBar:n.progressBar,tapToDismiss:n.tapToDismiss,timeOut:n.timeOut,titleClass:n.titleClass,toastClass:n.toastClass},n.closeButton&&(t.scope.options.closeHtml=n.closeHtml)}function a(){function t(t){for(var e=["containerId","iconClasses","maxOpened","newestOnTop","positionClass","preventDuplicates","preventOpenDuplicates","templates"],n=0,r=e.length;r>n;n++)delete t[e[n]];
return t}var e={toastId:b++,isOpened:!1,scope:r.$new(),open:s.defer()};return e.iconClass=n.iconClass,n.optionsOverride&&(f=angular.extend(f,t(n.optionsOverride)),e.iconClass=n.optionsOverride.iconClass||e.iconClass),o(e,n,f),e.el=u(e.scope),e}function u(t){var n=angular.element("<div toast></div>"),r=e.get("$compile");return r(n)(t)}function c(){return f.maxOpened&&y.length<=f.maxOpened||!f.maxOpened}function l(){var t=f.preventDuplicates&&n.message===_,e=f.preventOpenDuplicates&&w[n.message];return!(!t&&!e)||(_=n.message,w[n.message]=!0,!1)}var f=p();if(!l()){var d=a();if(y.push(d),f.autoDismiss&&f.maxOpened>0)for(var m=y.slice(0,y.length-f.maxOpened),S=0,x=m.length;x>S;S++)h(m[S].toastId);return c()&&d.open.resolve(),d.open.promise.then(function(){v(f).then(function(){if(d.isOpened=!0,f.newestOnTop)t.enter(d.el,g).then(function(){d.scope.init()});else{var e=g[0].lastChild?angular.element(g[0].lastChild):null;t.enter(d.el,g,e).then(function(){d.scope.init()})}})}),d}}var g,b=0,y=[],_="",w={},S=s.defer(),x={clear:a,error:u,info:c,remove:h,success:l,warning:f};return x}angular.module("toastr",[]).factory("toastr",t),t.$inject=["$animate","$injector","$document","$rootScope","$sce","toastrConfig","$q"]}(),function(){"use strict";angular.module("toastr").constant("toastrConfig",{allowHtml:!1,autoDismiss:!1,closeButton:!1,closeHtml:"<button>&times;</button>",containerId:"toast-container",extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},maxOpened:0,messageClass:"toast-message",newestOnTop:!0,onHidden:null,onShown:null,positionClass:"toast-top-right",preventDuplicates:!1,preventOpenDuplicates:!1,progressBar:!1,tapToDismiss:!0,target:"body",templates:{toast:"directives/toast/toast.html",progressbar:"directives/progressbar/progressbar.html"},timeOut:5e3,titleClass:"toast-title",toastClass:"toast"})}(),function(){"use strict";function t(t){function e(t,e,n,r){function i(){var t=(a-(new Date).getTime())/s*100;e.css("width",t+"%")}var o,s,a;r.progressBar=t,t.start=function(t){o&&clearInterval(o),s=parseFloat(t),a=(new Date).getTime()+s,o=setInterval(i,10)},t.stop=function(){o&&clearInterval(o)},t.$on("$destroy",function(){clearInterval(o)})}return{replace:!0,require:"^toast",templateUrl:function(){return t.templates.progressbar},link:e}}angular.module("toastr").directive("progressBar",t),t.$inject=["toastrConfig"]}(),function(){"use strict";function t(){this.progressBar=null,this.startProgressBar=function(t){this.progressBar&&this.progressBar.start(t)},this.stopProgressBar=function(){this.progressBar&&this.progressBar.stop()}}angular.module("toastr").controller("ToastController",t)}(),function(){"use strict";function t(t,e,n,r){function i(n,i,o,s){function a(t){return s.startProgressBar(t),e(function(){s.stopProgressBar(),r.remove(n.toastId)},t,1)}function u(){n.progressBar=!1,s.stopProgressBar()}function c(){return n.options.closeHtml}var l;if(n.toastClass=n.options.toastClass,n.titleClass=n.options.titleClass,n.messageClass=n.options.messageClass,n.progressBar=n.options.progressBar,c()){var f=angular.element(n.options.closeHtml),h=t.get("$compile");f.addClass("toast-close-button"),f.attr("ng-click","close()"),h(f)(n),i.prepend(f)}n.init=function(){n.options.timeOut&&(l=a(n.options.timeOut)),n.options.onShown&&n.options.onShown()},i.on("mouseenter",function(){u(),l&&e.cancel(l)}),n.tapToast=function(){n.options.tapToDismiss&&n.close(!0)},n.close=function(t){r.remove(n.toastId,t)},i.on("mouseleave",function(){(0!==n.options.timeOut||0!==n.options.extendedTimeOut)&&(n.$apply(function(){n.progressBar=n.options.progressBar}),l=a(n.options.extendedTimeOut))})}return{replace:!0,templateUrl:function(){return n.templates.toast},controller:"ToastController",link:i}}angular.module("toastr").directive("toast",t),t.$inject=["$injector","$interval","toastrConfig","toastr"]}(),angular.module("toastr").run(["$templateCache",function(t){t.put("directives/progressbar/progressbar.html",'<div class="toast-progress"></div>\n'),t.put("directives/toast/toast.html",'<div class="{{toastClass}} {{toastType}}" ng-click="tapToast()">\n  <div ng-switch on="allowHtml">\n    <div ng-switch-default ng-if="title" class="{{titleClass}}">{{title}}</div>\n    <div ng-switch-default class="{{messageClass}}">{{message}}</div>\n    <div ng-switch-when="true" ng-if="title" class="{{titleClass}}" ng-bind-html="title"></div>\n    <div ng-switch-when="true" class="{{messageClass}}" ng-bind-html="message"></div>\n  </div>\n  <progress-bar ng-if="progressBar"></progress-bar>\n</div>\n')}]),!function(){"use strict";angular.module("base64",[]).constant("$base64",function(){function t(t,e){var n=o.indexOf(t.charAt(e));if(-1==n)throw"Cannot decode base64";return n}function e(e){e=""+e;var n,r,o,s=e.length;if(0==s)return e;if(0!=s%4)throw"Cannot decode base64";n=0,e.charAt(s-1)==i&&(n=1,e.charAt(s-2)==i&&(n=2),s-=4);var a=[];for(r=0;s>r;r+=4)o=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6|t(e,r+3),a.push(String.fromCharCode(o>>16,255&o>>8,255&o));switch(n){case 1:o=t(e,r)<<18|t(e,r+1)<<12|t(e,r+2)<<6,a.push(String.fromCharCode(o>>16,255&o>>8));break;case 2:o=t(e,r)<<18|t(e,r+1)<<12,a.push(String.fromCharCode(o>>16))}return a.join("")}function n(t,e){var n=t.charCodeAt(e);if(n>255)throw"INVALID_CHARACTER_ERR: DOM Exception 5";return n}function r(t){if(1!=arguments.length)throw"SyntaxError: Not enough arguments";var e,r,s=[];t=""+t;var a=t.length-t.length%3;if(0==t.length)return t;for(e=0;a>e;e+=3)r=n(t,e)<<16|n(t,e+1)<<8|n(t,e+2),s.push(o.charAt(r>>18)),s.push(o.charAt(63&r>>12)),s.push(o.charAt(63&r>>6)),s.push(o.charAt(63&r));switch(t.length-a){case 1:r=n(t,e)<<16,s.push(o.charAt(r>>18)+o.charAt(63&r>>12)+i+i);break;case 2:r=n(t,e)<<16|n(t,e+1)<<8,s.push(o.charAt(r>>18)+o.charAt(63&r>>12)+o.charAt(63&r>>6)+i)}return s.join("")}var i="=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";return{encode:r,decode:e}}())}(),!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Z.type(t);return"function"!==n&&!Z.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t))}function r(t,e,n){if(Z.isFunction(e))return Z.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Z.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(at.test(e))return Z.filter(e,t,n);e=Z.filter(e,t)}return Z.grep(t,function(t){return W.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return Z.each(t.match(dt)||[],function(t,n){e[n]=!0}),e}function s(){Y.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function u(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(_t,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:yt.test(n)?Z.parseJSON(n):n)}catch(i){}bt.set(t,e,n)}else n=void 0;return n}function c(){return!0}function l(){return!1}function f(){try{return Y.activeElement}catch(t){}}function h(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Lt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function v(t,e){for(var n=0,r=t.length;r>n;n++)gt.set(t[n],"globalEval",!e||gt.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(gt.hasData(t)&&(o=gt.access(t),s=gt.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)Z.event.add(e,i,c[i][n])}bt.hasData(t)&&(a=bt.access(t),u=Z.extend({},a),bt.set(e,u))}}function g(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],n):n}function b(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Et.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function y(e,n){var r,i=Z(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Z.css(i[0],"display");return i.detach(),o}function _(t){var e=Y,n=Bt[t];return n||(n=y(t,e),"none"!==n&&n||(qt=(qt||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=qt[0].contentDocument,e.write(),e.close(),n=y(t,e),qt.detach()),Bt[t]=n),n}function w(t,e,n){var r,i,o,s,a=t.style;return n=n||Ht(t),n&&(s=n.getPropertyValue(e)||n[e]),n&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),Ut.test(s)&&Ft.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function S(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function x(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xt.length;i--;)if(e=Xt[i]+n,e in t)return e;return r}function E(t,e,n){var r=Vt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function C(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=Z.css(t,n+St[o],!0,i)),r?("content"===n&&(s-=Z.css(t,"padding"+St[o],!0,i)),"margin"!==n&&(s-=Z.css(t,"border"+St[o]+"Width",!0,i))):(s+=Z.css(t,"padding"+St[o],!0,i),"padding"!==n&&(s+=Z.css(t,"border"+St[o]+"Width",!0,i)));return s}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=Ht(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=w(t,e,o),(0>i||null==i)&&(i=t.style[e]),Ut.test(i))return i;r=s&&(G.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+C(t,e,n||(s?"border":"content"),r,o)+"px"}function A(t,e){for(var n,r,i,o=[],s=0,a=t.length;a>s;s++)r=t[s],r.style&&(o[s]=gt.get(r,"olddisplay"),n=r.style.display,e?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&xt(r)&&(o[s]=gt.access(r,"olddisplay",_(r.nodeName)))):(i=xt(r),"none"===n&&i||gt.set(r,"olddisplay",i?n:Z.css(r,"display"))));for(s=0;a>s;s++)r=t[s],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[s]||"":"none"));return t}function $(t,e,n,r,i){return new $.prototype.init(t,e,n,r,i)}function T(){return setTimeout(function(){Gt=void 0}),Gt=Z.now()}function N(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=St[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function O(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function I(t,e,n){var r,i,o,s,a,u,c,l,f=this,h={},d=t.style,p=t.nodeType&&xt(t),v=gt.get(t,"fxshow");n.queue||(a=Z._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],c=Z.css(t,"display"),l="none"===c?gt.get(t,"olddisplay")||_(t.nodeName):c,"inline"===l&&"none"===Z.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Qt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;p=!0}h[r]=v&&v[r]||Z.style(t,r)}else c=void 0;if(Z.isEmptyObject(h))"inline"===("none"===c?_(t.nodeName):c)&&(d.display=c);else{v?"hidden"in v&&(p=v.hidden):v=gt.access(t,"fxshow",{}),o&&(v.hidden=!p),p?Z(t).show():f.done(function(){Z(t).hide()}),f.done(function(){var e;gt.remove(t,"fxshow");for(e in h)Z.style(t,e,h[e])});for(r in h)s=O(p?v[r]:0,r,f),r in v||(v[r]=s.start,p&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}}function M(t,e){var n,r,i,o,s;for(n in t)if(r=Z.camelCase(n),i=e[r],o=t[n],Z.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=Z.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function R(t,e,n){var r,i,o=0,s=ee.length,a=Z.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=Gt||T(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Gt||T(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Z.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?a.resolveWith(t,[c,e]):a.rejectWith(t,[c,e]),this}}),l=c.props;for(M(l,c.opts.specialEasing);s>o;o++)if(r=ee[o].call(c,t,l,c.opts))return r;return Z.map(l,O,c),Z.isFunction(c.opts.start)&&c.opts.start.call(t,c),Z.fx.timer(Z.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function D(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(dt)||[];if(Z.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function L(t,e,n,r){function i(a){var u;return o[a]=!0,Z.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===ye;return i(e.dataTypes[0])||!o["*"]&&i("*")}function j(t,e){var n,r,i=Z.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Z.extend(!0,t,r),t}function P(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function q(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(f){return{state:"parsererror",error:s?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function B(t,e,n,r){var i;if(Z.isArray(e))Z.each(e,function(e,i){n||Ee.test(t)?r(t,i):B(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Z.type(e))r(t,e);else for(i in e)B(t+"["+i+"]",e[i],n,r)}function F(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var U=[],H=U.slice,z=U.concat,V=U.push,W=U.indexOf,K={},J=K.toString,X=K.hasOwnProperty,G={},Y=t.document,Q="2.1.4",Z=function(t,e){return new Z.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:Q,constructor:Z,selector:"",length:0,toArray:function(){return H.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:H.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(H.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:V,sort:U.sort,splice:U.splice},Z.extend=Z.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(Z.isPlainObject(r)||(i=Z.isArray(r)))?(i?(i=!1,o=n&&Z.isArray(n)?n:[]):o=n&&Z.isPlainObject(n)?n:{},s[e]=Z.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},Z.extend({expando:"jQuery"+(Q+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===Z.type(t)&&!t.nodeType&&!Z.isWindow(t)&&!(t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?K[J.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Z.trim(t),t&&(1===t.indexOf("use strict")?(e=Y.createElement("script"),e.text=t,Y.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,s=t.length,a=n(t);if(r){if(a)for(;s>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(a)for(;s>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Z.merge(r,"string"==typeof t?[t]:t):V.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:W.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,s=t.length,a=n(t),u=[];if(a)for(;s>o;o++)i=e(t[o],o,r),null!=i&&u.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&u.push(i);return z.apply([],u)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Z.isFunction(t)?(r=H.call(arguments,2),i=function(){return t.apply(e||this,r.concat(H.call(arguments)))},i.guid=t.guid=t.guid||Z.guid++,i):void 0},now:Date.now,support:G}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){K["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,n,r){var i,o,s,a,u,c,f,d,p,v;if((e?e.ownerDocument||e:B)!==I&&O(e),e=e||I,n=n||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return n;if(!r&&R){if(11!==a&&(i=bt.exec(t)))if(s=i[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&P(e,o)&&o.id===s)return n.push(o),n}else{if(i[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((s=i[3])&&w.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(s)),n}if(w.qsa&&(!D||!D.test(t))){if(d=f=q,p=e,v=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=C(t),(f=e.getAttribute("id"))?d=f.replace(_t,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+h(c[u]);p=yt.test(t)&&l(e.parentNode)||e,v=c.join(",")}if(v)try{return Q.apply(n,p.querySelectorAll(v)),n}catch(m){}finally{f||e.removeAttribute("id")}}}return A(t.replace(ut,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>S.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[q]=!0,t}function i(t){var e=I.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)S.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||K)-(~t.sourceIndex||K);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function l(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function h(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=U++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,s){var a,u,c=[F,o];if(s){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(u=e[q]||(e[q]={}),(a=u[r])&&a[0]===F&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=t(e,n,s))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(!n||n(o,r,i))&&(s.push(o),c&&e.push(a));return s}function g(t,e,n,i,o,s){return i&&!i[q]&&(i=g(i)),o&&!o[q]&&(o=g(o,s)),r(function(r,s,a,u){var c,l,f,h=[],d=[],p=s.length,g=r||v(e||"*",a.nodeType?[a]:a,[]),b=!t||!r&&e?g:m(g,h,t,a,u),y=n?o||(r?t:p||i)?[]:s:b;if(n&&n(b,y,a,u),i)for(c=m(y,d),i(c,[],a,u),l=c.length;l--;)(f=c[l])&&(y[d[l]]=!(b[d[l]]=f));if(r){if(o||t){if(o){for(c=[],l=y.length;l--;)(f=y[l])&&c.push(b[l]=f);o(null,y=[],c,u)}for(l=y.length;l--;)(f=y[l])&&(c=o?tt(r,f):h[l])>-1&&(r[c]=!(s[c]=f))}}else y=m(y===s?y.splice(p,y.length):y),o?o(null,s,y,u):Q.apply(s,y)})}function b(t){for(var e,n,r,i=t.length,o=S.relative[t[0].type],s=o||S.relative[" "],a=o?1:0,u=d(function(t){return t===e},s,!0),c=d(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==$)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];i>a;a++)if(n=S.relative[t[a].type])l=[d(p(l),n)];else{if(n=S.filter[t[a].type].apply(null,t[a].matches),n[q]){for(r=++a;i>r&&!S.relative[t[r].type];r++);return g(a>1&&p(l),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ut,"$1"),n,r>a&&b(t.slice(a,r)),i>r&&b(t=t.slice(r)),i>r&&h(t))}l.push(n)}return p(l)}function y(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,f,h,d=0,p="0",v=r&&[],g=[],b=$,y=r||o&&S.find.TAG("*",c),_=F+=null==b?1:Math.random()||.1,w=y.length;for(c&&($=s!==I&&s);p!==w&&null!=(l=y[p]);p++){if(o&&l){for(f=0;h=t[f++];)if(h(l,s,a)){u.push(l);break}c&&(F=_)}i&&((l=!h&&l)&&d--,r&&v.push(l))}if(d+=p,i&&p!==d){for(f=0;h=n[f++];)h(v,g,s,a);if(r){if(d>0)for(;p--;)v[p]||g[p]||(g[p]=G.call(u));g=m(g)}Q.apply(u,g),c&&!r&&g.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(F=_,$=b),v};return i?r(s):s}var _,w,S,x,E,C,k,A,$,T,N,O,I,M,R,D,L,j,P,q="sizzle"+1*new Date,B=t.document,F=0,U=0,H=n(),z=n(),V=n(),W=function(t,e){return t===e&&(N=!0),0},K=1<<31,J={}.hasOwnProperty,X=[],G=X.pop,Y=X.push,Q=X.push,Z=X.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",st=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),ut=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),lt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ft=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(st),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+st),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},vt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,bt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),St=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=function(){O()};try{Q.apply(X=Z.call(B.childNodes),B.childNodes),X[B.childNodes.length].nodeType}catch(Et){Q={apply:X.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}w=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:B;return r!==I&&9===r.nodeType&&r.documentElement?(I=r,M=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),R=!E(r),w.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),w.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),w.getElementsByClassName=gt.test(r.getElementsByClassName),w.getById=i(function(t){return M.appendChild(t).id=q,!r.getElementsByName||!r.getElementsByName(q).length}),w.getById?(S.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(t){var e=t.replace(wt,St);return function(t){return t.getAttribute("id")===e}}):(delete S.find.ID,S.filter.ID=function(t){var e=t.replace(wt,St);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),S.find.TAG=w.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):w.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},S.find.CLASS=w.getElementsByClassName&&function(t,e){return R?e.getElementsByClassName(t):void 0},L=[],D=[],(w.qsa=gt.test(r.querySelectorAll))&&(i(function(t){M.appendChild(t).innerHTML="<a id='"+q+"'></a><select id='"+q+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&D.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||D.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+q+"-]").length||D.push("~="),t.querySelectorAll(":checked").length||D.push(":checked"),t.querySelectorAll("a#"+q+"+*").length||D.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&D.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||D.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),D.push(",.*:")})),(w.matchesSelector=gt.test(j=M.matches||M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&i(function(t){w.disconnectedMatch=j.call(t,"div"),j.call(t,"[s!='']:x"),L.push("!=",st)}),D=D.length&&new RegExp(D.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(M.compareDocumentPosition),P=e||gt.test(M.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return N=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!w.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===B&&P(B,t)?-1:e===r||e.ownerDocument===B&&P(B,e)?1:T?tt(T,t)-tt(T,e):0:4&n?-1:1)}:function(t,e){if(t===e)return N=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,u=[t],c=[e];if(!o||!a)return t===r?-1:e===r?1:o?-1:a?1:T?tt(T,t)-tt(T,e):0;if(o===a)return s(t,e);for(n=t;n=n.parentNode;)u.unshift(n);for(n=e;n=n.parentNode;)c.unshift(n);for(;u[i]===c[i];)i++;return i?s(u[i],c[i]):u[i]===B?-1:c[i]===B?1:0},r):I},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==I&&O(t),n=n.replace(ft,"='$1']"),!(!w.matchesSelector||!R||L&&L.test(n)||D&&D.test(n)))try{var r=j.call(t,n);if(r||w.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&O(t),P(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&O(t);var n=S.attrHandle[e.toLowerCase()],r=n&&J.call(S.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==r?r:w.attributes||!R?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(N=!w.detectDuplicates,T=!w.sortStable&&t.slice(0),t.sort(W),N){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return T=null,t},x=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=x(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=x(e);return n},S=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,St),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,St),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,St).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(at," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;
return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,h,d,p,v=o!==s?"nextSibling":"previousSibling",m=e.parentNode,g=a&&e.nodeName.toLowerCase(),b=!u&&!a;if(m){if(o){for(;v;){for(f=e;f=f[v];)if(a?f.nodeName.toLowerCase()===g:1===f.nodeType)return!1;p=v="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?m.firstChild:m.lastChild],s&&b){for(l=m[q]||(m[q]={}),c=l[t]||[],d=c[0]===F&&c[1],h=c[0]===F&&c[2],f=d&&m.childNodes[d];f=++d&&f&&f[v]||(h=d=0)||p.pop();)if(1===f.nodeType&&++h&&f===e){l[t]=[F,d,h];break}}else if(b&&(c=(e[q]||(e[q]={}))[t])&&c[0]===F)h=c[1];else for(;(f=++d&&f&&f[v]||(h=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==g:1!==f.nodeType)||!++h||(b&&((f[q]||(f[q]={}))[t]=[F,h]),f!==e)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(t,n){var i,o=S.pseudos[t]||S.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[q]?o(n):o.length>1?(i=[t,t,"",n],S.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(ut,"$1"));return i[q]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(wt,St),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,St).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===M},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!S.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return vt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[0>n?n+e:n]}),even:c(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:c(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},S.pseudos.nth=S.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[_]=a(_);for(_ in{submit:!0,reset:!0})S.pseudos[_]=u(_);return f.prototype=S.filters=S.pseudos,S.setFilters=new f,C=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=z[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=S.preFilter;a;){(!r||(i=ct.exec(a)))&&(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=lt.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ut," ")}),a=a.slice(r.length));for(s in S.filter)!(i=pt[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):z(t,u).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=b(e[n]),o[q]?r.push(o):i.push(o);o=V(t,y(i,r)),o.selector=t}return o},A=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,f=!r&&C(t=c.selector||t);if(n=n||[],1===f.length){if(o=f[0]=f[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&w.getById&&9===e.nodeType&&R&&S.relative[o[1].type]){if(e=(S.find.ID(s.matches[0].replace(wt,St),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(s=o[i],!S.relative[a=s.type]);)if((u=S.find[a])&&(r=u(s.matches[0].replace(wt,St),yt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&h(o),!t)return Q.apply(n,r),n;break}}return(c||k(t,f))(r,e,!R,n,yt.test(t)&&l(e.parentNode)||e),n},w.sortStable=q.split("").sort(W).join("")===q,w.detectDuplicates=!!N,O(),w.sortDetached=i(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),w.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Z.find=it,Z.expr=it.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=it.uniqueSort,Z.text=it.getText,Z.isXMLDoc=it.isXML,Z.contains=it.contains;var ot=Z.expr.match.needsContext,st=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Z.find.matchesSelector(r,t)?[r]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;n>e;e++)if(Z.contains(i[e],this))return!0}));for(e=0;n>e;e++)Z.find(t,i[e],r);return r=this.pushStack(n>1?Z.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?Z(t):t||[],!1).length}});var ut,ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,lt=Z.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ct.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||ut).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Y,!0)),st.test(n[1])&&Z.isPlainObject(e))for(n in e)Z.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Y.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Y,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?"undefined"!=typeof ut.ready?ut.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))};lt.prototype=Z.fn,ut=Z(Y);var ft=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Z(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Z.fn.extend({has:function(t){var e=Z(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],s=ot.test(t)||"string"!=typeof t?Z(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&Z.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?W.call(Z(t),this[0]):W.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Z.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Z.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Z.dir(t,"previousSibling",n)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(n,r){var i=Z.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Z.filter(r,i)),this.length>1&&(ht[t]||Z.unique(i),ft.test(t)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,pt={};Z.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):Z.extend({},t);var e,n,r,i,s,a,u=[],c=!t.once&&[],l=function(o){for(e=t.memory&&o,n=!0,a=i||0,i=0,s=u.length,r=!0;u&&s>a;a++)if(u[a].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,u&&(c?c.length&&l(c.shift()):e?u=[]:f.disable())},f={add:function(){if(u){var n=u.length;!function o(e){Z.each(e,function(e,n){var r=Z.type(n);"function"===r?t.unique&&f.has(n)||u.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?s=u.length:e&&(i=n,l(e))}return this},remove:function(){return u&&Z.each(arguments,function(t,e){for(var n;(n=Z.inArray(e,u,n))>-1;)u.splice(n,1),r&&(s>=n&&s--,a>=n&&a--)}),this},has:function(t){return t?Z.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],s=0,this},disable:function(){return u=c=e=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,e||f.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||n&&!c||(e=e||[],e=[t,e.slice?e.slice():e],r?c.push(e):l(e)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!n}};return f},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(n){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];i[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,r):r}},i={};return r.pipe=r.then,Z.each(e,function(t,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=H.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,u=1===a?t:Z.Deferred(),c=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?H.call(arguments):i,r===e?u.notifyWith(n,r):--a||u.resolveWith(n,r)}};if(s>1)for(e=new Array(s),n=new Array(s),r=new Array(s);s>i;i++)o[i]&&Z.isFunction(o[i].promise)?o[i].promise().done(c(i,r,o)).fail(u.reject).progress(c(i,n,e)):--a;return a||u.resolveWith(r,o),u.promise()}});var vt;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(t===!0?--Z.readyWait:Z.isReady)||(Z.isReady=!0,t!==!0&&--Z.readyWait>0||(vt.resolveWith(Y,[Z]),Z.fn.triggerHandler&&(Z(Y).triggerHandler("ready"),Z(Y).off("ready"))))}}),Z.ready.promise=function(e){return vt||(vt=Z.Deferred(),"complete"===Y.readyState?setTimeout(Z.ready):(Y.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),vt.promise(e)},Z.ready.promise();var mt=Z.access=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===Z.type(n)){i=!0;for(a in n)Z.access(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,Z.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(Z(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=a.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Z.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Z.isEmptyObject(o))Z.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Z.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?r=e.concat(e.map(Z.camelCase)):(i=Z.camelCase(e),e in s?r=[e,i]:(r=i,r=r in s?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete s[r[n]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var gt=new a,bt=new a,yt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,_t=/([A-Z])/g;Z.extend({hasData:function(t){return bt.hasData(t)||gt.hasData(t)},data:function(t,e,n){return bt.access(t,e,n)},removeData:function(t,e){bt.remove(t,e)},_data:function(t,e,n){return gt.access(t,e,n)},_removeData:function(t,e){gt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=bt.get(o),1===o.nodeType&&!gt.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=Z.camelCase(r.slice(5)),u(o,r,i[r])));gt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){bt.set(this,t)}):mt(this,function(e){var n,r=Z.camelCase(t);if(o&&void 0===e){if(n=bt.get(o,t),void 0!==n)return n;if(n=bt.get(o,r),void 0!==n)return n;if(n=u(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=bt.get(this,r);bt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&bt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){bt.remove(this,t)})}}),Z.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=gt.get(t,e),n&&(!r||Z.isArray(n)?r=gt.access(t,e,Z.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Z.queue(t,e),r=n.length,i=n.shift(),o=Z._queueHooks(t,e),s=function(){Z.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return gt.get(t,n)||gt.access(t,n,{empty:Z.Callbacks("once memory").add(function(){gt.remove(t,[e+"queue",n])})})}}),Z.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Z.queue(this[0],t):void 0===e?this:this.each(function(){var n=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Z.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=gt.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var wt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,St=["Top","Right","Bottom","Left"],xt=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},Et=/^(?:checkbox|radio)$/i;!function(){var t=Y.createDocumentFragment(),e=t.appendChild(Y.createElement("div")),n=Y.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),G.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",G.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";G.focusinBubbles="onfocusin"in t;var kt=/^key/,At=/^(?:mouse|pointer|contextmenu)|click/,$t=/^(?:focusinfocus|focusoutblur)$/,Tt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,d,p,v,m=gt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Z.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(e){return typeof Z!==Ct&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(dt)||[""],c=e.length;c--;)a=Tt.exec(e[c])||[],d=v=a[1],p=(a[2]||"").split(".").sort(),d&&(f=Z.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Z.event.special[d]||{},l=Z.extend({type:d,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Z.expr.match.needsContext.test(i),namespace:p.join(".")},o),(h=u[d])||(h=u[d]=[],h.delegateCount=0,f.setup&&f.setup.call(t,r,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s,!1)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),Z.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,f,h,d,p,v,m=gt.hasData(t)&&gt.get(t);if(m&&(u=m.events)){for(e=(e||"").match(dt)||[""],c=e.length;c--;)if(a=Tt.exec(e[c])||[],d=v=a[1],p=(a[2]||"").split(".").sort(),d){for(f=Z.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,h=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)l=h[o],!i&&v!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(h.splice(o,1),l.selector&&h.delegateCount--,f.remove&&f.remove.call(t,l));s&&!h.length&&(f.teardown&&f.teardown.call(t,p,m.handle)!==!1||Z.removeEvent(t,d,m.handle),delete u[d])}else for(d in u)Z.event.remove(t,d+e[c],n,r,!0);Z.isEmptyObject(u)&&(delete m.handle,gt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,s,a,u,c,l,f,h=[r||Y],d=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||Y,3!==r.nodeType&&8!==r.nodeType&&!$t.test(d+Z.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[Z.expando]?e:new Z.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:Z.makeArray(n,[e]),f=Z.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!Z.isWindow(r)){for(u=f.delegateType||d,$t.test(u+d)||(s=s.parentNode);s;s=s.parentNode)h.push(s),a=s;a===(r.ownerDocument||Y)&&h.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=h[o++])&&!e.isPropagationStopped();)e.type=o>1?u:f.bindType||d,l=(gt.get(s,"events")||{})[e.type]&&gt.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&Z.acceptData(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||f._default&&f._default.apply(h.pop(),n)!==!1||!Z.acceptData(r)||c&&Z.isFunction(r[d])&&!Z.isWindow(r)&&(a=r[c],a&&(r[c]=null),Z.event.triggered=d,r[d](),Z.event.triggered=void 0,a&&(r[c]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,n,r,i,o,s=[],a=H.call(arguments),u=(gt.get(this,"events")||{})[t.type]||[],c=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(s=Z.event.handlers.call(this,t,u),e=0;(i=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Z.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,a),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Z(i,this).index(u)>=0:Z.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Y,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,n,r,i=t.type,o=t,s=this.fixHooks[i];for(s||(this.fixHooks[i]=s=At.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=Y),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==f()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Z.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Z.extend(new Z.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Z.event.trigger(i,null,e):Z.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Z.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Z.Event=function(t,e){return this instanceof Z.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?c:l):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),void(this[Z.expando]=!0)):new Z.Event(t,e)},Z.Event.prototype={isDefaultPrevented:l,isPropagationStopped:l,isImmediatePropagationStopped:l,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=c,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=c,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=c,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Z.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),G.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=gt.access(r,e);i||r.addEventListener(t,n,!0),gt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=gt.access(r,e)-1;i?gt.access(r,e,i):(r.removeEventListener(t,n,!0),gt.remove(r,e))}}}),Z.fn.extend({on:function(t,e,n,r,i){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(s in t)this.on(s,e,n,t[s],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=l;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Z().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Z(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=l),this.each(function(){Z.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Z.event.trigger(t,e,n,!0):void 0}});var Nt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,It=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^$|\/(?:java|ecma)script/i,Lt=/^true\/(.*)/,jt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Pt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pt.optgroup=Pt.option,Pt.tbody=Pt.tfoot=Pt.colgroup=Pt.caption=Pt.thead,Pt.th=Pt.td,Z.extend({clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=Z.contains(t.ownerDocument,t);if(!(G.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=g(a),o=g(t),r=0,i=o.length;i>r;r++)b(o[r],s[r]);if(e)if(n)for(o=o||g(t),s=s||g(a),r=0,i=o.length;i>r;r++)m(o[r],s[r]);else m(t,a);return s=g(a,"script"),s.length>0&&v(s,!u&&g(t,"script")),a},buildFragment:function(t,e,n,r){for(var i,o,s,a,u,c,l=e.createDocumentFragment(),f=[],h=0,d=t.length;d>h;h++)if(i=t[h],i||0===i)if("object"===Z.type(i))Z.merge(f,i.nodeType?[i]:i);else if(It.test(i)){for(o=o||l.appendChild(e.createElement("div")),s=(Ot.exec(i)||["",""])[1].toLowerCase(),a=Pt[s]||Pt._default,o.innerHTML=a[1]+i.replace(Nt,"<$1></$2>")+a[2],c=a[0];c--;)o=o.lastChild;Z.merge(f,o.childNodes),o=l.firstChild,o.textContent=""}else f.push(e.createTextNode(i));for(l.textContent="",h=0;i=f[h++];)if((!r||-1===Z.inArray(i,r))&&(u=Z.contains(i.ownerDocument,i),o=g(l.appendChild(i),"script"),u&&v(o),n))for(c=0;i=o[c++];)Dt.test(i.type||"")&&n.push(i);return l},cleanData:function(t){for(var e,n,r,i,o=Z.event.special,s=0;void 0!==(n=t[s]);s++){if(Z.acceptData(n)&&(i=n[gt.expando],i&&(e=gt.cache[i]))){if(e.events)for(r in e.events)o[r]?Z.event.remove(n,r):Z.removeEvent(n,r,e.handle);gt.cache[i]&&delete gt.cache[i]}delete bt.cache[n[bt.expando]]}}}),Z.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Z.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Z.cleanData(g(n)),n.parentNode&&(e&&Z.contains(n.ownerDocument,n)&&v(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!Pt[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Nt,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Z.cleanData(g(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(g(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var n,r,i,o,s,a,u=0,c=this.length,l=this,f=c-1,h=t[0],v=Z.isFunction(h);if(v||c>1&&"string"==typeof h&&!G.checkClone&&Rt.test(h))return this.each(function(n){var r=l.eq(n);v&&(t[0]=h.call(this,n,r.html())),r.domManip(t,e)});if(c&&(n=Z.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Z.map(g(n,"script"),d),o=i.length;c>u;u++)s=n,u!==f&&(s=Z.clone(s,!0,!0),o&&Z.merge(i,g(s,"script"))),e.call(this[u],s,u);if(o)for(a=i[i.length-1].ownerDocument,Z.map(i,p),u=0;o>u;u++)s=i[u],Dt.test(s.type||"")&&!gt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(jt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var n,r=[],i=Z(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),Z(i[s])[e](n),V.apply(r,n.get());return this.pushStack(r)}});var qt,Bt={},Ft=/^margin/,Ut=new RegExp("^("+wt+")(?!px)[a-z%]+$","i"),Ht=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(s,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Y.documentElement,o=Y.createElement("div"),s=Y.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",G.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(G,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=s.appendChild(Y.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),s.removeChild(n),e}}))}(),Z.swap=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];
return i};var zt=/^(none|table(?!-c[ea]).+)/,Vt=new RegExp("^("+wt+")(.*)$","i"),Wt=new RegExp("^([+-])=("+wt+")","i"),Kt={position:"absolute",visibility:"hidden",display:"block"},Jt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=w(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=Z.camelCase(e),u=t.style;return e=Z.cssProps[a]||(Z.cssProps[a]=x(u,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Wt.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Z.css(t,e)),o="number"),void(null!=n&&n===n&&("number"!==o||Z.cssNumber[a]||(n+="px"),G.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n))))}},css:function(t,e,n,r){var i,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=x(t.style,a)),s=Z.cssHooks[e]||Z.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=w(t,e,r)),"normal"===i&&e in Jt&&(i=Jt[e]),""===n||n?(o=parseFloat(i),n===!0||Z.isNumeric(o)?o||0:i):i}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,n,r){return n?zt.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Kt,function(){return k(t,e,r)}):k(t,e,r):void 0},set:function(t,n,r){var i=r&&Ht(t);return E(t,n,r?C(t,e,r,"border-box"===Z.css(t,"boxSizing",!1,i),i):0)}}}),Z.cssHooks.marginRight=S(G.reliableMarginRight,function(t,e){return e?Z.swap(t,{display:"inline-block"},w,[t,"marginRight"]):void 0}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+St[r]+e]=o[r]||o[r-2]||o[0];return i}},Ft.test(t)||(Z.cssHooks[t+e].set=E)}),Z.fn.extend({css:function(t,e){return mt(this,function(t,e,n){var r,i,o={},s=0;if(Z.isArray(e)){for(r=Ht(t),i=e.length;i>s;s++)o[e[s]]=Z.css(t,e[s],!1,r);return o}return void 0!==n?Z.style(t,e,n):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){xt(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=$,$.prototype={constructor:$,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Z.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=$.prototype.init,Z.fx.step={};var Gt,Yt,Qt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+wt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[I],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Zt.exec(e),o=i&&i[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+r)&&Zt.exec(Z.css(n.elem,t)),a=1,u=20;if(s&&s[3]!==o){o=o||s[3],i=i||[],s=+r||1;do a=a||".5",s/=a,Z.style(n.elem,t,s+o);while(a!==(a=n.cur()/r)&&1!==a&&--u)}return i&&(s=n.start=+s||+r||0,n.unit=o,n.end=i[1]?s+(i[1]+1)*i[2]:+i[2]),n}]};Z.Animation=Z.extend(R,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Z.speed=function(t,e,n){var r=t&&"object"==typeof t?Z.extend({},t):{complete:n||!n&&e||Z.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Z.isFunction(e)&&e};return r.duration=Z.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Z.fx.speeds?Z.fx.speeds[r.duration]:Z.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Z.isFunction(r.old)&&r.old.call(this),r.queue&&Z.dequeue(this,r.queue)},r},Z.fn.extend({fadeTo:function(t,e,n,r){return this.filter(xt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Z.isEmptyObject(t),o=Z.speed(e,n,r),s=function(){var e=R(this,Z.extend({},t),o);(i||gt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Z.timers,s=gt.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&te.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Z.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=gt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Z.timers,s=r?r.length:0;for(n.finish=!0,Z.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var n=Z.fn[e];Z.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,r,i)}}),Z.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,n=Z.timers;for(Gt=Z.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Z.fx.stop(),Gt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Yt||(Yt=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Yt),Yt=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Y.createElement("input"),e=Y.createElement("select"),n=e.appendChild(Y.createElement("option"));t.type="checkbox",G.checkOn=""!==t.value,G.optSelected=n.selected,e.disabled=!0,G.optDisabled=!n.disabled,t=Y.createElement("input"),t.value="t",t.type="radio",G.radioValue="t"===t.value}();var re,ie,oe=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return mt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ct?Z.prop(t,e,n):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),r=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Z.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Z.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;n=o[i++];)r=Z.propFix[n]||n,Z.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!G.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return e===!1?Z.removeAttr(t,n):t.setAttribute(n,n),n}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||Z.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}});var se=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return mt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!Z.isXMLDoc(t),o&&(e=Z.propFix[e]||e,i=Z.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||se.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),G.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,n,r,i,o,s,a="string"==typeof t&&t,u=0,c=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");s=Z.trim(r),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,r,i,o,s,a=0===arguments.length||"string"==typeof t&&t,u=0,c=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(dt)||[];c>u;u++)if(n=this[u],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(ae," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");s=t?Z.trim(r):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Z.isFunction(t)?function(n){Z(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Z(this),o=t.match(dt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Ct||"boolean"===n)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":gt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var ue=/\r/g;Z.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=Z.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Z(this).val()):t,null==i?i="":"number"==typeof i?i+="":Z.isArray(i)&&(i=Z.map(i,function(t){return null==t?"":t+""})),e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=Z.valHooks[i.type]||Z.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(ue,""):null==n?"":n)):void 0}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],!(!n.selected&&u!==i||(G.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Z.nodeName(n.parentNode,"optgroup"))){if(e=Z(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=Z.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=Z.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){return Z.isArray(e)?t.checked=Z.inArray(Z(t).val(),e)>=0:void 0}},G.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ce=Z.now(),le=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Z.error("Invalid XML: "+t),e};var fe=/#.*$/,he=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ve=/^(?:GET|HEAD)$/,me=/^\/\//,ge=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,be={},ye={},_e="*/".concat("*"),we=t.location.href,Se=ge.exec(we.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we,type:"GET",isLocal:pe.test(Se[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,Z.ajaxSettings),e):j(Z.ajaxSettings,t)},ajaxPrefilter:D(be),ajaxTransport:D(ye),ajax:function(t,e){function n(t,e,n,s){var u,l,g,b,_,S=e;2!==y&&(y=2,a&&clearTimeout(a),r=void 0,o=s||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(b=P(f,w,n)),b=q(f,b,w,u),u?(f.ifModified&&(_=w.getResponseHeader("Last-Modified"),_&&(Z.lastModified[i]=_),_=w.getResponseHeader("etag"),_&&(Z.etag[i]=_)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=b.state,l=b.data,g=b.error,u=!g)):(g=S,(t||!S)&&(S="error",0>t&&(t=0))),w.status=t,w.statusText=(e||S)+"",u?p.resolveWith(h,[l,S,w]):p.rejectWith(h,[w,S,g]),w.statusCode(m),m=void 0,c&&d.trigger(u?"ajaxSuccess":"ajaxError",[w,f,u?l:g]),v.fireWith(h,[w,S]),c&&(d.trigger("ajaxComplete",[w,f]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,a,u,c,l,f=Z.ajaxSetup({},e),h=f.context||f,d=f.context&&(h.nodeType||h.jquery)?Z(h):Z.event,p=Z.Deferred(),v=Z.Callbacks("once memory"),m=f.statusCode||{},g={},b={},y=0,_="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!s)for(s={};e=de.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=b[n]=b[n]||t,g[t]=e),this},overrideMimeType:function(t){return y||(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)m[e]=[m[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||_;return r&&r.abort(e),n(0,e),this}};if(p.promise(w).complete=v.add,w.success=w.done,w.error=w.fail,f.url=((t||f.url||we)+"").replace(fe,"").replace(me,Se[1]+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=Z.trim(f.dataType||"*").toLowerCase().match(dt)||[""],null==f.crossDomain&&(u=ge.exec(f.url.toLowerCase()),f.crossDomain=!(!u||u[1]===Se[1]&&u[2]===Se[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(Se[3]||("http:"===Se[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=Z.param(f.data,f.traditional)),L(be,f,e,w),2===y)return w;c=Z.event&&f.global,c&&0===Z.active++&&Z.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!ve.test(f.type),i=f.url,f.hasContent||(f.data&&(i=f.url+=(le.test(i)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=he.test(i)?i.replace(he,"$1_="+ce++):i+(le.test(i)?"&":"?")+"_="+ce++)),f.ifModified&&(Z.lastModified[i]&&w.setRequestHeader("If-Modified-Since",Z.lastModified[i]),Z.etag[i]&&w.setRequestHeader("If-None-Match",Z.etag[i])),(f.data&&f.hasContent&&f.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",f.contentType),w.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_e+"; q=0.01":""):f.accepts["*"]);for(l in f.headers)w.setRequestHeader(l,f.headers[l]);if(f.beforeSend&&(f.beforeSend.call(h,w,f)===!1||2===y))return w.abort();_="abort";for(l in{success:1,error:1,complete:1})w[l](f[l]);if(r=L(ye,f,e,w)){w.readyState=1,c&&d.trigger("ajaxSend",[w,f]),f.async&&f.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},f.timeout));try{y=1,r.send(g,n)}catch(S){if(!(2>y))throw S;n(-1,S)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return Z.get(t,e,n,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,n,r,i){return Z.isFunction(n)&&(i=i||r,r=n,n=void 0),Z.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Z.isFunction(t)?function(e){Z(this).wrapInner(t.call(this,e))}:function(){var e=Z(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(n){Z(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var xe=/%20/g,Ee=/\[\]$/,Ce=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var n,r=[],i=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){i(this.name,this.value)});else for(n in t)B(n,t[n],e,i);return r.join("&").replace(xe,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Ae.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Et.test(t))}).map(function(t,e){var n=Z(this).val();return null==n?null:Z.isArray(n)?Z.map(n,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:n.replace(Ce,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $e=0,Te={},Ne={0:200,1223:204},Oe=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Te)Te[t]()}),G.cors=!!Oe&&"withCredentials"in Oe,G.ajax=Oe=!!Oe,Z.ajaxTransport(function(t){var e;return G.cors||Oe&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),s=++$e;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Te[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Ne[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Te[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Y.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Ie=[],Me=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ie.pop()||Z.expando+"_"+ce++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(Me.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Me.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Me,"$1"+i):e.jsonp!==!1&&(e.url+=(le.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||Z.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Ie.push(i)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),Z.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Y;var r=st.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Z.buildFragment([t],e,i),i&&i.length&&Z(i).remove(),Z.merge([],r.childNodes))};var Re=Z.fn.load;Z.fn.load=function(t,e,n){if("string"!=typeof t&&Re)return Re.apply(this,arguments);var r,i,o,s=this,a=t.indexOf(" ");return a>=0&&(r=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&Z.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?Z("<div>").append(Z.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){s.each(n,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var De=t.document.documentElement;Z.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=Z.css(t,"position"),f=Z(t),h={};"static"===l&&(t.style.position="relative"),a=f.offset(),o=Z.css(t,"top"),u=Z.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=f.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),Z.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+i),"using"in e?e.using.call(t,h):f.css(h)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(e=o.documentElement,Z.contains(e,r)?(typeof r.getBoundingClientRect!==Ct&&(i=r.getBoundingClientRect()),n=F(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Z.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(r=t.offset()),r.top+=Z.css(t[0],"borderTopWidth",!0),r.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Z.css(n,"marginTop",!0),left:e.left-r.left-Z.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||De;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||De})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Z.fn[e]=function(i){return mt(this,function(e,i,o){var s=F(e);return void 0===o?s?s[n]:e[i]:void(s?s.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=S(G.pixelPosition,function(t,n){return n?(n=w(t,e),Ut.test(n)?Z(t).position()[e]+"px":n):void 0})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Z.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||i===!0?"margin":"border");return mt(this,function(e,n,r){var i;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Z.css(e,n,s):Z.style(e,n,r,s)},e,o?r:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Le=t.jQuery,je=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=je),e&&t.jQuery===Z&&(t.jQuery=Le),Z},typeof e===Ct&&(t.jQuery=t.$=Z),Z});try{if(module&&module.paths&&0===location.search.indexOf("?npmpath=")){var npmPath=/\?npmpath=(.*?)$/.exec(location.search)[1];npmPath&&module.paths.push(npmPath)}var electron_client="ELECTRON_CTI_CLIENT",db_silo="client/data",ipc=require("electron").ipcRenderer;angular.module("ngElectron",[]).factory("electron",function(){var t={};t.send=function(t){ipc.send(electron_client,t)};var e=require("diskdb");return t.db=function(t){if(e){var n=[];return"object"==typeof t?n=t:"string"==typeof t&&n.push(t),e.connect(db_silo,n)}return"diskdb is not installed and/or configured."},t.require=require("remote").require,t.app=t.require("app"),t.fsplus=t.require("fs-plus"),t.path=t.require("path"),t.shell=t.require("shell"),t.dialog=t.require("dialog"),t}).run(["$rootScope","electron",function(t,e){ipc.on(electron_client,function(t,e){switch(e.action||""){case"pong":console.info("[electron] Connected to electron shell (client)");break;case"console-log":console.info("[electron]",e.data)}}),e.send({action:"ping"}),t.$electron=e}])}catch(e){angular.module("ngElectron",[]).factory("electron",function(){return{}})}!function(t){if(function(t,e){"function"==typeof define&&define.amd?define("strophe-base64",function(){return e()}):t.Base64=e()}(this,function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e={encode:function(e){var n,r,i,o,s,a,u,c="",l=0;do n=e.charCodeAt(l++),r=e.charCodeAt(l++),i=e.charCodeAt(l++),o=n>>2,s=(3&n)<<4|r>>4,a=(15&r)<<2|i>>6,u=63&i,isNaN(r)?(s=(3&n)<<4,a=u=64):isNaN(i)&&(u=64),c=c+t.charAt(o)+t.charAt(s)+t.charAt(a)+t.charAt(u);while(l<e.length);return c},decode:function(e){var n,r,i,o,s,a,u,c="",l=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do o=t.indexOf(e.charAt(l++)),s=t.indexOf(e.charAt(l++)),a=t.indexOf(e.charAt(l++)),u=t.indexOf(e.charAt(l++)),n=o<<2|s>>4,r=(15&s)<<4|a>>2,i=(3&a)<<6|u,c+=String.fromCharCode(n),64!=a&&(c+=String.fromCharCode(r)),64!=u&&(c+=String.fromCharCode(i));while(l<e.length);return c}};return e}),function(t,e){"function"==typeof define&&define.amd?define("strophe-sha1",function(){return e()}):t.SHA1=e()}(this,function(){function t(t,r){t[r>>5]|=128<<24-r%32,t[(r+64>>9<<4)+15]=r;var s,a,u,c,l,f,h,d,p=new Array(80),v=1732584193,m=-271733879,g=-1732584194,b=271733878,y=-1009589776;for(s=0;s<t.length;s+=16){for(c=v,l=m,f=g,h=b,d=y,a=0;a<80;a++)a<16?p[a]=t[s+a]:p[a]=o(p[a-3]^p[a-8]^p[a-14]^p[a-16],1),u=i(i(o(v,5),e(a,m,g,b)),i(i(y,p[a]),n(a))),y=b,b=g,g=o(m,30),m=v,v=u;v=i(v,c),m=i(m,l),g=i(g,f),b=i(b,h),y=i(y,d)}return[v,m,g,b,y]}function e(t,e,n,r){return t<20?e&n|~e&r:t<40?e^n^r:t<60?e&n|e&r|n&r:e^n^r}function n(t){return t<20?1518500249:t<40?1859775393:t<60?-1894007588:-899497514}function r(e,n){var r=s(e);r.length>16&&(r=t(r,8*e.length));for(var i=new Array(16),o=new Array(16),a=0;a<16;a++)i[a]=909522486^r[a],o[a]=1549556828^r[a];var u=t(i.concat(s(n)),512+8*n.length);return t(o.concat(u),672)}function i(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}function o(t,e){return t<<e|t>>>32-e}function s(t){for(var e=[],n=255,r=0;r<8*t.length;r+=8)e[r>>5]|=(t.charCodeAt(r/8)&n)<<24-r%32;return e}function a(t){for(var e="",n=255,r=0;r<32*t.length;r+=8)e+=String.fromCharCode(t[r>>5]>>>24-r%32&n);return e}function u(t){for(var e,n,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",o=0;o<4*t.length;o+=3)for(e=(t[o>>2]>>8*(3-o%4)&255)<<16|(t[o+1>>2]>>8*(3-(o+1)%4)&255)<<8|t[o+2>>2]>>8*(3-(o+2)%4)&255,n=0;n<4;n++)i+=8*o+6*n>32*t.length?"=":r.charAt(e>>6*(3-n)&63);return i}return{b64_hmac_sha1:function(t,e){return u(r(t,e))},b64_sha1:function(e){return u(t(s(e),8*e.length))},binb2str:a,core_hmac_sha1:r,str_hmac_sha1:function(t,e){return a(r(t,e))},str_sha1:function(e){return a(t(s(e),8*e.length))}}}),function(t,e){"function"==typeof define&&define.amd?define("strophe-md5",function(){return e()}):t.MD5=e()}(this,function(t){var e=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n},n=function(t,e){return t<<e|t>>>32-e},r=function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e},i=function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e},o=function(t){for(var e="0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n},s=function(t,r,i,o,s,a){return e(n(e(e(r,t),e(o,a)),s),i)},a=function(t,e,n,r,i,o,a){return s(e&n|~e&r,t,e,i,o,a)},u=function(t,e,n,r,i,o,a){return s(e&r|n&~r,t,e,i,o,a)},c=function(t,e,n,r,i,o,a){return s(e^n^r,t,e,i,o,a)},l=function(t,e,n,r,i,o,a){return s(n^(e|~r),t,e,i,o,a)},f=function(t,n){t[n>>5]|=128<<n%32,t[(n+64>>>9<<4)+14]=n;for(var r,i,o,s,f=1732584193,h=-271733879,d=-1732584194,p=271733878,v=0;v<t.length;v+=16)r=f,i=h,o=d,s=p,f=a(f,h,d,p,t[v+0],7,-680876936),p=a(p,f,h,d,t[v+1],12,-389564586),d=a(d,p,f,h,t[v+2],17,606105819),h=a(h,d,p,f,t[v+3],22,-1044525330),f=a(f,h,d,p,t[v+4],7,-176418897),p=a(p,f,h,d,t[v+5],12,1200080426),d=a(d,p,f,h,t[v+6],17,-1473231341),h=a(h,d,p,f,t[v+7],22,-45705983),f=a(f,h,d,p,t[v+8],7,1770035416),p=a(p,f,h,d,t[v+9],12,-1958414417),d=a(d,p,f,h,t[v+10],17,-42063),h=a(h,d,p,f,t[v+11],22,-1990404162),f=a(f,h,d,p,t[v+12],7,1804603682),p=a(p,f,h,d,t[v+13],12,-40341101),d=a(d,p,f,h,t[v+14],17,-1502002290),h=a(h,d,p,f,t[v+15],22,1236535329),f=u(f,h,d,p,t[v+1],5,-165796510),p=u(p,f,h,d,t[v+6],9,-1069501632),d=u(d,p,f,h,t[v+11],14,643717713),h=u(h,d,p,f,t[v+0],20,-373897302),f=u(f,h,d,p,t[v+5],5,-701558691),p=u(p,f,h,d,t[v+10],9,38016083),d=u(d,p,f,h,t[v+15],14,-660478335),h=u(h,d,p,f,t[v+4],20,-405537848),f=u(f,h,d,p,t[v+9],5,568446438),p=u(p,f,h,d,t[v+14],9,-1019803690),d=u(d,p,f,h,t[v+3],14,-187363961),h=u(h,d,p,f,t[v+8],20,1163531501),f=u(f,h,d,p,t[v+13],5,-1444681467),p=u(p,f,h,d,t[v+2],9,-51403784),d=u(d,p,f,h,t[v+7],14,1735328473),h=u(h,d,p,f,t[v+12],20,-1926607734),f=c(f,h,d,p,t[v+5],4,-378558),
p=c(p,f,h,d,t[v+8],11,-2022574463),d=c(d,p,f,h,t[v+11],16,1839030562),h=c(h,d,p,f,t[v+14],23,-35309556),f=c(f,h,d,p,t[v+1],4,-1530992060),p=c(p,f,h,d,t[v+4],11,1272893353),d=c(d,p,f,h,t[v+7],16,-155497632),h=c(h,d,p,f,t[v+10],23,-1094730640),f=c(f,h,d,p,t[v+13],4,681279174),p=c(p,f,h,d,t[v+0],11,-358537222),d=c(d,p,f,h,t[v+3],16,-722521979),h=c(h,d,p,f,t[v+6],23,76029189),f=c(f,h,d,p,t[v+9],4,-640364487),p=c(p,f,h,d,t[v+12],11,-421815835),d=c(d,p,f,h,t[v+15],16,530742520),h=c(h,d,p,f,t[v+2],23,-995338651),f=l(f,h,d,p,t[v+0],6,-198630844),p=l(p,f,h,d,t[v+7],10,1126891415),d=l(d,p,f,h,t[v+14],15,-1416354905),h=l(h,d,p,f,t[v+5],21,-57434055),f=l(f,h,d,p,t[v+12],6,1700485571),p=l(p,f,h,d,t[v+3],10,-1894986606),d=l(d,p,f,h,t[v+10],15,-1051523),h=l(h,d,p,f,t[v+1],21,-2054922799),f=l(f,h,d,p,t[v+8],6,1873313359),p=l(p,f,h,d,t[v+15],10,-30611744),d=l(d,p,f,h,t[v+6],15,-1560198380),h=l(h,d,p,f,t[v+13],21,1309151649),f=l(f,h,d,p,t[v+4],6,-145523070),p=l(p,f,h,d,t[v+11],10,-1120210379),d=l(d,p,f,h,t[v+2],15,718787259),h=l(h,d,p,f,t[v+9],21,-343485551),f=e(f,r),h=e(h,i),d=e(d,o),p=e(p,s);return[f,h,d,p]},h={hexdigest:function(t){return o(f(r(t),8*t.length))},hash:function(t){return i(f(r(t),8*t.length))}};return h}),function(t,e){"function"==typeof define&&define.amd?define("strophe-utils",function(){return e()}):t.stropheUtils=e()}(this,function(){var t={utf16to8:function(t){var e,n,r="",i=t.length;for(e=0;e<i;e++)n=t.charCodeAt(e),n>=0&&n<=127?r+=t.charAt(e):n>2047?(r+=String.fromCharCode(224|n>>12&15),r+=String.fromCharCode(128|n>>6&63),r+=String.fromCharCode(128|n>>0&63)):(r+=String.fromCharCode(192|n>>6&31),r+=String.fromCharCode(128|n>>0&63));return r}};return t}),function(t,e){return"function"==typeof define&&define.amd?void define("strophe-polyfill",[],function(){return e()}):e()}(this,function(){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=Array.prototype.slice,r=Array.prototype.concat,i=n.call(arguments,1);return function(){return e.apply(t?t:this,r.call(i,n.call(arguments,0)))}}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length,n=Number(arguments[1])||0;for(n=n<0?Math.ceil(n):Math.floor(n),n<0&&(n+=e);n<e;n++)if(n in this&&this[n]===t)return n;return-1})}),function(t,e){if("function"==typeof define&&define.amd)define("strophe-core",["strophe-sha1","strophe-base64","strophe-md5","strophe-utils","strophe-polyfill"],function(){return e.apply(this,arguments)});else{var n=e(t.SHA1,t.Base64,t.MD5,t.stropheUtils);window.Strophe=n.Strophe,window.$build=n.$build,window.$iq=n.$iq,window.$msg=n.$msg,window.$pres=n.$pres,window.SHA1=n.SHA1,window.Base64=n.Base64,window.MD5=n.MD5,window.b64_hmac_sha1=n.SHA1.b64_hmac_sha1,window.b64_sha1=n.SHA1.b64_sha1,window.str_hmac_sha1=n.SHA1.str_hmac_sha1,window.str_sha1=n.SHA1.str_sha1}}(this,function(t,e,n,r){function i(t,e){return new u.Builder(t,e)}function o(t){return new u.Builder("message",t)}function s(t){return new u.Builder("iq",t)}function a(t){return new u.Builder("presence",t)}var u;return u={VERSION:"1.2.4",NS:{HTTPBIND:"http://jabber.org/protocol/httpbind",BOSH:"urn:xmpp:xbosh",CLIENT:"jabber:client",AUTH:"jabber:iq:auth",ROSTER:"jabber:iq:roster",PROFILE:"jabber:iq:profile",DISCO_INFO:"http://jabber.org/protocol/disco#info",DISCO_ITEMS:"http://jabber.org/protocol/disco#items",MUC:"http://jabber.org/protocol/muc",SASL:"urn:ietf:params:xml:ns:xmpp-sasl",STREAM:"http://etherx.jabber.org/streams",FRAMING:"urn:ietf:params:xml:ns:xmpp-framing",BIND:"urn:ietf:params:xml:ns:xmpp-bind",SESSION:"urn:ietf:params:xml:ns:xmpp-session",VERSION:"jabber:iq:version",STANZAS:"urn:ietf:params:xml:ns:xmpp-stanzas",XHTML_IM:"http://jabber.org/protocol/xhtml-im",XHTML:"http://www.w3.org/1999/xhtml"},XHTML:{tags:["a","blockquote","br","cite","em","img","li","ol","p","span","strong","ul","body"],attributes:{a:["href"],blockquote:["style"],br:[],cite:["style"],em:[],img:["src","alt","style","height","width"],li:["style"],ol:["style"],p:["style"],span:["style"],strong:[],ul:["style"],body:[]},css:["background-color","color","font-family","font-size","font-style","font-weight","margin-left","margin-right","text-align","text-decoration"],validTag:function(t){for(var e=0;e<u.XHTML.tags.length;e++)if(t==u.XHTML.tags[e])return!0;return!1},validAttribute:function(t,e){if("undefined"!=typeof u.XHTML.attributes[t]&&u.XHTML.attributes[t].length>0)for(var n=0;n<u.XHTML.attributes[t].length;n++)if(e==u.XHTML.attributes[t][n])return!0;return!1},validCSS:function(t){for(var e=0;e<u.XHTML.css.length;e++)if(t==u.XHTML.css[e])return!0;return!1}},Status:{ERROR:0,CONNECTING:1,CONNFAIL:2,AUTHENTICATING:3,AUTHFAIL:4,CONNECTED:5,DISCONNECTED:6,DISCONNECTING:7,ATTACHED:8,REDIRECT:9},LogLevel:{DEBUG:0,INFO:1,WARN:2,ERROR:3,FATAL:4},ElementType:{NORMAL:1,TEXT:3,CDATA:4,FRAGMENT:11},TIMEOUT:1.1,SECONDARY_TIMEOUT:.1,addNamespace:function(t,e){u.NS[t]=e},forEachChild:function(t,e,n){var r,i;for(r=0;r<t.childNodes.length;r++)i=t.childNodes[r],i.nodeType!=u.ElementType.NORMAL||e&&!this.isTagEqual(i,e)||n(i)},isTagEqual:function(t,e){return t.tagName==e},_xmlGenerator:null,_makeGenerator:function(){var t;return void 0===document.implementation.createDocument||document.implementation.createDocument&&document.documentMode&&document.documentMode<10?(t=this._getIEXmlDom(),t.appendChild(t.createElement("strophe"))):t=document.implementation.createDocument("jabber:client","strophe",null),t},xmlGenerator:function(){return u._xmlGenerator||(u._xmlGenerator=u._makeGenerator()),u._xmlGenerator},_getIEXmlDom:function(){for(var t=null,e=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument","Microsoft.XMLDOM"],n=0;n<e.length&&null===t;n++)try{t=new ActiveXObject(e[n])}catch(r){t=null}return t},xmlElement:function(t){if(!t)return null;var e,n,r,i=u.xmlGenerator().createElement(t);for(e=1;e<arguments.length;e++){var o=arguments[e];if(o)if("string"==typeof o||"number"==typeof o)i.appendChild(u.xmlTextNode(o));else if("object"==typeof o&&"function"==typeof o.sort)for(n=0;n<o.length;n++){var s=o[n];"object"==typeof s&&"function"==typeof s.sort&&void 0!==s[1]&&null!==s[1]&&i.setAttribute(s[0],s[1])}else if("object"==typeof o)for(r in o)o.hasOwnProperty(r)&&void 0!==o[r]&&null!==o[r]&&i.setAttribute(r,o[r])}return i},xmlescape:function(t){return t=t.replace(/\&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/'/g,"&apos;"),t=t.replace(/"/g,"&quot;")},xmlunescape:function(t){return t=t.replace(/\&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&apos;/g,"'"),t=t.replace(/&quot;/g,'"')},xmlTextNode:function(t){return u.xmlGenerator().createTextNode(t)},xmlHtmlNode:function(t){var e;if(window.DOMParser){var n=new DOMParser;e=n.parseFromString(t,"text/xml")}else e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t);return e},getText:function(t){if(!t)return null;var e="";0===t.childNodes.length&&t.nodeType==u.ElementType.TEXT&&(e+=t.nodeValue);for(var n=0;n<t.childNodes.length;n++)t.childNodes[n].nodeType==u.ElementType.TEXT&&(e+=t.childNodes[n].nodeValue);return u.xmlescape(e)},copyElement:function(t){var e,n;if(t.nodeType==u.ElementType.NORMAL){for(n=u.xmlElement(t.tagName),e=0;e<t.attributes.length;e++)n.setAttribute(t.attributes[e].nodeName,t.attributes[e].value);for(e=0;e<t.childNodes.length;e++)n.appendChild(u.copyElement(t.childNodes[e]))}else t.nodeType==u.ElementType.TEXT&&(n=u.xmlGenerator().createTextNode(t.nodeValue));return n},createHtml:function(t){var e,n,r,i,o,s,a,c,l,f,h;if(t.nodeType==u.ElementType.NORMAL)if(i=t.nodeName.toLowerCase(),u.XHTML.validTag(i))try{for(n=u.xmlElement(i),e=0;e<u.XHTML.attributes[i].length;e++)if(o=u.XHTML.attributes[i][e],s=t.getAttribute(o),"undefined"!=typeof s&&null!==s&&""!==s&&s!==!1&&0!==s)if("style"==o&&"object"==typeof s&&"undefined"!=typeof s.cssText&&(s=s.cssText),"style"==o){for(a=[],c=s.split(";"),r=0;r<c.length;r++)l=c[r].split(":"),f=l[0].replace(/^\s*/,"").replace(/\s*$/,"").toLowerCase(),u.XHTML.validCSS(f)&&(h=l[1].replace(/^\s*/,"").replace(/\s*$/,""),a.push(f+": "+h));a.length>0&&(s=a.join("; "),n.setAttribute(o,s))}else n.setAttribute(o,s);for(e=0;e<t.childNodes.length;e++)n.appendChild(u.createHtml(t.childNodes[e]))}catch(d){n=u.xmlTextNode("")}else for(n=u.xmlGenerator().createDocumentFragment(),e=0;e<t.childNodes.length;e++)n.appendChild(u.createHtml(t.childNodes[e]));else if(t.nodeType==u.ElementType.FRAGMENT)for(n=u.xmlGenerator().createDocumentFragment(),e=0;e<t.childNodes.length;e++)n.appendChild(u.createHtml(t.childNodes[e]));else t.nodeType==u.ElementType.TEXT&&(n=u.xmlTextNode(t.nodeValue));return n},escapeNode:function(t){return"string"!=typeof t?t:t.replace(/^\s+|\s+$/g,"").replace(/\\/g,"\\5c").replace(/ /g,"\\20").replace(/\"/g,"\\22").replace(/\&/g,"\\26").replace(/\'/g,"\\27").replace(/\//g,"\\2f").replace(/:/g,"\\3a").replace(/</g,"\\3c").replace(/>/g,"\\3e").replace(/@/g,"\\40")},unescapeNode:function(t){return"string"!=typeof t?t:t.replace(/\\20/g," ").replace(/\\22/g,'"').replace(/\\26/g,"&").replace(/\\27/g,"'").replace(/\\2f/g,"/").replace(/\\3a/g,":").replace(/\\3c/g,"<").replace(/\\3e/g,">").replace(/\\40/g,"@").replace(/\\5c/g,"\\")},getNodeFromJid:function(t){return t.indexOf("@")<0?null:t.split("@")[0]},getDomainFromJid:function(t){var e=u.getBareJidFromJid(t);if(e.indexOf("@")<0)return e;var n=e.split("@");return n.splice(0,1),n.join("@")},getResourceFromJid:function(t){var e=t.split("/");return e.length<2?null:(e.splice(0,1),e.join("/"))},getBareJidFromJid:function(t){return t?t.split("/")[0]:null},log:function(t,e){},debug:function(t){this.log(this.LogLevel.DEBUG,t)},info:function(t){this.log(this.LogLevel.INFO,t)},warn:function(t){this.log(this.LogLevel.WARN,t)},error:function(t){this.log(this.LogLevel.ERROR,t)},fatal:function(t){this.log(this.LogLevel.FATAL,t)},serialize:function(t){var e;if(!t)return null;"function"==typeof t.tree&&(t=t.tree());var n,r,i=t.nodeName;for(t.getAttribute("_realname")&&(i=t.getAttribute("_realname")),e="<"+i,n=0;n<t.attributes.length;n++)"_realname"!=t.attributes[n].nodeName&&(e+=" "+t.attributes[n].nodeName+"='"+t.attributes[n].value.replace(/&/g,"&amp;").replace(/\'/g,"&apos;").replace(/>/g,"&gt;").replace(/</g,"&lt;")+"'");if(t.childNodes.length>0){for(e+=">",n=0;n<t.childNodes.length;n++)switch(r=t.childNodes[n],r.nodeType){case u.ElementType.NORMAL:e+=u.serialize(r);break;case u.ElementType.TEXT:e+=u.xmlescape(r.nodeValue);break;case u.ElementType.CDATA:e+="<![CDATA["+r.nodeValue+"]]>"}e+="</"+i+">"}else e+="/>";return e},_requestId:0,_connectionPlugins:{},addConnectionPlugin:function(t,e){u._connectionPlugins[t]=e}},u.Builder=function(t,e){"presence"!=t&&"message"!=t&&"iq"!=t||(e&&!e.xmlns?e.xmlns=u.NS.CLIENT:e||(e={xmlns:u.NS.CLIENT})),this.nodeTree=u.xmlElement(t,e),this.node=this.nodeTree},u.Builder.prototype={tree:function(){return this.nodeTree},toString:function(){return u.serialize(this.nodeTree)},up:function(){return this.node=this.node.parentNode,this},attrs:function(t){for(var e in t)t.hasOwnProperty(e)&&(void 0===t[e]?this.node.removeAttribute(e):this.node.setAttribute(e,t[e]));return this},c:function(t,e,n){var r=u.xmlElement(t,e,n);return this.node.appendChild(r),"string"!=typeof n&&(this.node=r),this},cnode:function(t){var e,n=u.xmlGenerator();try{e=void 0!==n.importNode}catch(r){e=!1}var i=e?n.importNode(t,!0):u.copyElement(t);return this.node.appendChild(i),this.node=i,this},t:function(t){var e=u.xmlTextNode(t);return this.node.appendChild(e),this},h:function(t){var e=document.createElement("body");e.innerHTML=t;for(var n=u.createHtml(e);n.childNodes.length>0;)this.node.appendChild(n.childNodes[0]);return this}},u.Handler=function(t,e,n,r,i,o,s){this.handler=t,this.ns=e,this.name=n,this.type=r,this.id=i,this.options=s||{matchBare:!1},this.options.matchBare||(this.options.matchBare=!1),this.options.matchBare?this.from=o?u.getBareJidFromJid(o):null:this.from=o,this.user=!0},u.Handler.prototype={isMatch:function(t){var e,n=null;if(n=this.options.matchBare?u.getBareJidFromJid(t.getAttribute("from")):t.getAttribute("from"),e=!1,this.ns){var r=this;u.forEachChild(t,null,function(t){t.getAttribute("xmlns")==r.ns&&(e=!0)}),e=e||t.getAttribute("xmlns")==this.ns}else e=!0;var i=t.getAttribute("type");return!(!e||this.name&&!u.isTagEqual(t,this.name)||this.type&&(Array.isArray(this.type)?this.type.indexOf(i)==-1:i!=this.type)||this.id&&t.getAttribute("id")!=this.id||this.from&&n!=this.from)},run:function(t){var e=null;try{e=this.handler(t)}catch(n){throw n.sourceURL?u.fatal("error: "+this.handler+" "+n.sourceURL+":"+n.line+" - "+n.name+": "+n.message):n.fileName?("undefined"!=typeof console&&(console.trace(),console.error(this.handler," - error - ",n,n.message)),u.fatal("error: "+this.handler+" "+n.fileName+":"+n.lineNumber+" - "+n.name+": "+n.message)):u.fatal("error: "+n.message+"\n"+n.stack),n}return e},toString:function(){return"{Handler: "+this.handler+"("+this.name+","+this.id+","+this.ns+")}"}},u.TimedHandler=function(t,e){this.period=t,this.handler=e,this.lastCalled=(new Date).getTime(),this.user=!0},u.TimedHandler.prototype={run:function(){return this.lastCalled=(new Date).getTime(),this.handler()},reset:function(){this.lastCalled=(new Date).getTime()},toString:function(){return"{TimedHandler: "+this.handler+"("+this.period+")}"}},u.Connection=function(t,e){this.service=t,this.options=e||{};var n=this.options.protocol||"";0===t.indexOf("ws:")||0===t.indexOf("wss:")||0===n.indexOf("ws")?this._proto=new u.Websocket(this):this._proto=new u.Bosh(this),this.jid="",this.domain=null,this.features=null,this._sasl_data={},this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this._idleTimeout=null,this._disconnectTimeout=null,this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.do_authentication=!0,this.paused=!1,this.restored=!1,this._data=[],this._uniqueId=0,this._sasl_success_handler=null,this._sasl_failure_handler=null,this._sasl_challenge_handler=null,this.maxRetries=5,this._idleTimeout=setTimeout(this._onIdle.bind(this),100);for(var r in u._connectionPlugins)if(u._connectionPlugins.hasOwnProperty(r)){var i=u._connectionPlugins[r],o=function(){};o.prototype=i,this[r]=new o,this[r].init(this)}},u.Connection.prototype={reset:function(){this._proto._reset(),this.do_session=!1,this.do_bind=!1,this.timedHandlers=[],this.handlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._authentication={},this.authenticated=!1,this.connected=!1,this.disconnecting=!1,this.restored=!1,this._data=[],this._requests=[],this._uniqueId=0},pause:function(){this.paused=!0},resume:function(){this.paused=!1},getUniqueId:function(t){var e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"==t?e:3&e|8;return n.toString(16)});return"string"==typeof t||"number"==typeof t?e+":"+t:e+""},connect:function(t,e,n,r,i,o,s){this.jid=t,this.authzid=u.getBareJidFromJid(this.jid),this.authcid=s||u.getNodeFromJid(this.jid),this.pass=e,this.servtype="xmpp",this.connect_callback=n,this.disconnecting=!1,this.connected=!1,this.authenticated=!1,this.restored=!1,this.domain=u.getDomainFromJid(this.jid),this._changeConnectStatus(u.Status.CONNECTING,null),this._proto._connect(r,i,o)},attach:function(t,e,n,r,i,o,s){if(!(this._proto instanceof u.Bosh))throw{name:"StropheSessionError",message:'The "attach" method can only be used with a BOSH connection.'};this._proto._attach(t,e,n,r,i,o,s)},restore:function(t,e,n,r,i){if(!this._sessionCachingSupported())throw{name:"StropheSessionError",message:'The "restore" method can only be used with a BOSH connection.'};this._proto._restore(t,e,n,r,i)},_sessionCachingSupported:function(){if(this._proto instanceof u.Bosh){if(!JSON)return!1;try{window.sessionStorage.setItem("_strophe_","_strophe_"),window.sessionStorage.removeItem("_strophe_")}catch(t){return!1}return!0}return!1},xmlInput:function(t){},xmlOutput:function(t){},rawInput:function(t){},rawOutput:function(t){},nextValidRid:function(t){},send:function(t){if(null!==t){if("function"==typeof t.sort)for(var e=0;e<t.length;e++)this._queueData(t[e]);else"function"==typeof t.tree?this._queueData(t.tree()):this._queueData(t);this._proto._send()}},flush:function(){clearTimeout(this._idleTimeout),this._onIdle()},sendIQ:function(t,e,n,r){var i=null,o=this;"function"==typeof t.tree&&(t=t.tree());var s=t.getAttribute("id");s||(s=this.getUniqueId("sendIQ"),t.setAttribute("id",s));var a=t.getAttribute("to"),c=this.jid,l=this.addHandler(function(t){i&&o.deleteTimedHandler(i);var r=!1,s=t.getAttribute("from");if(s!==a&&(a||s!==u.getBareJidFromJid(c)&&s!==u.getDomainFromJid(c)&&s!==c)||(r=!0),!r)throw{name:"StropheError",message:"Got answer to IQ from wrong jid:"+s+"\nExpected jid: "+a};var l=t.getAttribute("type");if("result"==l)e&&e(t);else{if("error"!=l)throw{name:"StropheError",message:"Got bad IQ type of "+l};n&&n(t)}},null,"iq",["error","result"],s);return r&&(i=this.addTimedHandler(r,function(){return o.deleteHandler(l),n&&n(null),!1})),this.send(t),s},_queueData:function(t){if(null===t||!t.tagName||!t.childNodes)throw{name:"StropheError",message:"Cannot queue non-DOMElement."};this._data.push(t)},_sendRestart:function(){this._data.push("restart"),this._proto._sendRestart(),this._idleTimeout=setTimeout(this._onIdle.bind(this),100)},addTimedHandler:function(t,e){var n=new u.TimedHandler(t,e);return this.addTimeds.push(n),n},deleteTimedHandler:function(t){this.removeTimeds.push(t)},addHandler:function(t,e,n,r,i,o,s){var a=new u.Handler(t,e,n,r,i,o,s);return this.addHandlers.push(a),a},deleteHandler:function(t){this.removeHandlers.push(t);var e=this.addHandlers.indexOf(t);e>=0&&this.addHandlers.splice(e,1)},disconnect:function(t){if(this._changeConnectStatus(u.Status.DISCONNECTING,t),u.info("Disconnect was called because: "+t),this.connected){var e=!1;this.disconnecting=!0,this.authenticated&&(e=a({xmlns:u.NS.CLIENT,type:"unavailable"})),this._disconnectTimeout=this._addSysTimedHandler(3e3,this._onDisconnectTimeout.bind(this)),this._proto._disconnect(e)}else u.info("Disconnect was called before Strophe connected to the server"),this._proto._abortAllRequests()},_changeConnectStatus:function(t,e){for(var n in u._connectionPlugins)if(u._connectionPlugins.hasOwnProperty(n)){var r=this[n];if(r.statusChanged)try{r.statusChanged(t,e)}catch(i){u.error(""+n+" plugin caused an exception changing status: "+i)}}if(this.connect_callback)try{this.connect_callback(t,e)}catch(o){u.error("User connection callback caused an exception: "+o)}},_doDisconnect:function(t){"number"==typeof this._idleTimeout&&clearTimeout(this._idleTimeout),null!==this._disconnectTimeout&&(this.deleteTimedHandler(this._disconnectTimeout),this._disconnectTimeout=null),u.info("_doDisconnect was called"),this._proto._doDisconnect(),this.authenticated=!1,this.disconnecting=!1,this.restored=!1,this.handlers=[],this.timedHandlers=[],this.removeTimeds=[],this.removeHandlers=[],this.addTimeds=[],this.addHandlers=[],this._changeConnectStatus(u.Status.DISCONNECTED,t),this.connected=!1},_dataRecv:function(t,e){u.info("_dataRecv called");var n=this._proto._reqToData(t);if(null!==n){this.xmlInput!==u.Connection.prototype.xmlInput&&(n.nodeName===this._proto.strip&&n.childNodes.length?this.xmlInput(n.childNodes[0]):this.xmlInput(n)),this.rawInput!==u.Connection.prototype.rawInput&&(e?this.rawInput(e):this.rawInput(u.serialize(n)));for(var r,i;this.removeHandlers.length>0;)i=this.removeHandlers.pop(),r=this.handlers.indexOf(i),r>=0&&this.handlers.splice(r,1);for(;this.addHandlers.length>0;)this.handlers.push(this.addHandlers.pop());if(this.disconnecting&&this._proto._emptyQueue())return void this._doDisconnect();var o,s,a=n.getAttribute("type");if(null!==a&&"terminate"==a){if(this.disconnecting)return;return o=n.getAttribute("condition"),s=n.getElementsByTagName("conflict"),null!==o?("remote-stream-error"==o&&s.length>0&&(o="conflict"),this._changeConnectStatus(u.Status.CONNFAIL,o)):this._changeConnectStatus(u.Status.CONNFAIL,"unknown"),void this._doDisconnect(o)}var c=this;u.forEachChild(n,null,function(t){var e,n;for(n=c.handlers,c.handlers=[],e=0;e<n.length;e++){var r=n[e];try{!r.isMatch(t)||!c.authenticated&&r.user?c.handlers.push(r):r.run(t)&&c.handlers.push(r)}catch(i){u.warn("Removing Strophe handlers due to uncaught exception: "+i.message)}}})}},mechanisms:{},_connect_cb:function(t,e,n){u.info("_connect_cb was called"),this.connected=!0;var r;try{r=this._proto._reqToData(t)}catch(i){if("badformat"!=i)throw i;this._changeConnectStatus(u.Status.CONNFAIL,"bad-format"),this._doDisconnect("bad-format")}if(r){this.xmlInput!==u.Connection.prototype.xmlInput&&(r.nodeName===this._proto.strip&&r.childNodes.length?this.xmlInput(r.childNodes[0]):this.xmlInput(r)),this.rawInput!==u.Connection.prototype.rawInput&&(n?this.rawInput(n):this.rawInput(u.serialize(r)));var o=this._proto._connect_cb(r);if(o!==u.Status.CONNFAIL){this._authentication.sasl_scram_sha1=!1,this._authentication.sasl_plain=!1,this._authentication.sasl_digest_md5=!1,this._authentication.sasl_anonymous=!1,this._authentication.legacy_auth=!1;var s;s=r.getElementsByTagNameNS?r.getElementsByTagNameNS(u.NS.STREAM,"features").length>0:r.getElementsByTagName("stream:features").length>0||r.getElementsByTagName("features").length>0;var a,c,l=r.getElementsByTagName("mechanism"),f=[],h=!1;if(!s)return void this._proto._no_auth_received(e);if(l.length>0)for(a=0;a<l.length;a++)c=u.getText(l[a]),this.mechanisms[c]&&f.push(this.mechanisms[c]);return this._authentication.legacy_auth=r.getElementsByTagName("auth").length>0,(h=this._authentication.legacy_auth||f.length>0)?void(this.do_authentication!==!1&&this.authenticate(f)):void this._proto._no_auth_received(e)}}},authenticate:function(t){var n;for(n=0;n<t.length-1;++n){for(var r=n,o=n+1;o<t.length;++o)t[o].prototype.priority>t[r].prototype.priority&&(r=o);if(r!=n){var a=t[n];t[n]=t[r],t[r]=a}}var c=!1;for(n=0;n<t.length;++n)if(t[n].test(this)){this._sasl_success_handler=this._addSysHandler(this._sasl_success_cb.bind(this),null,"success",null,null),this._sasl_failure_handler=this._addSysHandler(this._sasl_failure_cb.bind(this),null,"failure",null,null),this._sasl_challenge_handler=this._addSysHandler(this._sasl_challenge_cb.bind(this),null,"challenge",null,null),this._sasl_mechanism=new t[n],this._sasl_mechanism.onStart(this);var l=i("auth",{xmlns:u.NS.SASL,mechanism:this._sasl_mechanism.name});if(this._sasl_mechanism.isClientFirst){var f=this._sasl_mechanism.onChallenge(this,null);l.t(e.encode(f))}this.send(l.tree()),c=!0;break}c||(null===u.getNodeFromJid(this.jid)?(this._changeConnectStatus(u.Status.CONNFAIL,"x-strophe-bad-non-anon-jid"),this.disconnect("x-strophe-bad-non-anon-jid")):(this._changeConnectStatus(u.Status.AUTHENTICATING,null),this._addSysHandler(this._auth1_cb.bind(this),null,null,null,"_auth_1"),this.send(s({type:"get",to:this.domain,id:"_auth_1"}).c("query",{xmlns:u.NS.AUTH}).c("username",{}).t(u.getNodeFromJid(this.jid)).tree())))},_sasl_challenge_cb:function(t){var n=e.decode(u.getText(t)),r=this._sasl_mechanism.onChallenge(this,n),o=i("response",{xmlns:u.NS.SASL});return""!==r&&o.t(e.encode(r)),this.send(o.tree()),!0},_auth1_cb:function(t){var e=s({type:"set",id:"_auth_2"}).c("query",{xmlns:u.NS.AUTH}).c("username",{}).t(u.getNodeFromJid(this.jid)).up().c("password").t(this.pass);return u.getResourceFromJid(this.jid)||(this.jid=u.getBareJidFromJid(this.jid)+"/strophe"),e.up().c("resource",{}).t(u.getResourceFromJid(this.jid)),this._addSysHandler(this._auth2_cb.bind(this),null,null,null,"_auth_2"),this.send(e.tree()),!1},_sasl_success_cb:function(t){if(this._sasl_data["server-signature"]){var n,r=e.decode(u.getText(t)),i=/([a-z]+)=([^,]+)(,|$)/,o=r.match(i);if("v"==o[1]&&(n=o[2]),n!=this._sasl_data["server-signature"])return this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_data={},this._sasl_failure_cb(null)}u.info("SASL authentication succeeded."),this._sasl_mechanism&&this._sasl_mechanism.onSuccess(),this.deleteHandler(this._sasl_failure_handler),this._sasl_failure_handler=null,this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null);var s=[],a=function(t,e){for(;t.length;)this.deleteHandler(t.pop());return this._sasl_auth1_cb.bind(this)(e),!1};return s.push(this._addSysHandler(function(t){a.bind(this)(s,t)}.bind(this),null,"stream:features",null,null)),s.push(this._addSysHandler(function(t){a.bind(this)(s,t)}.bind(this),u.NS.STREAM,"features",null,null)),this._sendRestart(),!1},_sasl_auth1_cb:function(t){this.features=t;var e,n;for(e=0;e<t.childNodes.length;e++)n=t.childNodes[e],"bind"==n.nodeName&&(this.do_bind=!0),"session"==n.nodeName&&(this.do_session=!0);if(!this.do_bind)return this._changeConnectStatus(u.Status.AUTHFAIL,null),!1;this._addSysHandler(this._sasl_bind_cb.bind(this),null,null,null,"_bind_auth_2");var r=u.getResourceFromJid(this.jid);return r?this.send(s({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:u.NS.BIND}).c("resource",{}).t(r).tree()):this.send(s({type:"set",id:"_bind_auth_2"}).c("bind",{xmlns:u.NS.BIND}).tree()),!1},_sasl_bind_cb:function(t){if("error"==t.getAttribute("type")){u.info("SASL binding failed.");var e,n=t.getElementsByTagName("conflict");return n.length>0&&(e="conflict"),this._changeConnectStatus(u.Status.AUTHFAIL,e),!1}var r,i=t.getElementsByTagName("bind");return i.length>0?(r=i[0].getElementsByTagName("jid"),void(r.length>0&&(this.jid=u.getText(r[0]),this.do_session?(this._addSysHandler(this._sasl_session_cb.bind(this),null,null,null,"_session_auth_2"),this.send(s({type:"set",id:"_session_auth_2"}).c("session",{xmlns:u.NS.SESSION}).tree())):(this.authenticated=!0,this._changeConnectStatus(u.Status.CONNECTED,null))))):(u.info("SASL binding failed."),this._changeConnectStatus(u.Status.AUTHFAIL,null),!1)},_sasl_session_cb:function(t){if("result"==t.getAttribute("type"))this.authenticated=!0,this._changeConnectStatus(u.Status.CONNECTED,null);else if("error"==t.getAttribute("type"))return u.info("Session creation failed."),this._changeConnectStatus(u.Status.AUTHFAIL,null),!1;return!1},_sasl_failure_cb:function(t){return this._sasl_success_handler&&(this.deleteHandler(this._sasl_success_handler),this._sasl_success_handler=null),this._sasl_challenge_handler&&(this.deleteHandler(this._sasl_challenge_handler),this._sasl_challenge_handler=null),this._sasl_mechanism&&this._sasl_mechanism.onFailure(),this._changeConnectStatus(u.Status.AUTHFAIL,null),!1},_auth2_cb:function(t){return"result"==t.getAttribute("type")?(this.authenticated=!0,this._changeConnectStatus(u.Status.CONNECTED,null)):"error"==t.getAttribute("type")&&(this._changeConnectStatus(u.Status.AUTHFAIL,null),this.disconnect("authentication failed")),!1},_addSysTimedHandler:function(t,e){var n=new u.TimedHandler(t,e);return n.user=!1,this.addTimeds.push(n),n},_addSysHandler:function(t,e,n,r,i){var o=new u.Handler(t,e,n,r,i);return o.user=!1,this.addHandlers.push(o),o},_onDisconnectTimeout:function(){return u.info("_onDisconnectTimeout was called"),this._proto._onDisconnectTimeout(),this._doDisconnect(),!1},_onIdle:function(){for(var t,e,n,r;this.addTimeds.length>0;)this.timedHandlers.push(this.addTimeds.pop());for(;this.removeTimeds.length>0;)e=this.removeTimeds.pop(),t=this.timedHandlers.indexOf(e),t>=0&&this.timedHandlers.splice(t,1);var i=(new Date).getTime();for(r=[],t=0;t<this.timedHandlers.length;t++)e=this.timedHandlers[t],!this.authenticated&&e.user||(n=e.lastCalled+e.period,n-i<=0?e.run()&&r.push(e):r.push(e));this.timedHandlers=r,clearTimeout(this._idleTimeout),this._proto._onIdle(),this.connected&&(this._idleTimeout=setTimeout(this._onIdle.bind(this),100))}},u.SASLMechanism=function(t,e,n){this.name=t,this.isClientFirst=e,this.priority=n},u.SASLMechanism.prototype={test:function(t){return!0},onStart:function(t){this._connection=t},onChallenge:function(t,e){throw new Error("You should implement challenge handling!")},onFailure:function(){this._connection=null},onSuccess:function(){this._connection=null}},u.SASLAnonymous=function(){},u.SASLAnonymous.prototype=new u.SASLMechanism("ANONYMOUS",(!1),10),u.SASLAnonymous.test=function(t){return null===t.authcid},u.Connection.prototype.mechanisms[u.SASLAnonymous.prototype.name]=u.SASLAnonymous,u.SASLPlain=function(){},u.SASLPlain.prototype=new u.SASLMechanism("PLAIN",(!0),20),u.SASLPlain.test=function(t){return null!==t.authcid},u.SASLPlain.prototype.onChallenge=function(t){var e=t.authzid;return e+="\0",e+=t.authcid,e+="\0",e+=t.pass,r.utf16to8(e)},u.Connection.prototype.mechanisms[u.SASLPlain.prototype.name]=u.SASLPlain,u.SASLSHA1=function(){},u.SASLSHA1.prototype=new u.SASLMechanism("SCRAM-SHA-1",(!0),40),u.SASLSHA1.test=function(t){return null!==t.authcid},u.SASLSHA1.prototype.onChallenge=function(i,o,s){var a=s||n.hexdigest(1234567890*Math.random()),u="n="+r.utf16to8(i.authcid);return u+=",r=",u+=a,i._sasl_data.cnonce=a,i._sasl_data["client-first-message-bare"]=u,u="n,,"+u,this.onChallenge=function(n,i){for(var o,s,a,u,c,l,f,h,d,p,v,m,g="c=biws,",b=n._sasl_data["client-first-message-bare"]+","+i+",",y=n._sasl_data.cnonce,_=/([a-z]+)=([^,]+)(,|$)/;i.match(_);){var w=i.match(_);switch(i=i.replace(w[0],""),w[1]){case"r":o=w[2];break;case"s":s=w[2];break;case"i":a=w[2]}}if(o.substr(0,y.length)!==y)return n._sasl_data={},n._sasl_failure_cb();for(g+="r="+o,b+=g,s=e.decode(s),s+="\0\0\0",d=r.utf16to8(n.pass),u=l=t.core_hmac_sha1(d,s),f=1;f<a;f++){for(c=t.core_hmac_sha1(d,t.binb2str(l)),h=0;h<5;h++)u[h]^=c[h];l=c}for(u=t.binb2str(u),p=t.core_hmac_sha1(u,"Client Key"),v=t.str_hmac_sha1(u,"Server Key"),m=t.core_hmac_sha1(t.str_sha1(t.binb2str(p)),b),n._sasl_data["server-signature"]=t.b64_hmac_sha1(v,b),h=0;h<5;h++)p[h]^=m[h];return g+=",p="+e.encode(t.binb2str(p))}.bind(this),u},u.Connection.prototype.mechanisms[u.SASLSHA1.prototype.name]=u.SASLSHA1,u.SASLMD5=function(){},u.SASLMD5.prototype=new u.SASLMechanism("DIGEST-MD5",(!1),30),u.SASLMD5.test=function(t){return null!==t.authcid},u.SASLMD5.prototype._quote=function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'},u.SASLMD5.prototype.onChallenge=function(t,e,i){for(var o,s=/([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/,a=i||n.hexdigest(""+1234567890*Math.random()),u="",c=null,l="",f="";e.match(s);)switch(o=e.match(s),e=e.replace(o[0],""),o[2]=o[2].replace(/^"(.+)"$/,"$1"),o[1]){case"realm":u=o[2];break;case"nonce":l=o[2];break;case"qop":f=o[2];break;case"host":c=o[2]}var h=t.servtype+"/"+t.domain;null!==c&&(h=h+"/"+c);var d=r.utf16to8(t.authcid+":"+u+":"+this._connection.pass),p=n.hash(d)+":"+l+":"+a,v="AUTHENTICATE:"+h,m="";return m+="charset=utf-8,",m+="username="+this._quote(r.utf16to8(t.authcid))+",",m+="realm="+this._quote(u)+",",m+="nonce="+this._quote(l)+",",m+="nc=00000001,",m+="cnonce="+this._quote(a)+",",m+="digest-uri="+this._quote(h)+",",m+="response="+n.hexdigest(n.hexdigest(p)+":"+l+":00000001:"+a+":auth:"+n.hexdigest(v))+",",m+="qop=auth",this.onChallenge=function(){return""}.bind(this),m},u.Connection.prototype.mechanisms[u.SASLMD5.prototype.name]=u.SASLMD5,{Strophe:u,$build:i,$msg:o,$iq:s,$pres:a,SHA1:t,Base64:e,MD5:n}}),function(t,e){return"function"==typeof define&&define.amd?void define("strophe-bosh",["strophe-core"],function(t){return e(t.Strophe,t.$build)}):e(Strophe,$build)}(this,function(t,e){return t.Request=function(e,n,r,i){this.id=++t._requestId,this.xmlData=e,this.data=t.serialize(e),this.origFunc=n,this.func=n,this.rid=r,this.date=NaN,this.sends=i||0,this.abort=!1,this.dead=null,this.age=function(){if(!this.date)return 0;
var t=new Date;return(t-this.date)/1e3},this.timeDead=function(){if(!this.dead)return 0;var t=new Date;return(t-this.dead)/1e3},this.xhr=this._newXHR()},t.Request.prototype={getResponse:function(){var e=null;if(this.xhr.responseXML&&this.xhr.responseXML.documentElement){if(e=this.xhr.responseXML.documentElement,"parsererror"==e.tagName)throw t.error("invalid response received"),t.error("responseText: "+this.xhr.responseText),t.error("responseXML: "+t.serialize(this.xhr.responseXML)),"parsererror"}else if(this.xhr.responseText)throw t.error("invalid response received"),t.error("responseText: "+this.xhr.responseText),"badformat";return e},_newXHR:function(){var t=null;return window.XMLHttpRequest?(t=new XMLHttpRequest,t.overrideMimeType&&t.overrideMimeType("text/xml; charset=utf-8")):window.ActiveXObject&&(t=new ActiveXObject("Microsoft.XMLHTTP")),t.onreadystatechange=this.func.bind(null,this),t}},t.Bosh=function(t){this._conn=t,this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.hold=1,this.wait=60,this.window=5,this.errors=0,this._requests=[]},t.Bosh.prototype={strip:null,_buildBody:function(){var n=e("body",{rid:this.rid++,xmlns:t.NS.HTTPBIND});return null!==this.sid&&n.attrs({sid:this.sid}),this._conn.options.keepalive&&this._cacheSession(),n},_reset:function(){this.rid=Math.floor(4294967295*Math.random()),this.sid=null,this.errors=0,window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_connect:function(e,n,r){this.wait=e||this.wait,this.hold=n||this.hold,this.errors=0;var i=this._buildBody().attrs({to:this._conn.domain,"xml:lang":"en",wait:this.wait,hold:this.hold,content:"text/xml; charset=utf-8",ver:"1.6","xmpp:version":"1.0","xmlns:xmpp":t.NS.BOSH});r&&i.attrs({route:r});var o=this._conn._connect_cb;this._requests.push(new t.Request(i.tree(),this._onRequestStateChange.bind(this,o.bind(this._conn)),i.tree().getAttribute("rid"))),this._throttledRequestHandler()},_attach:function(e,n,r,i,o,s,a){this._conn.jid=e,this.sid=n,this.rid=r,this._conn.connect_callback=i,this._conn.domain=t.getDomainFromJid(this._conn.jid),this._conn.authenticated=!0,this._conn.connected=!0,this.wait=o||this.wait,this.hold=s||this.hold,this.window=a||this.window,this._conn._changeConnectStatus(t.Status.ATTACHED,null)},_restore:function(e,n,r,i,o){var s=JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));if(!("undefined"!=typeof s&&null!==s&&s.rid&&s.sid&&s.jid)||"undefined"!=typeof e&&"null"!==e&&t.getBareJidFromJid(s.jid)!=t.getBareJidFromJid(e))throw{name:"StropheSessionError",message:"_restore: no restoreable session."};this._conn.restored=!0,this._attach(s.jid,s.sid,s.rid,n,r,i,o)},_cacheSession:function(){this._conn.authenticated?this._conn.jid&&this.rid&&this.sid&&window.sessionStorage.setItem("strophe-bosh-session",JSON.stringify({jid:this._conn.jid,rid:this.rid,sid:this.sid})):window.sessionStorage.removeItem("strophe-bosh-session")},_connect_cb:function(e){var n,r,i=e.getAttribute("type");if(null!==i&&"terminate"==i)return n=e.getAttribute("condition"),t.error("BOSH-Connection failed: "+n),r=e.getElementsByTagName("conflict"),null!==n?("remote-stream-error"==n&&r.length>0&&(n="conflict"),this._conn._changeConnectStatus(t.Status.CONNFAIL,n)):this._conn._changeConnectStatus(t.Status.CONNFAIL,"unknown"),this._conn._doDisconnect(n),t.Status.CONNFAIL;this.sid||(this.sid=e.getAttribute("sid"));var o=e.getAttribute("requests");o&&(this.window=parseInt(o,10));var s=e.getAttribute("hold");s&&(this.hold=parseInt(s,10));var a=e.getAttribute("wait");a&&(this.wait=parseInt(a,10))},_disconnect:function(t){this._sendTerminate(t)},_doDisconnect:function(){this.sid=null,this.rid=Math.floor(4294967295*Math.random()),window.sessionStorage.removeItem("strophe-bosh-session"),this._conn.nextValidRid(this.rid)},_emptyQueue:function(){return 0===this._requests.length},_hitError:function(e){this.errors++,t.warn("request errored, status: "+e+", number of errors: "+this.errors),this.errors>4&&this._conn._onDisconnectTimeout()},_no_auth_received:function(e){e=e?e.bind(this._conn):this._conn._connect_cb.bind(this._conn);var n=this._buildBody();this._requests.push(new t.Request(n.tree(),this._onRequestStateChange.bind(this,e.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()},_onDisconnectTimeout:function(){this._abortAllRequests()},_abortAllRequests:function(){for(var t;this._requests.length>0;)t=this._requests.pop(),t.abort=!0,t.xhr.abort(),t.xhr.onreadystatechange=function(){}},_onIdle:function(){var e=this._conn._data;if(this._conn.authenticated&&0===this._requests.length&&0===e.length&&!this._conn.disconnecting&&(t.info("no requests during idle cycle, sending blank request"),e.push(null)),!this._conn.paused){if(this._requests.length<2&&e.length>0){for(var n=this._buildBody(),r=0;r<e.length;r++)null!==e[r]&&("restart"===e[r]?n.attrs({to:this._conn.domain,"xml:lang":"en","xmpp:restart":"true","xmlns:xmpp":t.NS.BOSH}):n.cnode(e[r]).up());delete this._conn._data,this._conn._data=[],this._requests.push(new t.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"))),this._throttledRequestHandler()}if(this._requests.length>0){var i=this._requests[0].age();null!==this._requests[0].dead&&this._requests[0].timeDead()>Math.floor(t.SECONDARY_TIMEOUT*this.wait)&&this._throttledRequestHandler(),i>Math.floor(t.TIMEOUT*this.wait)&&(t.warn("Request "+this._requests[0].id+" timed out, over "+Math.floor(t.TIMEOUT*this.wait)+" seconds since last activity"),this._throttledRequestHandler())}}},_onRequestStateChange:function(e,n){if(t.debug("request id "+n.id+"."+n.sends+" state changed to "+n.xhr.readyState),n.abort)return void(n.abort=!1);var r;if(4==n.xhr.readyState){r=0;try{r=n.xhr.status}catch(i){}if("undefined"==typeof r&&(r=0),this.disconnecting&&r>=400)return void this._hitError(r);var o=this._requests[0]==n,s=this._requests[1]==n;(r>0&&r<500||n.sends>5)&&(this._removeRequest(n),t.debug("request id "+n.id+" should now be removed")),200==r?((s||o&&this._requests.length>0&&this._requests[0].age()>Math.floor(t.SECONDARY_TIMEOUT*this.wait))&&this._restartRequest(0),this._conn.nextValidRid(Number(n.rid)+1),t.debug("request id "+n.id+"."+n.sends+" got 200"),e(n),this.errors=0):(t.error("request id "+n.id+"."+n.sends+" error "+r+" happened"),(0===r||r>=400&&r<600||r>=12e3)&&(this._hitError(r),r>=400&&r<500&&(this._conn._changeConnectStatus(t.Status.DISCONNECTING,null),this._conn._doDisconnect()))),r>0&&r<500||n.sends>5||this._throttledRequestHandler()}},_processRequest:function(e){var n=this,r=this._requests[e],i=-1;try{4==r.xhr.readyState&&(i=r.xhr.status)}catch(o){t.error("caught an error in _requests["+e+"], reqStatus: "+i)}if("undefined"==typeof i&&(i=-1),r.sends>this._conn.maxRetries)return void this._conn._onDisconnectTimeout();var s=r.age(),a=!isNaN(s)&&s>Math.floor(t.TIMEOUT*this.wait),u=null!==r.dead&&r.timeDead()>Math.floor(t.SECONDARY_TIMEOUT*this.wait),c=4==r.xhr.readyState&&(i<1||i>=500);if((a||u||c)&&(u&&t.error("Request "+this._requests[e].id+" timed out (secondary), restarting"),r.abort=!0,r.xhr.abort(),r.xhr.onreadystatechange=function(){},this._requests[e]=new t.Request(r.xmlData,r.origFunc,r.rid,r.sends),r=this._requests[e]),0===r.xhr.readyState){t.debug("request id "+r.id+"."+r.sends+" posting");try{r.xhr.open("POST",this._conn.service,!this._conn.options.sync),r.xhr.setRequestHeader("Content-Type","text/xml; charset=utf-8")}catch(l){return t.error("XHR open failed."),this._conn.connected||this._conn._changeConnectStatus(t.Status.CONNFAIL,"bad-service"),void this._conn.disconnect()}var f=function(){if(r.date=new Date,n._conn.options.customHeaders){var t=n._conn.options.customHeaders;for(var e in t)t.hasOwnProperty(e)&&r.xhr.setRequestHeader(e,t[e])}r.xhr.send(r.data)};if(r.sends>1){var h=1e3*Math.min(Math.floor(t.TIMEOUT*this.wait),Math.pow(r.sends,3));setTimeout(f,h)}else f();r.sends++,this._conn.xmlOutput!==t.Connection.prototype.xmlOutput&&(r.xmlData.nodeName===this.strip&&r.xmlData.childNodes.length?this._conn.xmlOutput(r.xmlData.childNodes[0]):this._conn.xmlOutput(r.xmlData)),this._conn.rawOutput!==t.Connection.prototype.rawOutput&&this._conn.rawOutput(r.data)}else t.debug("_processRequest: "+(0===e?"first":"second")+" request has readyState of "+r.xhr.readyState)},_removeRequest:function(e){t.debug("removing request");var n;for(n=this._requests.length-1;n>=0;n--)e==this._requests[n]&&this._requests.splice(n,1);e.xhr.onreadystatechange=function(){},this._throttledRequestHandler()},_restartRequest:function(t){var e=this._requests[t];null===e.dead&&(e.dead=new Date),this._processRequest(t)},_reqToData:function(t){try{return t.getResponse()}catch(e){if("parsererror"!=e)throw e;this._conn.disconnect("strophe-parsererror")}},_sendTerminate:function(e){t.info("_sendTerminate was called");var n=this._buildBody().attrs({type:"terminate"});e&&n.cnode(e.tree());var r=new t.Request(n.tree(),this._onRequestStateChange.bind(this,this._conn._dataRecv.bind(this._conn)),n.tree().getAttribute("rid"));this._requests.push(r),this._throttledRequestHandler()},_send:function(){clearTimeout(this._conn._idleTimeout),this._throttledRequestHandler(),this._conn._idleTimeout=setTimeout(this._conn._onIdle.bind(this._conn),100)},_sendRestart:function(){this._throttledRequestHandler(),clearTimeout(this._conn._idleTimeout)},_throttledRequestHandler:function(){this._requests?t.debug("_throttledRequestHandler called with "+this._requests.length+" requests"):t.debug("_throttledRequestHandler called with undefined requests"),this._requests&&0!==this._requests.length&&(this._requests.length>0&&this._processRequest(0),this._requests.length>1&&Math.abs(this._requests[0].rid-this._requests[1].rid)<this.window&&this._processRequest(1))}},t}),function(t,e){return"function"==typeof define&&define.amd?void define("strophe-websocket",["strophe-core"],function(t){return e(t.Strophe,t.$build)}):e(Strophe,$build)}(this,function(t,e){return t.Websocket=function(t){this._conn=t,this.strip="wrapper";var e=t.service;if(0!==e.indexOf("ws:")&&0!==e.indexOf("wss:")){var n="";n+="ws"===t.options.protocol&&"https:"!==window.location.protocol?"ws":"wss",n+="://"+window.location.host,n+=0!==e.indexOf("/")?window.location.pathname+e:e,t.service=n}},t.Websocket.prototype={_buildStream:function(){return e("open",{xmlns:t.NS.FRAMING,to:this._conn.domain,version:"1.0"})},_check_streamerror:function(e,n){var r;if(r=e.getElementsByTagNameNS?e.getElementsByTagNameNS(t.NS.STREAM,"error"):e.getElementsByTagName("stream:error"),0===r.length)return!1;for(var i=r[0],o="",s="",a="urn:ietf:params:xml:ns:xmpp-streams",u=0;u<i.childNodes.length;u++){var c=i.childNodes[u];if(c.getAttribute("xmlns")!==a)break;"text"===c.nodeName?s=c.textContent:o=c.nodeName}var l="WebSocket stream error: ";return l+=o?o:"unknown",s&&(l+=" - "+o),t.error(l),this._conn._changeConnectStatus(n,o),this._conn._doDisconnect(),!0},_reset:function(){if(this.socket){var t=function(){};this.socket.onopen=t,this.socket.onerror=t,this.socket.onclose=t,this.socket.onmessage=t}},_connect:function(){this._closeSocket(),this.socket=new WebSocket(this._conn.service,"xmpp"),this.socket.onopen=this._onOpen.bind(this),this.socket.onerror=this._onError.bind(this),this.socket.onclose=this._onClose.bind(this),this.socket.onmessage=this._connect_cb_wrapper.bind(this)},_connect_cb:function(e){var n=this._check_streamerror(e,t.Status.CONNFAIL);if(n)return t.Status.CONNFAIL},_handleStreamStart:function(e){var n=!1,r=e.getAttribute("xmlns");"string"!=typeof r?n="Missing xmlns in <open />":r!==t.NS.FRAMING&&(n="Wrong xmlns in <open />: "+r);var i=e.getAttribute("version");return"string"!=typeof i?n="Missing version in <open />":"1.0"!==i&&(n="Wrong version in <open />: "+i),!n||(this._conn._changeConnectStatus(t.Status.CONNFAIL,n),this._conn._doDisconnect(),!1)},_connect_cb_wrapper:function(e){if(0===e.data.indexOf("<open ")||0===e.data.indexOf("<?xml")){var n=e.data.replace(/^(<\?.*?\?>\s*)*/,"");if(""===n)return;var r=(new DOMParser).parseFromString(n,"text/xml").documentElement;this._conn.xmlInput(r),this._conn.rawInput(e.data),this._handleStreamStart(r)&&this._connect_cb(r)}else if(0===e.data.indexOf("<close ")){this._conn.rawInput(e.data),this._conn.xmlInput(e);var i=e.getAttribute("see-other-uri");i?(this._conn._changeConnectStatus(t.Status.REDIRECT,"Received see-other-uri, resetting connection"),this._conn.reset(),this._conn.service=i,this._connect()):(this._conn._changeConnectStatus(t.Status.CONNFAIL,"Received closing stream"),this._conn._doDisconnect())}else{var o=this._streamWrap(e.data),s=(new DOMParser).parseFromString(o,"text/xml").documentElement;this.socket.onmessage=this._onMessage.bind(this),this._conn._connect_cb(s,null,e.data)}},_disconnect:function(n){if(this.socket&&this.socket.readyState!==WebSocket.CLOSED){n&&this._conn.send(n);var r=e("close",{xmlns:t.NS.FRAMING});this._conn.xmlOutput(r);var i=t.serialize(r);this._conn.rawOutput(i);try{this.socket.send(i)}catch(o){t.info("Couldn't send <close /> tag.")}}this._conn._doDisconnect()},_doDisconnect:function(){t.info("WebSockets _doDisconnect was called"),this._closeSocket()},_streamWrap:function(t){return"<wrapper>"+t+"</wrapper>"},_closeSocket:function(){if(this.socket)try{this.socket.close()}catch(t){}this.socket=null},_emptyQueue:function(){return!0},_onClose:function(){this._conn.connected&&!this._conn.disconnecting?(t.error("Websocket closed unexcectedly"),this._conn._doDisconnect()):t.info("Websocket closed")},_no_auth_received:function(e){t.error("Server did not send any auth methods"),this._conn._changeConnectStatus(t.Status.CONNFAIL,"Server did not send any auth methods"),e&&(e=e.bind(this._conn))(),this._conn._doDisconnect()},_onDisconnectTimeout:function(){},_abortAllRequests:function(){},_onError:function(e){t.error("Websocket error "+e),this._conn._changeConnectStatus(t.Status.CONNFAIL,"The WebSocket connection could not be established was disconnected.")},_onIdle:function(){var e=this._conn._data;if(e.length>0&&!this._conn.paused){for(var n=0;n<e.length;n++)if(null!==e[n]){var r,i;r="restart"===e[n]?this._buildStream().tree():e[n],i=t.serialize(r),this._conn.xmlOutput(r),this._conn.rawOutput(i),this.socket.send(i)}this._conn._data=[]}},_onMessage:function(e){var n,r,i='<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';if(e.data===i)return this._conn.rawInput(i),this._conn.xmlInput(e),void(this._conn.disconnecting||this._conn._doDisconnect());if(0===e.data.search("<open ")){if(n=(new DOMParser).parseFromString(e.data,"text/xml").documentElement,!this._handleStreamStart(n))return}else r=this._streamWrap(e.data),n=(new DOMParser).parseFromString(r,"text/xml").documentElement;return this._check_streamerror(n,t.Status.ERROR)?void 0:this._conn.disconnecting&&"presence"===n.firstChild.nodeName&&"unavailable"===n.firstChild.getAttribute("type")?(this._conn.xmlInput(n),void this._conn.rawInput(t.serialize(n))):void this._conn._dataRecv(n,e.data)},_onOpen:function(){t.info("Websocket open");var e=this._buildStream();this._conn.xmlOutput(e.tree());var n=t.serialize(e);this._conn.rawOutput(n),this.socket.send(n)},_reqToData:function(t){return t},_send:function(){this._conn.flush()},_sendRestart:function(){clearTimeout(this._conn._idleTimeout),this._conn._onIdle.bind(this._conn)()}},t}),function(t){"function"==typeof define&&define.amd&&define("strophe",["strophe-core","strophe-bosh","strophe-websocket"],function(t){return t})}(this),t){if("function"!=typeof define||!define.amd)return t(Strophe,$build,$msg,$iq,$pres);var e=t;require(["strophe"],function(t){e(t.Strophe,t.$build,t.$msg,t.$iq,t.$pres)})}}(function(t,e,n,r,i){window.Strophe=t,window.$build=e,window.$msg=n,window.$iq=r,window.$pres=i}),Strophe.addConnectionPlugin("streamManagement",{autoSendCountOnEveryIncomingStanza:!1,requestResponseInterval:5,_c:null,_NS:"urn:xmpp:sm:3",_isStreamManagementEnabled:!1,_serverProcesssedStanzasCounter:null,_clientProcessedStanzasCounter:null,_clientSentStanzasCounter:null,_originalSend:null,_requestHandler:null,_incomingHandler:null,_requestResponseIntervalCount:0,init:function(t){this._c=t,Strophe.addNamespace("SM",this._NS),this._originalSend=this._c.send,this._c.send=this.send.bind(this)},statusChanged:function(t){t!==Strophe.Status.CONNECTED&&t!==Strophe.Status.DISCONNECTED||(this._serverProcesssedStanzasCounter=0,this._clientProcessedStanzasCounter=0,this._clientSentStanzasCounter=0,this._isStreamManagementEnabled=!1,this._requestResponseIntervalCount=0,this._requestHandler&&this._c.deleteHandler(this._requestHandler),this._incomingHandler&&this._c.deleteHandler(this._incomingHandler),this._requestHandler=this._c.addHandler(this._handleServerRequestHandler.bind(this),this._NS,"r"),this._incomingHandler=this._c.addHandler(this._incomingStanzaHandler.bind(this)))},enable:function(t,e){this._c.send($build("enable",{xmlns:this._NS,resume:!1}));var n=setTimeout(function(){e("Stream management couldn't be enabled.")},5e3),r=this;this._c.addHandler(function(e){Strophe.isTagEqual(e,"enabled")&&(clearTimeout(n),r._isStreamManagementEnabled=!0,t())})},send:function(t){return(Strophe.isTagEqual(t,"iq")||Strophe.isTagEqual(t,"presence")||t.node&&"message"===t.node.tagName||Strophe.isTagEqual(t,"message"))&&this._increaseSentStanzasCounter(),this._originalSend.call(this._c,t)},_incomingStanzaHandler:function(t){return Strophe.isTagEqual(t,"enabled")&&t.getAttribute("xmlns")===this._NS&&(this._isStreamManagementEnabled=!0),(Strophe.isTagEqual(t,"iq")||Strophe.isTagEqual(t,"presence")||Strophe.isTagEqual(t,"message"))&&(this._increaseReceivedStanzasCounter(),this.autoSendCountOnEveryIncomingStanza&&this._answerProcessedStanzas()),Strophe.isTagEqual(t,"a")&&(this._setSentStanzasCounter(parseInt(t.getAttribute("h"))),this.requestResponseInterval>0&&(this._requestResponseIntervalCount=0)),!0},getClientSentStanzasCounter:function(){return this._clientSentStanzasCounter},_setSentStanzasCounter:function(t){this._serverProcesssedStanzasCounter=t,this._clientSentStanzasCounter!==this._serverProcesssedStanzasCounter&&console.info("Stream Management stanzas counter mismatch. Client value: "+this._clientSentStanzasCounter+" - Server value: "+this._serverProcesssedStanzasCounter)},_handleServerRequestHandler:function(){return this._answerProcessedStanzas(),!0},_answerProcessedStanzas:function(){this._isStreamManagementEnabled&&this._c.send($build("a",{xmlns:this._NS,h:this._clientProcessedStanzasCounter}))},_increaseSentStanzasCounter:function(){this._isStreamManagementEnabled&&(this._clientSentStanzasCounter++,this.requestResponseInterval>0&&(this._requestResponseIntervalCount++,this._requestResponseIntervalCount===this.requestResponseInterval&&(this._requestResponseIntervalCount=0,setTimeout(function(){this._originalSend.call(this._c,$build("r",{xmlns:this._NS}))}.bind(this),100))))},_increaseReceivedStanzasCounter:function(){this._isStreamManagementEnabled&&this._clientProcessedStanzasCounter++}});var Sha1={};Sha1.hash=function(t){t=t.utf8Encode();var e=[1518500249,1859775393,2400959708,3395469782];t+=String.fromCharCode(128);for(var n=t.length/4+2,r=Math.ceil(n/16),i=new Array(r),o=0;o<r;o++){i[o]=new Array(16);for(var s=0;s<16;s++)i[o][s]=t.charCodeAt(64*o+4*s)<<24|t.charCodeAt(64*o+4*s+1)<<16|t.charCodeAt(64*o+4*s+2)<<8|t.charCodeAt(64*o+4*s+3)}i[r-1][14]=8*(t.length-1)/Math.pow(2,32),i[r-1][14]=Math.floor(i[r-1][14]),i[r-1][15]=8*(t.length-1)&4294967295;for(var a,u,c,l,f,h=1732584193,d=4023233417,p=2562383102,v=271733878,m=3285377520,g=new Array(80),o=0;o<r;o++){for(var b=0;b<16;b++)g[b]=i[o][b];for(var b=16;b<80;b++)g[b]=Sha1.ROTL(g[b-3]^g[b-8]^g[b-14]^g[b-16],1);a=h,u=d,c=p,l=v,f=m;for(var b=0;b<80;b++){var y=Math.floor(b/20),_=Sha1.ROTL(a,5)+Sha1.f(y,u,c,l)+f+e[y]+g[b]&4294967295;f=l,l=c,c=Sha1.ROTL(u,30),u=a,a=_}h=h+a&4294967295,d=d+u&4294967295,p=p+c&4294967295,v=v+l&4294967295,m=m+f&4294967295}return Sha1.toHexStr(h)+Sha1.toHexStr(d)+Sha1.toHexStr(p)+Sha1.toHexStr(v)+Sha1.toHexStr(m)},Sha1.f=function(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}},Sha1.ROTL=function(t,e){return t<<e|t>>>32-e},Sha1.toHexStr=function(t){for(var e,n="",r=7;r>=0;r--)e=t>>>4*r&15,n+=e.toString(16);return n},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),Strophe.addConnectionPlugin("httpFileUpload",{_c:null,init:function(t){this._c=t,Strophe.addNamespace("HTTP_FILE_UPLOAD","urn:xmpp:http:upload")},slot:function(t,e,n,r,i,o){var s=this._c.getUniqueId("httpFileUpload"),a=$iq({to:t,type:"get",id:s}).c("request",{xmlns:Strophe.NS.HTTP_FILE_UPLOAD}).c("filename",null,e).c("size",null,n).c("content-type",null,r);this._c.sendIQ(a,function(t){var e=t.getElementsByTagName("slot")[0];if(void 0!==e){var n={put:null,get:null},r=e.getElementsByTagName("put")[0];void 0!==r&&(n.put=Strophe.getText(r));var s=e.getElementsByTagName("get")[0];void 0!==s&&(n.get=Strophe.getText(s)),i(n)}else o("Couldn't get slot.")},o)}});var CryptoJS=CryptoJS||function(t,e){var n={},r=n.lib={},i=function(){},o=r.Base={extend:function(t){i.prototype=this;var e=new i;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=r.WordArray=o.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes;if(t=t.sigBytes,this.clamp(),r%4)for(var i=0;i<t;i++)e[r+i>>>2]|=(n[i>>>2]>>>24-8*(i%4)&255)<<24-8*((r+i)%4);else if(65535<n.length)for(i=0;i<t;i+=4)e[r+i>>>2]=n[i>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-8*(n%4),e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],r=0;r<e;r+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),a=n.enc={},u=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++){var i=e[r>>>2]>>>24-8*(r%4)&255;n.push((i>>>4).toString(16)),n.push((15&i).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-4*(r%8);return new s.init(n,e/2)}},c=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],r=0;r<t;r++)n.push(String.fromCharCode(e[r>>>2]>>>24-8*(r%4)&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-8*(r%4);return new s.init(n,e)}},l=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},f=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*o,i=t.min(4*e,i),e){for(var u=0;u<e;u+=o)this._doProcessBlock(r,u);u=r.splice(0,e),n.sigBytes-=i}return new s.init(u,i)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});r.Hasher=f.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new h.HMAC.init(t,n).finalize(e)}}});var h=n.algo={};return n}(Math);!function(t){for(var e=CryptoJS,n=e.lib,r=n.WordArray,i=n.Hasher,n=e.algo,o=[],s=[],a=function(t){return 4294967296*(t-(0|t))|0},u=2,c=0;64>c;){var l;t:{l=u;for(var f=t.sqrt(l),h=2;h<=f;h++)if(!(l%h)){l=!1;break t}l=!0}l&&(8>c&&(o[c]=a(t.pow(u,.5))),s[c]=a(t.pow(u,1/3)),c++),u++}var d=[],n=n.SHA256=i.extend({_doReset:function(){this._hash=new r.init(o.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],u=n[4],c=n[5],l=n[6],f=n[7],h=0;64>h;h++){if(16>h)d[h]=0|t[e+h];else{var p=d[h-15],v=d[h-2];d[h]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+d[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+d[h-16]}p=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+s[h]+d[h],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),f=l,l=c,c=u,u=a+p|0,a=o,o=i,i=r,r=p+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[(i+64>>>9<<4)+14]=t.floor(r/4294967296),n[(i+64>>>9<<4)+15]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(n),e.HmacSHA256=i._createHmacHelper(n)}(Math),function(){var t=CryptoJS,e=t.enc.Utf8;t.algo.HMAC=t.lib.Base.extend({init:function(t,n){t=this._hasher=new t.init,"string"==typeof n&&(n=e.parse(n));var r=t.blockSize,i=4*r;n.sigBytes>i&&(n=t.finalize(n)),n.clamp();for(var o=this._oKey=n.clone(),s=this._iKey=n.clone(),a=o.words,u=s.words,c=0;c<r;c++)a[c]^=1549556828,u[c]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher;return t=e.finalize(t),e.reset(),e.finalize(this._oKey.clone().concat(t))}})}(),function(){function t(t,e,n){if(!f){f=!0,document.querySelectorAll("#version-modal .version-number")[0].innerText=t.detail.version;var r=document.getElementById("version-modal");r.style.display="block",document.querySelectorAll("#version-modal .confirm-button")[0].addEventListener("click",function(){f=!1,r.style.display="none",void 0!==e&&e()}),document.querySelectorAll("#version-modal .dismiss-button")[0].addEventListener("click",function(){f=!1,r.style.display="none",void 0!==n&&n()})}}function e(t){}function n(e){t(e,function(){a.installVersion(function(){a.restartApplication(function(){},function(){console.error("Provisioning failed to restart and install new version")})},function(){console.error("Provisioning failed to update")},{version:e.detail.version})},function(){console.info("Update postponed.")})}function r(){var t=document.body.getAttribute("data-schema"),e=window.document.querySelectorAll("body div.view-frame")[0];e.setAttribute("md-app",""+(u?"":t?t:"config.json")),angular.element(document).ready(function(){angular.bootstrap(document,["app"])})}function i(){l=!0,u||void 0===window.plugins||null===window.plugins||void 0===window.plugins.provisioning||null===window.plugins.provisioning?r():(a=window.plugins.provisioning,document.addEventListener("updateavailable",n,!1),document.addEventListener("updateprogress",e,!1),r())}function o(){var t=localStorage.getItem("appName");u=void 0!==t&&null!==t,c?(document.addEventListener("deviceready",i,!1),setTimeout(function(){l||(console.error("device not ready"),r())},s)):r()}var s=5e3,a=null,u=!1,c=/iPhone|iPad|iPod|IEMobile|Android/i.test(navigator.userAgent),l=!1,f=!1;document.addEventListener("DOMContentLoaded",o,!1)}(),function(){var t=CryptoJS,e=t.lib.WordArray;t.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp(),t=[];for(var i=0;i<n;i+=3)for(var o=(e[i>>>2]>>>24-8*(i%4)&255)<<16|(e[i+1>>>2]>>>24-8*((i+1)%4)&255)<<8|e[i+2>>>2]>>>24-8*((i+2)%4)&255,s=0;4>s&&i+.75*s<n;s++)t.push(r.charAt(o>>>6*(3-s)&63));if(e=r.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var n=t.length,r=this._map,i=r.charAt(64);i&&(i=t.indexOf(i),-1!=i&&(n=i));for(var i=[],o=0,s=0;s<n;s++)if(s%4){var a=r.indexOf(t.charAt(s-1))<<2*(s%4),u=r.indexOf(t.charAt(s))>>>6-2*(s%4);i[o>>>2]|=(a|u)<<24-8*(o%4),o++}return e.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t){return t&&t.Object===Object?t:null}function n(t){for(var e=[],n=0,r=t.length;r>n;n++)e.push(t[n]);return e}function r(t){return function(){try{return t.apply(this,arguments)}catch(e){return Yt.e=e,Yt}}}function i(t){throw t}function o(t,e){if(Zt&&e.stack&&"object"==typeof t&&null!==t&&t.stack&&-1===t.stack.indexOf(re)){for(var n=[],r=e;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(t.stack);var i=n.join("\n"+re+"\n");t.stack=s(i)}}function s(t){for(var e=t.split("\n"),n=[],r=0,i=e.length;i>r;r++){var o=e[r];a(o)||u(o)||!o||n.push(o)}return n.join("\n")}function a(t){var e=l(t);if(!e)return!1;var n=e[0],r=e[1];return n===ee&&r>=ne&&Ms>=r}function u(t){return-1!==t.indexOf("(module.js:")||-1!==t.indexOf("(node.js:")}function c(){if(Zt)try{throw new Error}catch(t){var e=t.stack.split("\n"),n=e[0].indexOf("@")>0?e[1]:e[2],r=l(n);if(!r)return;return ee=r[0],r[1]}}function l(t){var e=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(t);if(e)return[e[1],Number(e[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(t);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(t);return r?[r[1],Number(r[2])]:void 0}function f(e,n,r,i,o,s){var a=ze(e),u=a.length,c=ze(n),l=c.length;if(u!==l&&!i)return!1;for(var f,h=u;h--;)if(f=a[h],!(i?f in n:Fe.call(n,f)))return!1;for(var d=i;++h<u;){f=a[h];var p,v=e[f],m=n[f];if(!(p===t?r(v,m,i,o,s):p))return!1;d||(d="constructor"===f)}if(!d){var g=e.constructor,b=n.constructor;if(g!==b&&"constructor"in e&&"constructor"in n&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b))return!1}return!0}function h(t,e,n){switch(n){case be:case ye:return+t===+e;case _e:return t.name===e.name&&t.message===e.message;case xe:return t!==+t?e!==+e:t===+e;case Ce:case Ae:return t===e+""}return!1}function d(t){return!!t&&"object"==typeof t}function p(t){return"number"==typeof t&&t>-1&&t%1===0&&He>=t}function v(t){return d(t)&&p(t.length)&&!!qe[Ue.call(t)]}function m(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(e,n,r,i,o,s){var a=-1,u=e.length,c=n.length;if(u!==c&&!(i&&c>u))return!1;for(;++a<u;){var l,f=e[a],h=n[a];if(l!==t){if(l)continue;return!1}if(i){if(!m(n,function(t){return f===t||r(f,t,i,o,s)}))return!1}else if(f!==h&&!r(f,h,i,o,s))return!1}return!0}function b(t,e,n,r,i,o){var s=We(t),a=We(e),u=ge,c=ge;s||(u=Ue.call(t),u===me?u=Ee:u!==Ee&&(s=v(t))),a||(c=Ue.call(e),c===me&&(c=Ee));var l=u===Ee&&!Ve(t),d=c===Ee&&!Ve(e),p=u===c;if(p&&!s&&!l)return h(t,e,u);if(!r){var m=l&&Fe.call(t,"__wrapped__"),b=d&&Fe.call(e,"__wrapped__");if(m||b)return n(m?t.value():t,b?e.value():e,r,i,o)}if(!p)return!1;i||(i=[]),o||(o=[]);for(var y=i.length;y--;)if(i[y]===t)return o[y]===e;i.push(t),o.push(e);var _=(s?g:f)(t,e,n,r,i,o);return i.pop(),o.pop(),_}function y(t,e,n,r,i){return t===e||(null==t||null==e||!et(t)&&!d(e)?t!==t&&e!==e:b(t,e,y,n,r,i))}function _(t,e){for(var n=new Array(t),r=0;t>r;r++)n[r]=e();return n}function w(t,e){this.id=t,this.value=e}function S(t,e){this.scheduler=t,this.disposable=e,this.isDisposed=!1}function x(t,e){e.isDisposed||(e.isDisposed=!0,e.disposable.dispose())}function E(t){this._s=t,this.isDisposed=!1}function C(t){this._s=t}function k(t){this._s=t,this._l=t.length,this._i=0}function A(t){this._a=t;
}function $(t){this._a=t,this._l=I(t),this._i=0}function T(t){return"number"==typeof t&&Ft.isFinite(t)}function N(e){var n,r=e[le];if(!r&&"string"==typeof e)return n=new C(e),n[le]();if(!r&&e.length!==t)return n=new A(e),n[le]();if(!r)throw new TypeError("Object is not iterable");return e[le]()}function O(t){var e=+t;return 0===e?e:isNaN(e)?e:0>e?-1:1}function I(t){var e=+t.length;return isNaN(e)?0:0!==e&&T(e)?(e=O(e)*Math.floor(Math.abs(e)),0>=e?0:e>hr?hr:e):e}function M(t,e){return mn(t)||(t=xn),new pr(e,t)}function R(t,e){this.observer=t,this.parent=e}function D(t,e){return t.amb(e)}function L(){return!1}function j(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function L(){return!1}function j(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function L(){return!1}function P(){return[]}function L(){return!1}function P(){return[]}function j(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function q(t){return function(e){return t.subscribe(e)}}function B(t){return t.toArray()}function F(t){return t.length>0}function U(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function U(t){return{"@@iterator":function(){return{next:function(){return{done:!1,value:t}}}}}}function H(t,e,n){var r=pe(e,n,3);return t.map(function(e,n){var i=r(e,n,t);return Xt(i)&&(i=ir(i)),(de(i)||he(i))&&(i=dr(i)),i}).concatAll()}function z(t,e,n){for(var r=0,i=t.length;i>r;r++)if(n(t[r],e))return r;return-1}function V(t){this.comparer=t,this.set=[]}function W(e,n){return function(r){for(var i=r,o=0;n>o;o++){var s=i[e[o]];if("undefined"==typeof s)return t;i=s}return i}}function K(t){if(0===t.length)throw new ie;return t[0]}function J(t,e,n,r){var i=pe(e,n,3);return new Es(function(e){return t.subscribe(new ao(e,t,i,r))},t)}function X(t){return t?Vn.isObservable(t)?t:Xt(t)?Vn.fromPromise(t):tt(t)||Z(t)?go.call(this,t):Gt(t)?Q.call(this,t):de(t)||he(t)?G.call(this,t):et(t)?Y.call(this,t):t:t}function G(t){return Vn.from(t).concatMap(function(t){return Vn.isObservable(t)||et(t)?X.call(null,t):Ut.Observable.just(t)}).toArray()}function Y(e){function n(e,n){r[n]=t,o.push(e.map(function(t){r[n]=t}))}for(var r=new e.constructor,i=Object.keys(e),o=[],s=0,a=i.length;a>s;s++){var u=i[s],c=X.call(this,e[u]);c&&Vn.isObservable(c)?n(c,u):r[u]=e[u]}return Vn.forkJoin.apply(Vn,o).map(function(){return r})}function Q(t){var e=this;return new Es(function(n){t.call(e,function(){var t=arguments[0],e=arguments[1];if(t)return n.onError(t);if(arguments.length>2){for(var r=[],i=1,o=arguments.length;o>i;i++)r.push(arguments[i]);e=r}n.onNext(e),n.onCompleted()})})}function Z(t){return Gt(t.next)&&Gt(t["throw"])}function tt(t){var e=t.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName||Z(e.prototype))}function et(t){return Object==t.constructor}function nt(t,e,n,r){var i=new Ts;return r.push(rt(i,e,n)),t.apply(e,r),i.asObservable()}function rt(t,e,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];if(Gt(n)){if(i=Qt(n).apply(e,i),i===Yt)return t.onError(i.e);t.onNext(i)}else i.length<=1?t.onNext(i[0]):t.onNext(i);t.onCompleted()}}function it(t,e,n,r){var i=new Ts;return r.push(ot(i,e,n)),t.apply(e,r),i.asObservable()}function ot(t,e,n){return function(){var r=arguments[0];if(r)return t.onError(r);for(var i=arguments.length,o=[],s=1;i>s;s++)o[s-1]=arguments[s];if(Gt(n)){var o=Qt(n).apply(e,o);if(o===Yt)return t.onError(o.e);t.onNext(o)}else o.length<=1?t.onNext(o[0]):t.onNext(o);t.onCompleted()}}function st(t){return Ft.StaticNodeList?t instanceof Ft.StaticNodeList||t instanceof Ft.NodeList:"[object NodeList]"===Object.prototype.toString.call(t)}function at(t,e,n){this._e=t,this._n=e,this._fn=n,this._e.addEventListener(this._n,this._fn,!1),this.isDisposed=!1}function ut(t,e,n){var r=new Ze,i=Object.prototype.toString.call(t);if(st(t)||"[object HTMLCollection]"===i)for(var o=0,s=t.length;s>o;o++)r.add(ut(t.item(o),e,n));else t&&r.add(new at(t,e,n));return r}function ct(t,e,n){return new Es(function(r){function i(t,e){if(c[e]=t,s[e]=!0,a||(a=s.every(zt))){if(o)return r.onError(o);var i=Qt(n).apply(null,c);if(i===Yt)return r.onError(i.e);r.onNext(i)}u&&c[1]&&r.onCompleted()}var o,s=[!1,!1],a=!1,u=!1,c=new Array(2);return new ln(t.subscribe(function(t){i(t,0)},function(t){c[1]?r.onError(t):o=t},function(){u=!0,c[1]&&r.onCompleted()}),e.subscribe(function(t){i(t,1)},function(t){r.onError(t)},function(){u=!0,i(!0,1)}))},t)}function B(t){return t.toArray()}function lt(t,e){return t.groupJoin(this,e,lr,function(t,e){return e})}function ft(t){var e=this;return new Es(function(n){var r=new $s,i=new Ze,o=new hn(i);return n.onNext(Ge(r,o)),i.add(e.subscribe(function(t){r.onNext(t)},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),Xt(t)&&(t=ir(t)),i.add(t.subscribe(function(t){r.onCompleted(),r=new $s,n.onNext(Ge(r,o))},function(t){r.onError(t),n.onError(t)},function(){r.onCompleted(),n.onCompleted()})),o},e)}function ht(t){var e=this;return new Es(function(n){function r(){var e;try{e=t()}catch(o){return void n.onError(o)}Xt(e)&&(e=ir(e));var u=new un;i.setDisposable(u),u.setDisposable(e.take(1).subscribe(Ht,function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),a=new $s,n.onNext(Ge(a,s)),r()}))}var i=new cn,o=new Ze(i),s=new hn(o),a=new $s;return n.onNext(Ge(a,s)),o.add(e.subscribe(function(t){a.onNext(t)},function(t){a.onError(t),n.onError(t)},function(){a.onCompleted(),n.onCompleted()})),r(),s},e)}function dt(t,e){return new Ro(t,e)}function j(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return e}function pt(t){this.patterns=t}function vt(t,e){this.expression=t,this.selector=e}function mt(t){return function(e){t.onError(e)}}function gt(t,e){return function(){var n=Qt(t.selector).apply(t,arguments);return n===Yt?e.onError(n.e):void e.onNext(n)}}function bt(t,e,n){var r=t.get(e);if(!r){var i=new Uo(e,n);return t.set(e,i),i}return r}function yt(t,e,n){this.joinObserverArray=t,this.onNext=e,this.onCompleted=n,this.joinObservers=new Fo;for(var r=0,i=this.joinObserverArray.length;i>r;r++){var o=this.joinObserverArray[r];this.joinObservers.set(o,o)}}function _t(t,e){return new Ho(t,e)}function wt(t,e,n){return new Es(function(r){var i=t,o=vn(e);return n.scheduleRecursiveFuture(0,i,function(t,e){if(o>0){var s=n.now();i=new Date(i.getTime()+o),i.getTime()<=s&&(i=new Date(s+o))}r.onNext(t),e(t+1,new Date(i))})})}function St(t,e,n){return t===e?new Es(function(t){return n.schedulePeriodic(0,e,function(e){return t.onNext(e),e+1})}):ar(function(){return wt(new Date(n.now()+t),e,n)})}function xt(t,e,n){return new Es(function(r){var i,o=!1,s=new cn,a=null,u=[],c=!1;return i=t.materialize().timestamp(n).subscribe(function(t){var i,l;"E"===t.value.kind?(u=[],u.push(t),a=t.value.error,l=!c):(u.push({value:t.value,timestamp:t.timestamp+e}),l=!o,o=!0),l&&(null!==a?r.onError(a):(i=new un,s.setDisposable(i),i.setDisposable(n.scheduleRecursiveFuture(null,e,function(t,e){var i,s,l,f;if(null===a){c=!0;do l=null,u.length>0&&u[0].timestamp-n.now()<=0&&(l=u.shift().value),null!==l&&l.accept(r);while(null!==l);f=!1,s=0,u.length>0?(f=!0,s=Math.max(0,u[0].timestamp-n.now())):o=!1,i=a,c=!1,null!==i?r.onError(i):f&&e(null,s)}}))))}),new ln(i,s)},t)}function Et(t,e,n){return ar(function(){return xt(t,e-n.now(),n)})}function Ct(t,e,n){var r,i;return Gt(e)?i=e:(r=e,i=n),new Es(function(e){function n(){u.setDisposable(t.subscribe(function(t){var n=Qt(i)(t);if(n===Yt)return e.onError(n.e);var r=new un;s.add(r),r.setDisposable(n.subscribe(function(){e.onNext(t),s.remove(r),o()},function(t){e.onError(t)},function(){e.onNext(t),s.remove(r),o()}))},function(t){e.onError(t)},function(){a=!0,u.dispose(),o()}))}function o(){a&&0===s.length&&e.onCompleted()}var s=new Ze,a=!1,u=new cn;return r?u.setDisposable(r.subscribe(n,function(t){e.onError(t)},n)):n(),new ln(u,s)},t)}function kt(t,e){return new Es(function(n){var r,i=!1,o=new cn,s=0,a=t.subscribe(function(t){var a=Qt(e)(t);if(a===Yt)return n.onError(a.e);Xt(a)&&(a=ir(a)),i=!0,r=t,s++;var u=s,c=new un;o.setDisposable(c),c.setDisposable(a.subscribe(function(){i&&s===u&&n.onNext(r),i=!1,c.dispose()},function(t){n.onError(t)},function(){i&&s===u&&n.onNext(r),i=!1,c.dispose()}))},function(t){o.dispose(),n.onError(t),i=!1,s++},function(){o.dispose(),i&&n.onNext(r),n.onCompleted(),i=!1,s++});return new ln(a,o)},t)}function B(t){return t.toArray()}function B(t){return t.toArray()}function At(t,e,n,r){return Gt(e)&&(r=n,n=e,e=yr()),Vn.isObservable(r)||(r=Cr(new ts)),new Es(function(i){function o(t){function e(){return f=n===l}var n=l,o=new un;u.setDisposable(o),o.setDisposable(t.subscribe(function(){e()&&a.setDisposable(r.subscribe(i)),o.dispose()},function(t){e()&&i.onError(t)},function(){e()&&a.setDisposable(r.subscribe(i))}))}function s(){var t=!f;return t&&l++,t}var a=new cn,u=new cn,c=new un;a.setDisposable(c);var l=0,f=!1;return o(e),c.setDisposable(t.subscribe(function(t){if(s()){i.onNext(t);var e=Qt(n)(t);if(e===Yt)return i.onError(e.e);o(Xt(e)?ir(e):e)}},function(t){s()&&i.onError(t)},function(){s()&&i.onCompleted()})),new ln(a,u)},t)}function $t(t,e,n,r){return mn(n)&&(r=n,n=Cr(new ts)),n instanceof Error&&(n=Cr(n)),mn(r)||(r=$n),Vn.isObservable(n)||(n=Cr(new ts)),new Es(function(i){function o(){var t=s;l.setDisposable(r.scheduleFuture(null,e,function(){c=s===t,c&&(Xt(n)&&(n=ir(n)),u.setDisposable(n.subscribe(i)))}))}var s=0,a=new un,u=new cn,c=!1,l=new cn;return u.setDisposable(a),o(),a.setDisposable(t.subscribe(function(t){c||(s++,i.onNext(t),o())},function(t){c||(s++,i.onError(t))},function(){c||(s++,i.onCompleted())})),new ln(u,l)},t)}function Tt(t){return{"@@transducer/init":function(){return t},"@@transducer/step":function(t,e){return t.onNext(e)},"@@transducer/result":function(t){return t.onCompleted()}}}function Nt(t){this.predicate=t}function Ot(t){this.predicate=t}function It(t,e){var n=this;this.scheduler=t,this.messages=e,this.subscriptions=[],this.observers=[];for(var r=0,i=this.messages.length;i>r;r++){var o=this.messages[r],s=o.value;!function(e){t.scheduleAbsolute(null,o.time,function(){for(var t=n.observers.slice(0),r=0,i=t.length;i>r;r++)e.accept(t[r]);return rn})}(s)}}var Mt={"function":!0,object:!0},Rt=Mt[typeof exports]&&exports&&!exports.nodeType?exports:null,Dt=Mt[typeof module]&&module&&!module.nodeType?module:null,Lt=e(Rt&&Dt&&"object"==typeof global&&global),jt=e(Mt[typeof self]&&self),Pt=e(Mt[typeof window]&&window),qt=Dt&&Dt.exports===Rt?Rt:null,Bt=e(Mt[typeof this]&&this),Ft=Lt||Pt!==(Bt&&Bt.window)&&Pt||jt||Bt||Function("return this")(),Ut={internals:{},config:{Promise:Ft.Promise},helpers:{}},Ht=Ut.helpers.noop=function(){},zt=Ut.helpers.identity=function(t){return t},Vt=Ut.helpers.defaultNow=Date.now,Wt=Ut.helpers.defaultComparer=function(t,e){return Ke(t,e)},Kt=Ut.helpers.defaultSubComparer=function(t,e){return t>e?1:e>t?-1:0},Jt=(Ut.helpers.defaultKeySerializer=function(t){return t.toString()},Ut.helpers.defaultError=function(t){throw t}),Xt=Ut.helpers.isPromise=function(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then},Gt=Ut.helpers.isFunction=function(){var t=function(t){return"function"==typeof t||!1};return t(/x/)&&(t=function(t){return"function"==typeof t&&"[object Function]"==toString.call(t)}),t}(),Yt={e:{}},Qt=Ut.internals.tryCatch=function(t){if(!Gt(t))throw new TypeError("fn must be a function");return r(t)};Ut.config.longStackSupport=!1;var Zt=!1,te=Qt(function(){throw new Error})();Zt=!!te.e&&!!te.e.stack;var ee,ne=c(),re="From previous event:",ie=Ut.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};ie.prototype=Object.create(Error.prototype),ie.prototype.name="EmptyError";var oe=Ut.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};oe.prototype=Object.create(Error.prototype),oe.prototype.name="ObjectDisposedError";var se=Ut.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};se.prototype=Object.create(Error.prototype),se.prototype.name="ArgumentOutOfRangeError";var ae=Ut.NotSupportedError=function(t){this.message=t||"This operation is not supported",Error.call(this)};ae.prototype=Object.create(Error.prototype),ae.prototype.name="NotSupportedError";var ue=Ut.NotImplementedError=function(t){this.message=t||"This operation is not implemented",Error.call(this)};ue.prototype=Object.create(Error.prototype),ue.prototype.name="NotImplementedError";var ce=Ut.helpers.notImplemented=function(){throw new ue},le=(Ut.helpers.notSupported=function(){throw new ae},"function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_");Ft.Set&&"function"==typeof(new Ft.Set)["@@iterator"]&&(le="@@iterator");var fe=Ut.doneEnumerator={done:!0,value:t},he=Ut.helpers.isIterable=function(e){return e&&e[le]!==t},de=Ut.helpers.isArrayLike=function(e){return e&&e.length!==t};Ut.helpers.iterator=le;var pe=Ut.internals.bindCallback=function(t,e,n){if("undefined"==typeof e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},ve=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],me=(ve.length,"[object Arguments]"),ge="[object Array]",be="[object Boolean]",ye="[object Date]",_e="[object Error]",we="[object Function]",Se="[object Map]",xe="[object Number]",Ee="[object Object]",Ce="[object RegExp]",ke="[object Set]",Ae="[object String]",$e="[object WeakMap]",Te="[object ArrayBuffer]",Ne="[object Float32Array]",Oe="[object Float64Array]",Ie="[object Int8Array]",Me="[object Int16Array]",Re="[object Int32Array]",De="[object Uint8Array]",Le="[object Uint8ClampedArray]",je="[object Uint16Array]",Pe="[object Uint32Array]",qe={};qe[Ne]=qe[Oe]=qe[Ie]=qe[Me]=qe[Re]=qe[De]=qe[Le]=qe[je]=qe[Pe]=!0,qe[me]=qe[ge]=qe[Te]=qe[be]=qe[ye]=qe[_e]=qe[we]=qe[Se]=qe[xe]=qe[Ee]=qe[Ce]=qe[ke]=qe[Ae]=qe[$e]=!1;var Be=Object.prototype,Fe=Be.hasOwnProperty,Ue=Be.toString,He=Math.pow(2,53)-1,ze=Object.keys||function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,s,a=[];for(o in i)t.call(i,o)&&a.push(o);if(e)for(s=0;r>s;s++)t.call(i,n[s])&&a.push(n[s]);return a}}(),et=Ut.internals.isObject=function(t){var e=typeof t;return!!t&&("object"===e||"function"===e)},Ve=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),We=Array.isArray||function(t){return d(t)&&p(t.length)&&Ue.call(t)===ge},Ke=Ut.internals.isEqual=function(t,e){return y(t,e)},Je=({}.hasOwnProperty,Array.prototype.slice,Ut.internals.inherits=function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}),Xe=Ut.internals.addProperties=function(t){for(var e=[],n=1,r=arguments.length;r>n;n++)e.push(arguments[n]);for(var i=0,o=e.length;o>i;i++){var s=e[i];for(var a in s)t[a]=s[a]}},Ge=Ut.internals.addRef=function(t,e){return new Es(function(n){return new ln(e.getDisposable(),t.subscribe(n))})};w.prototype.compareTo=function(t){var e=this.value.compareTo(t.value);return 0===e&&(e=this.id-t.id),e};var Ye=Ut.internals.PriorityQueue=function(t){this.items=new Array(t),this.length=0},Qe=Ye.prototype;Qe.isHigherPriority=function(t,e){return this.items[t].compareTo(this.items[e])<0},Qe.percolate=function(t){if(!(t>=this.length||0>t)){var e=t-1>>1;if(!(0>e||e===t)&&this.isHigherPriority(t,e)){var n=this.items[t];this.items[t]=this.items[e],this.items[e]=n,this.percolate(e)}}},Qe.heapify=function(t){if(+t||(t=0),!(t>=this.length||0>t)){var e=2*t+1,n=2*t+2,r=t;if(e<this.length&&this.isHigherPriority(e,r)&&(r=e),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==t){var i=this.items[t];this.items[t]=this.items[r],this.items[r]=i,this.heapify(r)}}},Qe.peek=function(){return this.items[0].value},Qe.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=t,this.heapify()},Qe.dequeue=function(){var t=this.peek();return this.removeAt(0),t},Qe.enqueue=function(t){var e=this.length++;this.items[e]=new w((Ye.count++),t),this.percolate(e)},Qe.remove=function(t){for(var e=0;e<this.length;e++)if(this.items[e].value===t)return this.removeAt(e),!0;return!1},Ye.count=0;var Ze=Ut.CompositeDisposable=function(){var t,e,n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(e=arguments.length,n=new Array(e),t=0;e>t;t++)n[t]=arguments[t];this.disposables=n,this.isDisposed=!1,this.length=n.length},tn=Ze.prototype;tn.add=function(t){this.isDisposed?t.dispose():(this.disposables.push(t),this.length++)},tn.remove=function(t){var e=!1;if(!this.isDisposed){var n=this.disposables.indexOf(t);-1!==n&&(e=!0,this.disposables.splice(n,1),this.length--,t.dispose())}return e},tn.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=this.disposables.length,e=new Array(t),n=0;t>n;n++)e[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;t>n;n++)e[n].dispose()}};var en=Ut.Disposable=function(t){this.isDisposed=!1,this.action=t||Ht};en.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var nn=en.create=function(t){return new en(t)},rn=en.empty={dispose:Ht},on=en.isDisposable=function(t){return t&&Gt(t.dispose)},sn=en.checkDisposed=function(t){if(t.isDisposed)throw new oe},an=en._fixup=function(t){return on(t)?t:rn},un=Ut.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};un.prototype.getDisposable=function(){return this.current},un.prototype.setDisposable=function(t){if(this.current)throw new Error("Disposable has already been assigned");var e=this.isDisposed;!e&&(this.current=t),e&&t&&t.dispose()},un.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null,t&&t.dispose()}};var cn=Ut.SerialDisposable=function(){this.isDisposed=!1,this.current=null};cn.prototype.getDisposable=function(){return this.current},cn.prototype.setDisposable=function(t){var e=this.isDisposed;if(!e){var n=this.current;this.current=t}n&&n.dispose(),e&&t&&t.dispose()},cn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this.current;this.current=null}t&&t.dispose()};var ln=Ut.BinaryDisposable=function(t,e){this._first=t,this._second=e,this.isDisposed=!1};ln.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var t=this._first;this._first=null,t&&t.dispose();var e=this._second;this._second=null,e&&e.dispose()}};var fn=Ut.NAryDisposable=function(t){this._disposables=t,this.isDisposed=!1};fn.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var t=0,e=this._disposables.length;e>t;t++)this._disposables[t].dispose();this._disposables.length=0}};var hn=Ut.RefCountDisposable=function(){function t(t){this.disposable=t,this.disposable.count++,this.isInnerDisposed=!1}function e(t){this.underlyingDisposable=t,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return t.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},e.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},e.prototype.getDisposable=function(){return this.isDisposed?rn:new t(this)},e}();S.prototype.dispose=function(){this.scheduler.schedule(this,x)};var dn=Ut.internals.ScheduledItem=function(t,e,n,r,i){this.scheduler=t,this.state=e,this.action=n,this.dueTime=r,this.comparer=i||Kt,this.disposable=new un};dn.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},dn.prototype.compareTo=function(t){return this.comparer(this.dueTime,t.dueTime)},dn.prototype.isCancelled=function(){return this.disposable.isDisposed},dn.prototype.invokeCore=function(){return an(this.action(this.scheduler,this.state))};var pn=Ut.Scheduler=function(){function t(){}t.isScheduler=function(e){return e instanceof t};var e=t.prototype;return e.schedule=function(t,e){throw new ue},e.scheduleFuture=function(e,n,r){var i=n;return i instanceof Date&&(i-=this.now()),i=t.normalize(i),0===i?this.schedule(e,r):this._scheduleFuture(e,i,r)},e._scheduleFuture=function(t,e,n){throw new ue},t.now=Vt,t.prototype.now=Vt,t.normalize=function(t){return 0>t&&(t=0),t},t}(),vn=pn.normalize,mn=pn.isScheduler;!function(t){function e(t,e){function n(e){function r(t,e){return s?o.remove(u):a=!0,i(e,n),rn}var s=!1,a=!1,u=t.schedule(e,r);a||(o.add(u),s=!0)}var r=e[0],i=e[1],o=new Ze;return i(r,n),o}function n(t,e){function n(e,r){function s(t,e){return a?o.remove(c):u=!0,i(e,n),rn}var a=!1,u=!1,c=t.scheduleFuture(e,r,s);u||(o.add(c),a=!0)}var r=e[0],i=e[1],o=new Ze;return i(r,n),o}t.scheduleRecursive=function(t,n){return this.schedule([t,n],e)},t.scheduleRecursiveFuture=function(t,e,r){return this.scheduleFuture([t,r],e,n)}}(pn.prototype),function(t){t.schedulePeriodic=function(t,e,n){if("undefined"==typeof Ft.setInterval)throw new ae;e=vn(e);var r=t,i=Ft.setInterval(function(){r=n(r)},e);return nn(function(){Ft.clearInterval(i)})}}(pn.prototype),function(t){t.catchError=t["catch"]=function(t){return new Tn(this,t)}}(pn.prototype);var gn,bn,yn=Ut.internals.SchedulePeriodicRecursive=function(){function t(t){return function(e,n){n(0,t._period);var r=Qt(t._action)(t._state);r===Yt&&(t._cancel.dispose(),i(r.e)),t._state=r}}function e(t,e,n,r){this._scheduler=t,this._state=e,this._period=n,this._action=r}return e.prototype.start=function(){var e=new un;return this._cancel=e,e.setDisposable(this._scheduler.scheduleRecursiveFuture(0,this._period,t(this))),e},e}(),_n=function(t){function e(){t.call(this)}return Je(e,t),e.prototype.schedule=function(t,e){return an(e(this,t))},e}(pn),wn=pn.immediate=new _n,Sn=function(t){function e(){for(;r.length>0;){var t=r.dequeue();!t.isCancelled()&&t.invoke()}}function n(){t.call(this)}var r;return Je(n,t),n.prototype.schedule=function(t,n){var o=new dn(this,t,n,this.now());if(r)r.enqueue(o);else{r=new Ye(4),r.enqueue(o);var s=Qt(e)();r=null,s===Yt&&i(s.e)}return o.disposable},n.prototype.scheduleRequired=function(){return!r},n}(pn),xn=pn.currentThread=new Sn,En=function(){var t,e=Ht;if(Ft.setTimeout)t=Ft.setTimeout,e=Ft.clearTimeout;else{if(!Ft.WScript)throw new ae;t=function(t,e){Ft.WScript.Sleep(e),t()}}return{setTimeout:t,clearTimeout:e}}(),Cn=En.setTimeout,kn=En.clearTimeout;!function(){function t(e){if(o)Cn(function(){t(e)},0);else{var n=r[e];if(n){o=!0;var s=Qt(n)();bn(e),o=!1,s===Yt&&i(s.e)}}}function e(){if(!Ft.postMessage||Ft.importScripts)return!1;var t=!1,e=Ft.onmessage;return Ft.onmessage=function(){t=!0},Ft.postMessage("","*"),Ft.onmessage=e,t}var n=1,r={},o=!1;bn=function(t){delete r[t]};var s=new RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=Lt&&qt&&Lt.setImmediate)&&!s.test(a)&&a;if(Gt(a))gn=function(e){var i=n++;return r[i]=e,a(function(){t(i)}),i};else if("undefined"!=typeof process&&"[object process]"==={}.toString.call(process))gn=function(e){var i=n++;return r[i]=e,process.nextTick(function(){t(i)}),i};else if(e()){var u="ms.rx.schedule"+Math.random(),c=function(e){"string"==typeof e.data&&e.data.substring(0,u.length)===u&&t(e.data.substring(u.length))};Ft.addEventListener("message",c,!1),gn=function(t){var e=n++;return r[e]=t,Ft.postMessage(u+e,"*"),e}}else if(Ft.MessageChannel){var l=new Ft.MessageChannel;l.port1.onmessage=function(e){t(e.data)},gn=function(t){var e=n++;return r[e]=t,l.port2.postMessage(e),e}}else gn="document"in Ft&&"onreadystatechange"in Ft.document.createElement("script")?function(e){var i=Ft.document.createElement("script"),o=n++;return r[o]=e,i.onreadystatechange=function(){t(o),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},Ft.document.documentElement.appendChild(i),o}:function(e){var i=n++;return r[i]=e,Cn(function(){t(i)},0),i}}();var An=function(t){function e(){t.call(this)}function n(t,e,n,r){return function(){t.setDisposable(en._fixup(e(n,r)))}}function r(t){this._id=t,this.isDisposed=!1}function i(t){this._id=t,this.isDisposed=!1}function o(t,e,n){return function(){e(t,n)}}return Je(e,t),r.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,bn(this._id))},i.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,kn(this._id))},e.prototype.schedule=function(t,e){var i=new un,o=gn(n(i,e,this,t));return new ln(i,new r(o))},e.prototype._scheduleFuture=function(t,e,r){if(0===e)return this.schedule(t,r);var o=new un,s=Cn(n(o,r,this,t),e);return new ln(o,new i(s))},e.prototype.scheduleLongRunning=function(t,e){var n=nn(Ht);return gn(o(t,e,n)),n},e}(pn),$n=pn["default"]=pn.async=new An,Tn=function(t){function e(e,n){this._scheduler=e,this._handler=n,this._recursiveOriginal=null,this._recursiveWrapper=null,t.call(this)}return Je(e,t),e.prototype.schedule=function(t,e){return this._scheduler.schedule(t,this._wrap(e))},e.prototype._scheduleFuture=function(t,e,n){return this._scheduler.schedule(t,e,this._wrap(n))},e.prototype.now=function(){return this._scheduler.now()},e.prototype._clone=function(t){return new e(t,this._handler)},e.prototype._wrap=function(t){var e=this;return function(n,r){var o=Qt(t)(e._getRecursiveWrapper(n),r);return o===Yt?(e._handler(o.e)||i(o.e),rn):an(o)}},e.prototype._getRecursiveWrapper=function(t){if(this._recursiveOriginal!==t){this._recursiveOriginal=t;var e=this._clone(t);e._recursiveOriginal=t,e._recursiveWrapper=e,this._recursiveWrapper=e}return this._recursiveWrapper},e.prototype.schedulePeriodic=function(t,e,n){var r=this,o=!1,s=new un;return s.setDisposable(this._scheduler.schedulePeriodic(t,e,function(t){if(o)return null;var e=Qt(n)(t);return e===Yt?(o=!0,r._handler(e.e)||i(e.e),s.dispose(),null):e})),s},e}(pn),Nn=Ut.Notification=function(){function t(){}return t.prototype._accept=function(t,e,n){throw new ue},t.prototype._acceptObserver=function(t,e,n){throw new ue},t.prototype.accept=function(t,e,n){return t&&"object"==typeof t?this._acceptObserver(t):this._accept(t,e,n)},t.prototype.toObservable=function(t){var e=this;return mn(t)||(t=wn),new Es(function(n){return t.schedule(e,function(t,e){e._acceptObserver(n),"N"===e.kind&&n.onCompleted()})})},t}(),On=function(t){function e(t){this.value=t,this.kind="N"}return Je(e,t),e.prototype._accept=function(t){return t(this.value)},e.prototype._acceptObserver=function(t){return t.onNext(this.value)},e.prototype.toString=function(){return"OnNext("+this.value+")"},e}(Nn),In=function(t){function e(t){this.error=t,this.kind="E"}return Je(e,t),e.prototype._accept=function(t,e){return e(this.error)},e.prototype._acceptObserver=function(t){return t.onError(this.error)},e.prototype.toString=function(){return"OnError("+this.error+")"},e}(Nn),Mn=function(t){function e(){this.kind="C"}return Je(e,t),e.prototype._accept=function(t,e,n){return n()},e.prototype._acceptObserver=function(t){return t.onCompleted()},e.prototype.toString=function(){return"OnCompleted()"},e}(Nn),Rn=Nn.createOnNext=function(t){return new On(t)},Dn=Nn.createOnError=function(t){return new In(t)},Ln=Nn.createOnCompleted=function(){return new Mn},jn=Ut.Observer=function(){};jn.prototype.toNotifier=function(){var t=this;return function(e){return e.accept(t)}},jn.prototype.asObserver=function(){var t=this;return new Fn(function(e){t.onNext(e)},function(e){t.onError(e)},function(){t.onCompleted()})},jn.prototype.checked=function(){return new Un(this)};var Pn=jn.create=function(t,e,n){return t||(t=Ht),e||(e=Jt),n||(n=Ht),new Fn(t,e,n)};jn.fromNotifier=function(t,e){var n=pe(t,e,1);return new Fn(function(t){return n(Rn(t))},function(t){return n(Dn(t))},function(){return n(Ln())})},jn.prototype.notifyOn=function(t){return new zn(t,this)},jn.prototype.makeSafe=function(t){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,t)};var qn,Bn=Ut.internals.AbstractObserver=function(t){function e(){this.isStopped=!1}return Je(e,t),e.prototype.next=ce,e.prototype.error=ce,e.prototype.completed=ce,e.prototype.onNext=function(t){!this.isStopped&&this.next(t)},e.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.error(t))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.error(t),!0)},e}(jn),Fn=Ut.AnonymousObserver=function(t){function e(e,n,r){t.call(this),this._onNext=e,this._onError=n,this._onCompleted=r}return Je(e,t),e.prototype.next=function(t){this._onNext(t)},e.prototype.error=function(t){this._onError(t)},e.prototype.completed=function(){this._onCompleted()},e}(Bn),Un=function(t){function e(e){t.call(this),this._observer=e,this._state=0}Je(e,t);var n=e.prototype;return n.onNext=function(t){this.checkAccess();var e=Qt(this._observer.onNext).call(this._observer,t);this._state=0,e===Yt&&i(e.e)},n.onError=function(t){this.checkAccess();var e=Qt(this._observer.onError).call(this._observer,t);this._state=2,e===Yt&&i(e.e)},n.onCompleted=function(){this.checkAccess();var t=Qt(this._observer.onCompleted).call(this._observer);this._state=2,t===Yt&&i(t.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},e}(jn),Hn=Ut.internals.ScheduledObserver=function(t){function e(e,n){t.call(this),this.scheduler=e,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new cn}function n(t,e){return function(){t.onNext(e)}}function r(t,e){return function(){t.onError(e)}}function o(t){return function(){t.onCompleted()}}function s(t,e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();var r=Qt(n)();return r===Yt?(t.queue=[],t.hasFaulted=!0,i(r.e)):void e(t)}return Je(e,t),e.prototype.next=function(t){this.queue.push(n(this.observer,t))},e.prototype.error=function(t){this.queue.push(r(this.observer,t))},e.prototype.completed=function(){this.queue.push(o(this.observer))},e.prototype.ensureActive=function(){var t=!1;!this.hasFaulted&&this.queue.length>0&&(t=!this.isAcquired,this.isAcquired=!0),t&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(this,s))},e.prototype.dispose=function(){t.prototype.dispose.call(this),this.disposable.dispose()},e}(Bn),zn=function(t){function e(e,n,r){t.call(this,e,n),this._cancel=r}return Je(e,t),e.prototype.next=function(e){t.prototype.next.call(this,e),this.ensureActive()},e.prototype.error=function(e){t.prototype.error.call(this,e),this.ensureActive()},e.prototype.completed=function(){t.prototype.completed.call(this),this.ensureActive()},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},e}(Hn),Vn=Ut.Observable=function(){function t(t,e){return function(n){var r=n.onError;return n.onError=function(e){o(e,t),r.call(n,e)},e.call(t,n)}}function e(){if(Ut.config.longStackSupport&&Zt){var e=this._subscribe,n=Qt(i)(new Error).e;this.stack=n.stack.substring(n.stack.indexOf("\n")+1),this._subscribe=t(this,e)}}return qn=e.prototype,e.isObservable=function(t){return t&&Gt(t.subscribe)},qn.subscribe=qn.forEach=function(t,e,n){return this._subscribe("object"==typeof t?t:Pn(t,e,n))},qn.subscribeOnNext=function(t,e){
return this._subscribe(Pn("undefined"!=typeof e?function(n){t.call(e,n)}:t))},qn.subscribeOnError=function(t,e){return this._subscribe(Pn(null,"undefined"!=typeof e?function(n){t.call(e,n)}:t))},qn.subscribeOnCompleted=function(t,e){return this._subscribe(Pn(null,null,"undefined"!=typeof e?function(){t.call(e)}:t))},e}(),Wn=Ut.ObservableBase=function(t){function e(t){return t&&Gt(t.dispose)?t:Gt(t)?nn(t):rn}function n(t,n){var r=n[0],o=n[1],s=Qt(o.subscribeCore).call(o,r);s!==Yt||r.fail(Yt.e)||i(Yt.e),r.setDisposable(e(s))}function r(){t.call(this)}return Je(r,t),r.prototype._subscribe=function(t){var e=new Cs(t),r=[e,this];return xn.scheduleRequired()?xn.schedule(r,n):n(null,r),e},r.prototype.subscribeCore=ce,r}(Vn),Kn=Ut.FlatMapObservable=function(t){function e(e,n,r,i){this.resultSelector=Gt(r)?r:null,this.selector=pe(Gt(n)?n:function(){return n},i,3),this.source=e,t.call(this)}function n(t,e,n,r){this.i=0,this.selector=e,this.resultSelector=n,this.source=r,this.o=t,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this.selector,this.resultSelector,this))},Je(n,Bn),n.prototype._wrapResult=function(t,e,n){return this.resultSelector?t.map(function(t,r){return this.resultSelector(e,t,n,r)},this):t},n.prototype.next=function(t){var e=this.i++,n=Qt(this.selector)(t,e,this.source);return n===Yt?this.o.onError(n.e):(Xt(n)&&(n=ir(n)),(de(n)||he(n))&&(n=Vn.from(n)),void this.o.onNext(this._wrapResult(n,t,e)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onCompleted()},e}(Wn),Jn=Ut.internals.Enumerable=function(){};E.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.isDisposed=!0)};var Xn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Qt(t.e.next).call(t.e);if(n===Yt)return t.o.onError(n.e);if(n.done)return t.o.onCompleted();var i=n.value;Xt(i)&&(i=ir(i));var o=new un;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn,r={isDisposed:!1,o:t,subscription:e,e:this.sources[le]()},i=xn.scheduleRecursive(r,n);return new fn([e,i,new E(r)])},Je(r,Bn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.o.onError(t)},r.prototype.completed=function(){this._recurse(this._state)},e}(Wn);Jn.prototype.concat=function(){return new Xn(this)};var Gn=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(!t.isDisposed){var n=Qt(t.e.next).call(t.e);if(n===Yt)return t.o.onError(n.e);if(n.done)return null!==t.lastError?t.o.onError(t.lastError):t.o.onCompleted();var i=n.value;Xt(i)&&(i=ir(i));var o=new un;t.subscription.setDisposable(o),o.setDisposable(i.subscribe(new r(t,e)))}}function r(t,e){this._state=t,this._recurse=e,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn,r={isDisposed:!1,e:this.sources[le](),subscription:e,lastError:null,o:t},i=xn.scheduleRecursive(r,n);return new fn([e,i,new E(r)])},Je(r,Bn),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.lastError=t,this._recurse(this._state)},r.prototype.completed=function(){this._state.o.onCompleted()},e}(Wn);Jn.prototype.catchError=function(){return new Gn(this)};var Yn=function(t){function e(t,e){this.v=t,this.c=null==e?-1:e}function n(t){this.v=t.v,this.l=t.c}return Je(e,t),e.prototype[le]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?fe:(this.l>0&&this.l--,{done:!1,value:this.v})},e}(Jn),Qn=Jn.repeat=function(t,e){return new Yn(t,e)},Zn=function(t){function e(t,e,n){this.s=t,this.fn=e?pe(e,n,3):null}function n(t){this.i=-1,this.s=t.s,this.l=this.s.length,this.fn=t.fn}return Je(e,t),e.prototype[le]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:fe},e}(Jn),tr=Jn.of=function(t,e,n){return new Zn(t,e,n)},er=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new zn(this._s,t))},e}(Wn);qn.observeOn=function(t){return new er(this,t)};var nr=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1],i=e[2];r.setDisposable(new S(t,n.subscribe(i)))}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new un,r=new cn;return r.setDisposable(e),e.setDisposable(this._s.schedule([this.source,r,t],n)),r},e}(Wn);qn.subscribeOn=function(t){return new nr(this,t)};var rr=function(t){function e(e,n){this._p=e,this._s=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];n.onNext(r),n.onCompleted()}function r(t,e){var n=e[0],r=e[1];n.onError(r)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new un,i=this,o=this._p;return Gt(o)&&(o=Qt(o)(),o===Yt)?(t.onError(o.e),e):(o.then(function(r){e.setDisposable(i._s.schedule([t,r],n))},function(n){e.setDisposable(i._s.schedule([t,n],r))}),e)},e}(Wn),ir=Vn.fromPromise=function(t,e){return e||(e=$n),new rr(t,e)};qn.toPromise=function(t){if(t||(t=Ut.config.Promise),!t)throw new ae("Promise type not provided nor in Rx.config.Promise");var e=this;return new t(function(t,n){var r;e.subscribe(function(t){r=t},n,function(){t(r)})})};var or=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.a=[],Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},Je(n,Bn),n.prototype.next=function(t){this.a.push(t)},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.o.onNext(this.a),this.o.onCompleted()},e}(Wn);qn.toArray=function(){return new or(this)},Vn.create=function(t,e){return new Es(t,e)};var sr=function(t){function e(e){this._f=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=Qt(this._f)();return e===Yt?Cr(e.e).subscribe(t):(Xt(e)&&(e=ir(e)),e.subscribe(t))},e}(Wn),ar=Vn.defer=function(t){return new sr(t)},ur=function(t){function e(e){this.scheduler=e,t.call(this)}function n(t,e){this.observer=t,this.scheduler=e}function r(t,e){return e.onCompleted(),rn}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new n(t,this.scheduler);return e.run()},n.prototype.run=function(){var t=this.observer;return this.scheduler===wn?r(null,t):this.scheduler.schedule(t,r)},e}(Wn),cr=new ur(wn),lr=Vn.empty=function(t){return mn(t)||(t=wn),t===wn?cr:new ur(t)},fr=function(t){function e(e,n,r){this._iterable=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){var o=Qt(e.next).call(e);if(o===Yt)return t.onError(o.e);if(o.done)return t.onCompleted();var s=o.value;return Gt(n)&&(s=Qt(n)(s,r),s===Yt)?t.onError(s.e):(t.onNext(s),void i(r+1))}}return Je(e,t),e.prototype.subscribeCore=function(t){var e=Object(this._iterable),r=N(e);return this._scheduler.scheduleRecursive(0,n(t,r,this._fn))},e}(Wn),hr=Math.pow(2,53)-1;C.prototype[le]=function(){return new k(this._s)},k.prototype[le]=function(){return this},k.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:fe},A.prototype[le]=function(){return new $(this._a)},$.prototype[le]=function(){return this},$.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:fe};var dr=Vn.from=function(t,e,n,r){if(null==t)throw new Error("iterable cannot be null.");if(e&&!Gt(e))throw new Error("mapFn when provided must be a function");if(e)var i=pe(e,n,2);return mn(r)||(r=xn),new fr(t,i,r)},pr=function(t){function e(e,n){this._args=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e.length;return function(r,i){n>r?(t.onNext(e[r]),i(r+1)):t.onCompleted()}}return Je(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._args))},e}(Wn),vr=Vn.fromArray=function(t,e){return mn(e)||(e=xn),new pr(t,e)},mr=function(t){function e(e,n,r,i,o){this._initialState=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._s=o,t.call(this)}function n(t,e){if(t.first)t.first=!1;else if(t.newState=Qt(t.self._itrFn)(t.newState),t.newState===Yt)return t.o.onError(t.newState.e);var n=Qt(t.self._cndFn)(t.newState);if(n===Yt)return t.o.onError(n.e);if(n){var r=Qt(t.self._resFn)(t.newState);if(r===Yt)return t.o.onError(r.e);t.o.onNext(r),e(t)}else t.o.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,first:!0,newState:this._initialState};return this._s.scheduleRecursive(e,n)},e}(Wn);Vn.generate=function(t,e,n,r,i){return mn(i)||(i=xn),new mr(t,e,n,r,i)},Vn.of=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return new pr(e,xn)},Vn.ofWithScheduler=function(t){for(var e=arguments.length,n=new Array(e-1),r=1;e>r;r++)n[r-1]=arguments[r];return new pr(n,t)},Vn.ofArrayChanges=function(t){if(!Array.isArray(t))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Es(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Array.observe(t,n),function(){Array.unobserve(t,n)}})},Vn.ofObjectChanges=function(t){if(null==t)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Es(function(e){function n(t){for(var n=0,r=t.length;r>n;n++)e.onNext(t[n])}return Object.observe(t,n),function(){Object.unobserve(t,n)}})};var gr=function(t){function e(){t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return rn},e}(Wn),br=new gr,yr=Vn.never=function(){return br},_r=function(t){function e(e,n){this._o=e,this._keys=Object.keys(e),this._scheduler=n,t.call(this)}function n(t,e,n){return function(r,i){if(r<n.length){var o=n[r];t.onNext([o,e[o]]),i(r+1)}else t.onCompleted()}}return Je(e,t),e.prototype.subscribeCore=function(t){return this._scheduler.scheduleRecursive(0,n(t,this._o,this._keys))},e}(Wn);Vn.pairs=function(t,e){return e||(e=xn),new _r(t,e)};var wr=function(t){function e(e,n,r){this.start=e,this.rangeCount=n,this.scheduler=r,t.call(this)}function n(t,e,n){return function(r,i){e>r?(n.onNext(t+r),i(r+1)):n.onCompleted()}}return Je(e,t),e.prototype.subscribeCore=function(t){return this.scheduler.scheduleRecursive(0,n(this.start,this.rangeCount,t))},e}(Wn);Vn.range=function(t,e,n){return mn(n)||(n=xn),new wr(t,e,n)};var Sr=function(t){function e(e,n,r){this.value=e,this.repeatCount=null==n?-1:n,this.scheduler=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new R(t,this);return e.run()},e}(Wn);R.prototype.run=function(){function t(t,r){return(-1===t||t>0)&&(e.onNext(n),t>0&&t--),0===t?e.onCompleted():void r(t)}var e=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursive(this.parent.repeatCount,t)},Vn.repeat=function(t,e,n){return mn(n)||(n=xn),new Sr(t,e,n)};var xr=function(t){function e(e,n){this._value=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onNext(n),r.onCompleted(),rn}return Je(e,t),e.prototype.subscribeCore=function(t){var e=[this._value,t];return this._scheduler===wn?n(null,e):this._scheduler.schedule(e,n)},e}(Wn),Er=(Vn["return"]=Vn.just=function(t,e){return mn(e)||(e=wn),new xr(t,e)},function(t){function e(e,n){this._error=e,this._scheduler=n,t.call(this)}function n(t,e){var n=e[0],r=e[1];return r.onError(n),rn}return Je(e,t),e.prototype.subscribeCore=function(t){var e=[this._error,t];return this._scheduler===wn?n(null,e):this._scheduler.schedule(e,n)},e}(Wn)),Cr=Vn["throw"]=function(t,e){return mn(e)||(e=wn),new Er(t,e)},kr=function(t){function e(e,n){this._resFn=e,this._obsFn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=rn,n=Qt(this._resFn)();if(n===Yt)return new ln(Cr(n.e).subscribe(t),e);n&&(e=n);var r=Qt(this._obsFn)(n);return r===Yt?new ln(Cr(r.e).subscribe(t),e):new ln(r.subscribe(t),e)},e}(Wn);Vn.using=function(t,e){return new kr(t,e)},qn.amb=function(t){var e=this;return new Es(function(n){function r(){o||(o=s,c.dispose())}function i(){o||(o=a,u.dispose())}var o,s="L",a="R",u=new un,c=new un;Xt(t)&&(t=ir(t));var l=Pn(function(t){r(),o===s&&n.onNext(t)},function(t){r(),o===s&&n.onError(t)},function(){r(),o===s&&n.onCompleted()}),f=Pn(function(t){i(),o===a&&n.onNext(t)},function(t){i(),o===a&&n.onError(t)},function(){i(),o===a&&n.onCompleted()});return u.setDisposable(e.subscribe(l)),c.setDisposable(t.subscribe(f)),new ln(u,c)})},Vn.amb=function(){var t,e=yr();if(Array.isArray(arguments[0]))t=arguments[0];else{var n=arguments.length;t=new Array(t);for(var r=0;n>r;r++)t[r]=arguments[r]}for(var r=0,n=t.length;n>r;r++)e=D(e,t[r]);return e};var Ar=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new un,n=new cn;return n.setDisposable(e),e.setDisposable(this.source.subscribe(new $r(t,n,this._fn))),n},e}(Wn),$r=function(t){function e(e,n,r){this._o=e,this._s=n,this._fn=r,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._o.onNext(t)},e.prototype.completed=function(){return this._o.onCompleted()},e.prototype.error=function(t){var e=Qt(this._fn)(t);if(e===Yt)return this._o.onError(e.e);Xt(e)&&(e=ir(e));var n=new un;this._s.setDisposable(n),n.setDisposable(e.subscribe(this._o))},e}(Bn);qn["catch"]=function(t){return Gt(t)?new Ar(this,t):Tr([this,t])};var Tr=Vn["catch"]=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return tr(t).catchError()};qn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Ir.apply(this,e)};var Nr=function(t){function e(e,n){this._params=e,this._cb=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){for(var e=this._params.length,n=new Array(e),r={hasValue:_(e,L),hasValueAll:!1,isDone:_(e,L),values:new Array(e)},i=0;e>i;i++){var o=this._params[i],s=new un;n[i]=s,Xt(o)&&(o=ir(o)),s.setDisposable(o.subscribe(new Or(t,i,this._cb,r)))}return new fn(n)},e}(Wn),Or=function(t){function e(e,n,r,i){this._o=e,this._i=n,this._cb=r,this._state=i,t.call(this)}function n(t){return function(e,n){return n!==t}}return Je(e,t),e.prototype.next=function(t){if(this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll||(this._state.hasValueAll=this._state.hasValue.every(zt))){var e=Qt(this._cb).apply(null,this._state.values);if(e===Yt)return this._o.onError(e.e);this._o.onNext(e)}else this._state.isDone.filter(n(this._i)).every(zt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._state.isDone[this._i]=!0,this._state.isDone.every(zt)&&this._o.onCompleted()},e}(Bn),Ir=Vn.combineLatest=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=Gt(e[t-1])?e.pop():j;return Array.isArray(e[0])&&(e=e[0]),new Nr(e,r)};qn.concat=function(){for(var t=[],e=0,n=arguments.length;n>e;e++)t.push(arguments[e]);return t.unshift(this),Dr.apply(null,t)};var Mr=function(t){function e(e,n){this._s=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._s.o.onNext(t)},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.i++,this._fn(this._s)},e}(Bn),Rr=function(t){function e(e){this._sources=e,t.call(this)}function n(t,e){if(!t.disposable.isDisposed){if(t.i===t.sources.length)return t.o.onCompleted();var n=t.sources[t.i];Xt(n)&&(n=ir(n));var r=new un;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Mr(t,e)))}}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn,r=nn(Ht),i={o:t,i:0,subscription:e,disposable:r,sources:this._sources},o=wn.scheduleRecursive(i,n);return new fn([e,r,o])},e}(Wn),Dr=Vn.concat=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(arguments.length);for(var e=0,n=arguments.length;n>e;e++)t[e]=arguments[e]}return new Rr(t)};qn.concatAll=function(){return this.merge(1)};var Lr=function(t){function e(e,n){this.source=e,this.maxConcurrent=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new Ze;return e.add(this.source.subscribe(new jr(t,this.maxConcurrent,e))),e},e}(Wn),jr=function(t){function e(e,n,r){this.o=e,this.max=n,this.g=r,this.done=!1,this.q=[],this.activeCount=0,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Je(e,t),e.prototype.handleSubscribe=function(t){var e=new un;this.g.add(e),Xt(t)&&(t=ir(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.next=function(t){this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(t)):this.q.push(t)},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,0===this.activeCount&&this.o.onCompleted()},Je(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.q.length>0?this.parent.handleSubscribe(this.parent.q.shift()):(this.parent.activeCount--,this.parent.done&&0===this.parent.activeCount&&this.parent.o.onCompleted())},e}(Bn);qn.merge=function(t){return"number"!=typeof t?Pr(this,t):new Lr(this,t)};var Pr=Vn.merge=function(){var t,e,n=[],r=arguments.length;if(arguments[0])if(mn(arguments[0]))for(t=arguments[0],e=1;r>e;e++)n.push(arguments[e]);else for(t=wn,e=0;r>e;e++)n.push(arguments[e]);else for(t=wn,e=1;r>e;e++)n.push(arguments[e]);return Array.isArray(n[0])&&(n=n[0]),M(t,n).mergeAll()},qr=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new Ze,n=new un;return e.add(n),n.setDisposable(this.source.subscribe(new Br(t,e))),e},e}(Wn),Br=function(t){function e(e,n){this.o=e,this.g=n,this.done=!1,t.call(this)}function n(e,n){this.parent=e,this.sad=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=new un;this.g.add(e),Xt(t)&&(t=ir(t)),e.setDisposable(t.subscribe(new n(this,e)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.done=!0,1===this.g.length&&this.o.onCompleted()},Je(n,t),n.prototype.next=function(t){this.parent.o.onNext(t)},n.prototype.error=function(t){this.parent.o.onError(t)},n.prototype.completed=function(){this.parent.g.remove(this.sad),this.parent.done&&1===this.parent.g.length&&this.parent.o.onCompleted()},e}(Bn);qn.mergeAll=function(){return new qr(this)};var Fr=Ut.CompositeError=function(t){this.innerErrors=t,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};Fr.prototype=Object.create(Error.prototype),Fr.prototype.name="CompositeError";var Ur=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new Ze,n=new un,r={isStopped:!1,errors:[],o:t};return e.add(n),n.setDisposable(this.source.subscribe(new Hr(e,r))),e},e}(Wn),Hr=function(t){function e(e,n){this._group=e,this._state=n,t.call(this)}function n(t,e){0===e.length?t.onCompleted():1===e.length?t.onError(e[0]):t.onError(new Fr(e))}function r(e,n,r){this._inner=e,this._group=n,this._state=r,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=new un;this._group.add(e),Xt(t)&&(t=ir(t)),e.setDisposable(t.subscribe(new r(e,this._group,this._state)))},e.prototype.error=function(t){this._state.errors.push(t),this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},e.prototype.completed=function(){this._state.isStopped=!0,1===this._group.length&&n(this._state.o,this._state.errors)},Je(r,t),r.prototype.next=function(t){this._state.o.onNext(t)},r.prototype.error=function(t){this._state.errors.push(t),this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},r.prototype.completed=function(){this._group.remove(this._inner),this._state.isStopped&&1===this._group.length&&n(this._state.o,this._state.errors)},e}(Bn);Vn.mergeDelayError=function(){var t;if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}var r=M(null,t);return new Ur(r)},qn.onErrorResumeNext=function(t){if(!t)throw new Error("Second observable is required");return Wr([this,t])};var zr=function(t){function e(e){this.sources=e,t.call(this)}function n(t,e){if(t.pos<t.sources.length){var n=t.sources[t.pos++];Xt(n)&&(n=ir(n));var r=new un;t.subscription.setDisposable(r),r.setDisposable(n.subscribe(new Vr(t,e)))}else t.o.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn,r={pos:0,subscription:e,o:t,sources:this.sources},i=wn.scheduleRecursive(r,n);return new ln(e,i)},e}(Wn),Vr=function(t){function e(e,n){this._state=e,this._recurse=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._state.o.onNext(t)},e.prototype.error=function(){this._recurse(this._state)},e.prototype.completed=function(){this._recurse(this._state)},e}(Bn),Wr=Vn.onErrorResumeNext=function(){var t=[];if(Array.isArray(arguments[0]))t=arguments[0];else{var e=arguments.length;t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new zr(t)},Kr=function(t){function e(e,n){this._s=e,this._o=Xt(n)?ir(n):n,this._open=!1,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new un;e.setDisposable(this._s.subscribe(new Jr(t,this))),Xt(this._o)&&(this._o=ir(this._o));var n=new un;return n.setDisposable(this._o.subscribe(new Xr(t,this,n))),new ln(e,n)},e}(Wn),Jr=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._p._open&&this._o.onCompleted()},e}(Bn),Xr=function(t){function e(e,n,r){this._o=e,this._p=n,this._r=r,t.call(this)}return Je(e,t),e.prototype.next=function(){this._p._open=!0,this._r.dispose()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=function(){this._r.dispose()},e}(Bn);qn.skipUntil=function(t){return new Kr(this,t)};var Gr=function(t){function e(e){this.source=e,t.call(this)}function n(t,e){this.o=t,this.inner=e,this.stopped=!1,this.latest=0,this.hasLatest=!1,Bn.call(this)}function r(t,e){this.parent=t,this.id=e,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn,r=this.source.subscribe(new n(t,e));return new ln(r,e)},Je(n,Bn),n.prototype.next=function(t){var e=new un,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(e),Xt(t)&&(t=ir(t)),e.setDisposable(t.subscribe(new r(this,n)))},n.prototype.error=function(t){this.o.onError(t)},n.prototype.completed=function(){this.stopped=!0,!this.hasLatest&&this.o.onCompleted()},Je(r,Bn),r.prototype.next=function(t){this.parent.latest===this.id&&this.parent.o.onNext(t)},r.prototype.error=function(t){this.parent.latest===this.id&&this.parent.o.onError(t)},r.prototype.completed=function(){this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.stopped&&this.parent.o.onCompleted())},e}(Wn);qn["switch"]=qn.switchLatest=function(){return new Gr(this)};var Yr=function(t){function e(e,n){this.source=e,this.other=Xt(n)?ir(n):n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return new ln(this.source.subscribe(t),this.other.subscribe(new Qr(t)))},e}(Wn),Qr=function(t){function e(e){this._o=e,t.call(this)}return Je(e,t),e.prototype.next=function(){this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.onCompleted=Ht,e}(Bn);qn.takeUntil=function(t){return new Yr(this,t)};var Zr=function(t){function e(e,n,r){this._s=e,this._ss=n,this._cb=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){for(var e=this._ss.length,n={hasValue:_(e,L),hasValueAll:!1,values:new Array(e)},r=this._ss.length,i=new Array(r+1),o=0;r>o;o++){var s=this._ss[o],a=new un;Xt(s)&&(s=ir(s)),a.setDisposable(s.subscribe(new ti(t,o,n))),i[o]=a}var u=new un;return u.setDisposable(this._s.subscribe(new ei(t,this._cb,n))),i[r]=u,new fn(i)},e}(Wn),ti=function(t){function e(e,n,r){this._o=e,this._i=n,this._state=r,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._state.values[this._i]=t,this._state.hasValue[this._i]=!0,this._state.hasValueAll=this._state.hasValue.every(zt)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=Ht,e}(Bn),ei=function(t){function e(e,n,r){this._o=e,this._cb=n,this._state=r,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=[t].concat(this._state.values);if(this._state.hasValueAll){var n=Qt(this._cb).apply(null,e);return n===Yt?this._o.onError(n.e):void this._o.onNext(n)}},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.withLatestFrom=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=Gt(e[t-1])?e.pop():j;return Array.isArray(e[0])&&(e=e[0]),new Zr(this,e,r)};var ni=function(t){function e(e,n){this._s=e,this._cb=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){for(var e=this._s.length,n=new Array(e),r=_(e,L),i=_(e,P),o=0;e>o;o++){var s=this._s[o],a=new un;n[o]=a,Xt(s)&&(s=ir(s)),a.setDisposable(s.subscribe(new ri(t,o,this,i,r)))}return new fn(n)},e}(Wn),ri=function(t){function e(e,n,r,i,o){this._o=e,this._i=n,this._p=r,this._q=i,this._d=o,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Je(e,t),e.prototype.next=function(t){if(this._q[this._i].push(t),this._q.every(n)){var e=this._q.map(r),o=Qt(this._p._cb).apply(null,e);if(o===Yt)return this._o.onError(o.e);this._o.onNext(o)}else this._d.filter(i(this._i)).every(zt)&&this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._d[this._i]=!0,this._d.every(zt)&&this._o.onCompleted()},e}(Bn);qn.zip=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=Gt(e[t-1])?e.pop():j;Array.isArray(e[0])&&(e=e[0]);var i=this;return e.unshift(i),new ni(e,r)},Vn.zip=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];Array.isArray(e[0])&&(e=Gt(e[1])?e[0].concat(e[1]):e[0]);var r=e.shift();return r.zip.apply(r,e)};var ii=function(t){function e(e,n){this.sources=e,this._cb=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){for(var e=this.sources,n=e.length,r=new Array(n),i={q:_(n,P),done:_(n,L),cb:this._cb,o:t},o=0;n>o;o++)!function(t){var n=e[t],o=new un;(de(n)||he(n))&&(n=dr(n)),r[t]=o,o.setDisposable(n.subscribe(new oi(i,t)))}(o);return new fn(r)},e}(Wn),oi=function(t){function e(e,n){this._s=e,this._i=n,t.call(this)}function n(t){return t.length>0}function r(t){return t.shift()}function i(t){return function(e,n){return n!==t}}return Je(e,t),e.prototype.next=function(t){if(this._s.q[this._i].push(t),this._s.q.every(n)){var e=this._s.q.map(r),o=Qt(this._s.cb).apply(null,e);if(o===Yt)return this._s.o.onError(o.e);this._s.o.onNext(o)}else this._s.done.filter(i(this._i)).every(zt)&&this._s.o.onCompleted()},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.done[this._i]=!0,this._s.done.every(zt)&&this._s.o.onCompleted()},e}(Bn);qn.zipIterable=function(){if(0===arguments.length)throw new Error("invalid arguments");for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=Gt(e[t-1])?e.pop():j,i=this;return e.unshift(i),new ii(e,r)},qn.asObservable=function(){return new Es(q(this),this)},qn.bufferWithCount=qn.bufferCount=function(t,e){return"number"!=typeof e&&(e=t),this.windowWithCount(t,e).flatMap(B).filter(F)};var si=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ai(t))},e}(Wn),ai=function(t){function e(e){this._o=e,t.call(this)}return Je(e,t),e.prototype.next=function(t){t.accept(this._o)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.dematerialize=function(){return new si(this)};var ui=function(t){function e(e,n,r){this.source=e,this.keyFn=n,this.comparer=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ci(t,this.keyFn,this.comparer))},e}(Wn),ci=function(t){function e(e,n,r){this.o=e,this.keyFn=n,this.comparer=r,this.hasCurrentKey=!1,this.currentKey=null,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e,n=t;return Gt(this.keyFn)&&(n=Qt(this.keyFn)(t),n===Yt)?this.o.onError(n.e):this.hasCurrentKey&&(e=Qt(this.comparer)(this.currentKey,n),e===Yt)?this.o.onError(e.e):void(this.hasCurrentKey&&e||(this.hasCurrentKey=!0,this.currentKey=n,this.o.onNext(t)))},e.prototype.error=function(t){this.o.onError(t)},e.prototype.completed=function(){this.o.onCompleted()},e}(Bn);qn.distinctUntilChanged=function(t,e){return e||(e=Wt),new ui(this,t,e)};var li=function(t){function e(e,n,r,i){this.source=e,this._oN=n,this._oE=r,this._oC=i,t.call(this)}function n(t,e){this.o=t,this.t=!e._oN||Gt(e._oN)?Pn(e._oN||Ht,e._oE||Ht,e._oC||Ht):e._oN,this.isStopped=!1,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this))},Je(n,Bn),n.prototype.next=function(t){var e=Qt(this.t.onNext).call(this.t,t);e===Yt&&this.o.onError(e.e),this.o.onNext(t)},n.prototype.error=function(t){var e=Qt(this.t.onError).call(this.t,t);return e===Yt?this.o.onError(e.e):void this.o.onError(t)},n.prototype.completed=function(){var t=Qt(this.t.onCompleted).call(this.t);return t===Yt?this.o.onError(t.e):void this.o.onCompleted()},e}(Wn);qn["do"]=qn.tap=qn.doAction=function(t,e,n){return new li(this,t,e,n)},qn.doOnNext=qn.tapOnNext=function(t,e){return this.tap("undefined"!=typeof e?function(n){t.call(e,n)}:t)},qn.doOnError=qn.tapOnError=function(t,e){return this.tap(Ht,"undefined"!=typeof e?function(n){t.call(e,n)}:t)},qn.doOnCompleted=qn.tapOnCompleted=function(t,e){return this.tap(Ht,null,"undefined"!=typeof e?function(){t.call(e)}:t)};var fi=function(t){function e(e,n,r){this.source=e,this._fn=pe(n,r,0),t.call(this)}function n(t,e){this.isDisposed=!1,this._s=t,this._fn=e}return Je(e,t),e.prototype.subscribeCore=function(t){var e=Qt(this.source.subscribe).call(this.source,t);return e===Yt&&(this._fn(),i(e.e)),new n(e,this._fn)},n.prototype.dispose=function(){if(!this.isDisposed){var t=Qt(this._s.dispose).call(this._s);this._fn(),t===Yt&&i(t.e)}},e}(Wn);qn["finally"]=function(t,e){return new fi(this,t,e)};var hi=function(t){function e(e){this.source=e,t.call(this)}function n(t){this.o=t,this.isStopped=!1}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t))},n.prototype.onNext=Ht,n.prototype.onError=function(t){this.isStopped||(this.isStopped=!0,this.o.onError(t))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(t){return!this.isStopped&&(this.isStopped=!0,this.observer.onError(t),!0)},e}(Wn);qn.ignoreElements=function(){return new hi(this)};var di=function(t){function e(e,n){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new pi(t))},e}(Wn),pi=function(t){function e(e){this._o=e,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._o.onNext(Rn(t))},e.prototype.error=function(t){this._o.onNext(Dn(t)),this._o.onCompleted()},e.prototype.completed=function(){
this._o.onNext(Ln()),this._o.onCompleted()},e}(Bn);qn.materialize=function(){return new di(this)},qn.repeat=function(t){return Qn(this,t).concat()},qn.retry=function(t){return Qn(this,t).catchError()};var vi=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Je(n,t),n.prototype.subscribeCore=function(t){var n,r=new $s,i=new $s,o=this._notifier(r),s=o.subscribe(i),a=this.source["@@iterator"](),u={isDisposed:!1},c=new cn,l=xn.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var s=a.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var l=s.value;Xt(l)&&(l=ir(l));var f=new un,h=new un;c.setDisposable(new ln(h,f)),f.setDisposable(l.subscribe(function(e){t.onNext(e)},function(e){h.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(e),f.dispose()},function(){t.onCompleted()}))}});return new fn([s,c,l,e(u)])},n}(Wn);qn.retryWhen=function(t){return new vi(U(this),t)};var mi=function(t){function e(t){return{isDisposed:!1,dispose:function(){this.isDisposed||(this.isDisposed=!0,t.isDisposed=!0)}}}function n(e,n){this.source=e,this._notifier=n,t.call(this)}return Je(n,t),n.prototype.subscribeCore=function(t){var n,r=new $s,i=new $s,o=this._notifier(r),s=o.subscribe(i),a=this.source["@@iterator"](),u={isDisposed:!1},c=new cn,l=xn.scheduleRecursive(null,function(e,o){if(!u.isDisposed){var s=a.next();if(s.done)return void(n?t.onError(n):t.onCompleted());var l=s.value;Xt(l)&&(l=ir(l));var f=new un,h=new un;c.setDisposable(new ln(h,f)),f.setDisposable(l.subscribe(function(e){t.onNext(e)},function(e){t.onError(e)},function(){h.setDisposable(i.subscribe(o,function(e){t.onError(e)},function(){t.onCompleted()})),r.onNext(null),f.dispose()}))}});return new fn([s,c,l,e(u)])},n}(Wn);qn.repeatWhen=function(t){return new mi(U(this),t)};var gi=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new bi(t,this))},e}(Wn),bi=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=Qt(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?Qt(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Yt?this._o.onError(this._a.e):(this._o.onNext(this._a),void this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._hv&&this._hs&&this._o.onNext(this._s),this._o.onCompleted()},e}(Bn);qn.scan=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new gi(this,n,e,t)};var yi=function(t){function e(e,n){this.source=e,this._c=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new _i(t,this._c))},e}(Wn),_i=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._o.onNext(this._q.shift())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.skipLast=function(t){if(0>t)throw new se;return new yi(this,t)},qn.startWith=function(){var t,e=0;arguments.length&&mn(arguments[0])?(t=arguments[0],e=1):t=wn;for(var n=[],r=e,i=arguments.length;i>r;r++)n.push(arguments[r]);return Dr.apply(null,[vr(n,t),this])};var wi=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(;this._q.length>0;)this._o.onNext(this._q.shift());this._o.onCompleted()},e}(Bn);qn.takeLast=function(t){if(0>t)throw new se;var e=this;return new Es(function(n){return e.subscribe(new wi(n,t))},e)};var Si=function(t){function e(e,n){this._o=e,this._c=n,this._q=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){this._q.push(t),this._q.length>this._c&&this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._q),this._o.onCompleted()},e}(Bn);qn.takeLastBuffer=function(t){if(0>t)throw new se;var e=this;return new Es(function(n){return e.subscribe(new Si(n,t))},e)},qn.windowWithCount=qn.windowCount=function(t,e){var n=this;if(+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new se;if(null==e&&(e=t),+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new se;return new Es(function(r){function i(){var t=new $s;u.push(t),r.onNext(Ge(t,s))}var o=new un,s=new hn(o),a=0,u=[];return i(),o.setDisposable(n.subscribe(function(n){for(var r=0,o=u.length;o>r;r++)u[r].onNext(n);var s=a-t+1;s>=0&&s%e===0&&u.shift().onCompleted(),++a%e===0&&i()},function(t){for(;u.length>0;)u.shift().onError(t);r.onError(t)},function(){for(;u.length>0;)u.shift().onCompleted();r.onCompleted()})),s},n)},qn.selectConcat=qn.concatMap=function(t,e,n){return Gt(t)&&Gt(e)?this.concatMap(function(n,r){var i=t(n,r);return Xt(i)&&(i=ir(i)),(de(i)||he(i))&&(i=dr(i)),i.map(function(t,i){return e(n,t,r,i)})}):Gt(t)?H(this,t,n):H(this,function(){return t})},qn.concatMapObserver=qn.selectConcatObserver=function(t,e,n,r){var i=this,o=pe(t,r,2),s=pe(e,r,1),a=pe(n,r,0);return new Es(function(t){var e=0;return i.subscribe(function(n){var r;try{r=o(n,e++)}catch(i){return void t.onError(i)}Xt(r)&&(r=ir(r)),t.onNext(r)},function(e){var n;try{n=s(e)}catch(r){return void t.onError(r)}Xt(n)&&(n=ir(n)),t.onNext(n),t.onCompleted()},function(){var e;try{e=a()}catch(n){return void t.onError(n)}Xt(e)&&(e=ir(e)),t.onNext(e),t.onCompleted()})},this).concatAll()};var xi=function(t){function e(e,n){this._o=e,this._d=n,this._f=!1,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._f=!0,this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){!this._f&&this._o.onNext(this._d),this._o.onCompleted()},e}(Bn);qn.defaultIfEmpty=function(e){var n=this;return e===t&&(e=null),new Es(function(t){return n.subscribe(new xi(t,e))},n)},V.prototype.push=function(t){var e=-1===z(this.set,t,this.comparer);return e&&this.set.push(t),e};var Ei=function(t){function e(e,n,r){this.source=e,this._keyFn=n,this._cmpFn=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ci(t,this._keyFn,this._cmpFn))},e}(Wn),Ci=function(t){function e(e,n,r){this._o=e,this._keyFn=n,this._h=new V(r),t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=t;return Gt(this._keyFn)&&(e=Qt(this._keyFn)(t),e===Yt)?this._o.onError(e.e):void(this._h.push(e)&&this._o.onNext(t))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.distinct=function(t,e){return e||(e=Wt),new Ei(this,t,e)},qn.groupBy=function(t,e){return this.groupByUntil(t,e,yr)},qn.groupByUntil=function(e,n,r){var i=this;return new Es(function(o){var s=new Fo,a=new Ze,u=new hn(a),c=function(t){return function(e){e.onError(t)}};return a.add(i.subscribe(function(i){var l=Qt(e)(i);if(l===Yt)return s.forEach(c(l.e)),o.onError(l.e);var f=!1,h=s.get(l);if(h===t&&(h=new $s,s.set(l,h),f=!0),f){var d=new As(l,h,u),p=new As(l,h),v=Qt(r)(p);if(v===Yt)return s.forEach(c(v.e)),o.onError(v.e);o.onNext(d);var m=new un;a.add(m),m.setDisposable(v.take(1).subscribe(Ht,function(t){s.forEach(c(t)),o.onError(t)},function(){s["delete"](l)&&h.onCompleted(),a.remove(m)}))}var g=i;return Gt(n)&&(g=Qt(n)(i),g===Yt)?(s.forEach(c(g.e)),o.onError(g.e)):void h.onNext(g)},function(t){s.forEach(c(t)),o.onError(t)},function(){s.forEach(function(t){t.onCompleted()}),o.onCompleted()})),u},i)};var ki=function(t){function e(e,n,r){this.source=e,this.selector=pe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return t.call(this,e.selector(n,r,i),r,i)}}function r(t,e,n){this.o=t,this.selector=e,this.source=n,this.i=0,Bn.call(this)}return Je(e,t),e.prototype.internalMap=function(t,r){return new e(this.source,n(t,this),r)},e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.selector,this))},Je(r,Bn),r.prototype.next=function(t){var e=Qt(this.selector)(t,this.i++,this.source);return e===Yt?this.o.onError(e.e):void this.o.onNext(e)},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Wn);qn.map=qn.select=function(t,e){var n="function"==typeof t?t:function(){return t};return this instanceof ki?this.internalMap(n,e):new ki(this,n,e)},qn.pluck=function(){var t=arguments.length,e=new Array(t);if(0===t)throw new Error("List of properties cannot be empty.");for(var n=0;t>n;n++)e[n]=arguments[n];return this.map(W(e,t))},qn.flatMap=qn.selectMany=qn.mergeMap=function(t,e,n){return new Kn(this,t,e,n).mergeAll()},qn.flatMapObserver=qn.selectManyObserver=function(t,e,n,r){var i=this;return new Es(function(o){var s=0;return i.subscribe(function(e){var n;try{n=t.call(r,e,s++)}catch(i){return void o.onError(i)}Xt(n)&&(n=ir(n)),o.onNext(n)},function(t){var n;try{n=e.call(r,t)}catch(i){return void o.onError(i)}Xt(n)&&(n=ir(n)),o.onNext(n),o.onCompleted()},function(){var t;try{t=n.call(r)}catch(e){return void o.onError(e)}Xt(t)&&(t=ir(t)),o.onNext(t),o.onCompleted()})},i).mergeAll()},qn.flatMapLatest=qn.switchMap=function(t,e,n){return new Kn(this,t,e,n).switchLatest()};var Ai=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._r=e,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Je(n,Bn),n.prototype.next=function(t){this._r<=0?this._o.onNext(t):this._r--},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Wn);qn.skip=function(t){if(0>t)throw new se;return new Ai(this,t)};var $i=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ti(t,this))},e}(Wn),Ti=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!1,t.call(this)}return Je(e,t),e.prototype.next=function(t){if(!this._r){var e=Qt(this._p._fn)(t,this._i++,this._p);if(e===Yt)return this._o.onError(e.e);this._r=!e}this._r&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.skipWhile=function(t,e){var n=pe(t,e,3);return new $i(this,n)};var Ni=function(t){function e(e,n){this.source=e,this._count=n,t.call(this)}function n(t,e){this._o=t,this._c=e,this._r=e,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new n(t,this._count))},Je(n,Bn),n.prototype.next=function(t){this._r-- >0&&(this._o.onNext(t),this._r<=0&&this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._o.onCompleted()},e}(Wn);qn.take=function(t,e){if(0>t)throw new se;return 0===t?lr(e):new Ni(this,t)};var Oi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ii(t,this))},e}(Wn),Ii=function(t){function e(e,n){this._o=e,this._p=n,this._i=0,this._r=!0,t.call(this)}return Je(e,t),e.prototype.next=function(t){return this._r&&(this._r=Qt(this._p._fn)(t,this._i++,this._p),this._r===Yt)?this._o.onError(this._r.e):void(this._r?this._o.onNext(t):this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.takeWhile=function(t,e){var n=pe(t,e,3);return new Oi(this,n)};var Mi=function(t){function e(e,n,r){this.source=e,this.predicate=pe(n,r,3),t.call(this)}function n(t,e){return function(n,r,i){return e.predicate(n,r,i)&&t.call(this,n,r,i)}}function r(t,e,n){this.o=t,this.predicate=e,this.source=n,this.i=0,Bn.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new r(t,this.predicate,this))},e.prototype.internalFilter=function(t,r){return new e(this.source,n(t,this),r)},Je(r,Bn),r.prototype.next=function(t){var e=Qt(this.predicate)(t,this.i++,this.source);return e===Yt?this.o.onError(e.e):void(e&&this.o.onNext(t))},r.prototype.error=function(t){this.o.onError(t)},r.prototype.completed=function(){this.o.onCompleted()},e}(Wn);qn.filter=qn.where=function(t,e){return this instanceof Mi?this.internalFilter(t,e):new Mi(this,t,e)};var Ri=function(t){function e(e,n,r){this.source=e,this._k=n,this._c=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Di(t,this._k,this._c))},e}(Wn),Di=function(t){function e(e,n,r){this._o=e,this._k=n,this._c=r,this._v=null,this._hv=!1,this._l=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._k)(t);if(e===Yt)return this._o.onError(e.e);var n=0;if(this._hv){if(n=Qt(this._c)(e,this._v),n===Yt)return this._o.onError(n.e)}else this._hv=!0,this._v=e;n>0&&(this._v=e,this._l=[]),n>=0&&this._l.push(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._l),this._o.onCompleted()},e}(Bn),Li=function(t){function e(e,n,r,i){this.source=e,this.accumulator=n,this.hasSeed=r,this.seed=i,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new ji(t,this))},e}(Wn),ji=function(t){function e(e,n){this._o=e,this._p=n,this._fn=n.accumulator,this._hs=n.hasSeed,this._s=n.seed,this._ha=!1,this._a=null,this._hv=!1,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){return!this._hv&&(this._hv=!0),this._ha?this._a=Qt(this._fn)(this._a,t,this._i,this._p):(this._a=this._hs?Qt(this._fn)(this._s,t,this._i,this._p):t,this._ha=!0),this._a===Yt?this._o.onError(this._a.e):void this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv&&this._o.onNext(this._a),!this._hv&&this._hs&&this._o.onNext(this._s),!this._hv&&!this._hs&&this._o.onError(new ie),this._o.onCompleted()},e}(Bn);qn.reduce=function(){var t,e=!1,n=arguments[0];return 2===arguments.length&&(e=!0,t=arguments[1]),new Li(this,n,e,t)};var Pi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new qi(t,this._fn,this.source))},e}(Wn),qi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._fn)(t,this._i++,this._s);return e===Yt?this._o.onError(e.e):void(Boolean(e)&&(this._o.onNext(!0),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Bn);qn.some=function(t,e){var n=pe(t,e,3);return new Pi(this,n)};var Bi=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Fi(t))},e}(Wn),Fi=function(t){function e(e){this._o=e,t.call(this)}return Je(e,t),e.prototype.next=function(){this._o.onNext(!1),this._o.onCompleted()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Bn);qn.isEmpty=function(){return new Bi(this)};var Ui=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Hi(t,this._fn,this.source))},e}(Wn),Hi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._fn)(t,this._i++,this._s);return e===Yt?this._o.onError(e.e):void(Boolean(e)||(this._o.onNext(!1),this._o.onCompleted()))},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!0),this._o.onCompleted()},e}(Bn);qn.every=function(t,e){var n=pe(t,e,3);return new Ui(this,n)};var zi=function(t){function e(e,n,r){var i=+r||0;Math.abs(i)===1/0&&(i=0),this.source=e,this._elem=n,this._n=i,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(!1),t.onCompleted(),rn):this.source.subscribe(new Vi(t,this._elem,this._n))},e}(Wn),Vi=function(t){function e(e,n,r){this._o=e,this._elem=n,this._n=r,this._i=0,t.call(this)}function n(t,e){return 0===t&&0===e||t===e||isNaN(t)&&isNaN(e)}return Je(e,t),e.prototype.next=function(t){this._i++>=this._n&&n(t,this._elem)&&(this._o.onNext(!0),this._o.onCompleted())},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(!1),this._o.onCompleted()},e}(Bn);qn.includes=function(t,e){return new zi(this,t,e)};var Wi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Ki(t,this._fn,this.source))},e}(Wn),Ki=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){if(this._fn){var e=Qt(this._fn)(t,this._i++,this._s);if(e===Yt)return this._o.onError(e.e);Boolean(e)&&this._c++}else this._c++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Bn);qn.count=function(t,e){var n=pe(t,e,3);return new Wi(this,n)};var Ji=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),rn):this.source.subscribe(new Xi(t,this._e,this._n))},e}(Wn),Xi=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._o.onNext(this._i),this._o.onCompleted()),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(-1),this._o.onCompleted()},e}(Bn);qn.indexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new Ji(this,t,n)};var Gi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Yi(t,this._fn,this.source))},e}(Wn),Yi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._i=0,this._c=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){if(this._fn){var e=Qt(this._fn)(t,this._i++,this._s);if(e===Yt)return this._o.onError(e.e);this._c+=e}else this._c+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._c),this._o.onCompleted()},e}(Bn);qn.sum=function(t,e){var n=pe(t,e,3);return new Gi(this,n)},qn.minBy=function(t,e){return e||(e=Kt),new Ri(this,t,function(t,n){return-1*e(t,n)})},qn.min=function(t){return this.minBy(zt,t).map(K)},qn.maxBy=function(t,e){return e||(e=Kt),new Ri(this,t,e)},qn.max=function(t){return this.maxBy(zt,t).map(K)};var Qi=function(t){function e(e,n){this.source=e,this._fn=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Zi(t,this._fn,this.source))},e}(Wn),Zi=function(t){function e(e,n,r){this._o=e,this._fn=n,this._s=r,this._c=0,this._t=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){if(this._fn){var e=Qt(this._fn)(t,this._c++,this._s);if(e===Yt)return this._o.onError(e.e);this._t+=e}else this._c++,this._t+=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){return 0===this._c?this._o.onError(new ie):(this._o.onNext(this._t/this._c),void this._o.onCompleted())},e}(Bn);qn.average=function(t,e){var n,r=this;return Gt(t)&&(n=pe(t,e,3)),new Qi(r,n)},qn.sequenceEqual=function(t,e){var n=this;return e||(e=Wt),new Es(function(r){var i=!1,o=!1,s=[],a=[],u=n.subscribe(function(t){if(a.length>0){var n=a.shift(),i=Qt(e)(n,t);if(i===Yt)return r.onError(i.e);i||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(t)},function(t){r.onError(t)},function(){i=!0,0===s.length&&(a.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});(de(t)||he(t))&&(t=dr(t)),Xt(t)&&(t=ir(t));var c=t.subscribe(function(t){if(s.length>0){var n=s.shift(),o=Qt(e)(n,t);if(o===Yt)return r.onError(o.e);o||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):a.push(t)},function(t){r.onError(t)},function(){o=!0,0===a.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});return new ln(u,c)},n)};var to=function(t){function e(e,n,r){this.source=e,this._i=n,this._d=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new eo(t,this._i,this._d))},e}(Wn),eo=function(e){function n(t,n,r){this._o=t,this._i=n,this._d=r,e.call(this)}return Je(n,e),n.prototype.next=function(t){0===this._i--&&(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._d===t?this._o.onError(new se):(this._o.onNext(this._d),this._o.onCompleted())},n}(Bn);qn.elementAt=function(t,e){if(0>t)throw new se;return new to(this,t,e)};var no=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Je(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=Qt(this._obj.predicate)(t,this._i++,this._s);if(n===Yt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);if(e){if(this._hv)return this._o.onError(new Error("Sequence contains more than one matching element"));this._hv=!0,this._v=t}},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new ie):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Bn);qn.single=function(t,e){var n={},r=this;if(n="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Gt(n.predicate)){var i=n.predicate;n.predicate=pe(i,n.thisArg,3)}return new Es(function(t){return r.subscribe(new no(t,n,r))},r)};var ro=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new io(t,this._obj,this.source))},e}(Wn),io=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,e.call(this)}return Je(n,e),n.prototype.next=function(t){if(this._obj.predicate){var e=Qt(this._obj.predicate)(t,this._i++,this._s);if(e===Yt)return this._o.onError(e.e);Boolean(e)&&(this._o.onNext(t),this._o.onCompleted())}else this._obj.predicate||(this._o.onNext(t),this._o.onCompleted())},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._obj.defaultValue===t?this._o.onError(new ie):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Bn);qn.first=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Gt(t.predicate)){var e=t.predicate;t.predicate=pe(e,t.thisArg,3)}return new ro(this,t)};var oo=function(t){function e(e,n){this.source=e,this._obj=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new so(t,this._obj,this.source))},e}(Wn),so=function(e){function n(t,n,r){this._o=t,this._obj=n,this._s=r,this._i=0,this._hv=!1,this._v=null,e.call(this)}return Je(n,e),n.prototype.next=function(t){var e=!1;if(this._obj.predicate){var n=Qt(this._obj.predicate)(t,this._i++,this._s);if(n===Yt)return this._o.onError(n.e);Boolean(n)&&(e=!0)}else this._obj.predicate||(e=!0);e&&(this._hv=!0,this._v=t)},n.prototype.error=function(t){this._o.onError(t)},n.prototype.completed=function(){this._hv?(this._o.onNext(this._v),this._o.onCompleted()):this._obj.defaultValue===t?this._o.onError(new ie):(this._o.onNext(this._obj.defaultValue),this._o.onCompleted())},n}(Bn);qn.last=function(){var t={};if(t="object"==typeof arguments[0]?arguments[0]:{predicate:arguments[0],thisArg:arguments[1],defaultValue:arguments[2]},Gt(t.predicate)){var e=t.predicate;t.predicate=pe(e,t.thisArg,3)}return new oo(this,t)};var ao=function(t){function e(e,n,r,i){this._o=e,this._s=n,this._cb=r,this._y=i,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._cb)(t,this._i,this._s);return e===Yt?this._o.onError(e.e):void(e?(this._o.onNext(this._y?this._i:t),this._o.onCompleted()):this._i++)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._y&&this._o.onNext(-1),this._o.onCompleted()},e}(Bn);qn.find=function(t,e){return J(this,t,e,!1)},qn.findIndex=function(t,e){return J(this,t,e,!0)};var uo=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new co(t))},e}(Wn),co=function(t){function e(e){this._o=e,this._s=new Ft.Set,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._s.add(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._s),this._o.onCompleted()},e}(Bn);qn.toSet=function(){if("undefined"==typeof Ft.Set)throw new TypeError;return new uo(this)};var lo=function(t){function e(e,n,r){this.source=e,this._k=n,this._e=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new fo(t,this._k,this._e))},e}(Wn),fo=function(t){function e(e,n,r){this._o=e,this._k=n,this._e=r,this._m=new Ft.Map,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._k)(t);if(e===Yt)return this._o.onError(e.e);var n=t;return this._e&&(n=Qt(this._e)(t),n===Yt)?this._o.onError(n.e):void this._m.set(e,n)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onNext(this._m),this._o.onCompleted()},e}(Bn);qn.toMap=function(t,e){if("undefined"==typeof Ft.Map)throw new TypeError;return new lo(this,t,e)};var ho=function(t){function e(e,n,r){this.source=e,this._b=n,this._e=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new po(t,this._b,this._e))},e}(Wn),po=function(t){function e(e,n,r){this._o=e,this._b=n,this._e=r,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._i>=this._b&&(this._e===this._i?this._o.onCompleted():this._o.onNext(t)),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.slice=function(t,e){var n=t||0;if(0>n)throw new Ut.ArgumentOutOfRangeError;if("number"==typeof e&&n>e)throw new Ut.ArgumentOutOfRangeError;return new ho(this,n,e)};var vo=function(t){function e(e,n,r){this.source=e,this._e=n,this._n=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this._n<0?(t.onNext(-1),t.onCompleted(),rn):this.source.subscribe(new mo(t,this._e,this._n))},e}(Wn),mo=function(t){function e(e,n,r){this._o=e,this._e=n,this._n=r,this._v=0,this._hv=!1,this._i=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._i>=this._n&&t===this._e&&(this._hv=!0,this._v=this._i),this._i++},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._hv?this._o.onNext(this._v):this._o.onNext(-1),this._o.onCompleted()},e}(Bn);qn.lastIndexOf=function(t,e){var n=+e||0;return Math.abs(n)===1/0&&(n=0),new vo(this,t,n)},Vn.wrap=function(t){function e(){return Vn.spawn.call(this,t.apply(this,arguments))}return e.__generatorFunction__=t,e};var go=Vn.spawn=function(){for(var t=arguments[0],e=this,n=[],r=1,i=arguments.length;i>r;r++)n.push(arguments[r]);return new Es(function(r){function i(e){var n=Qt(t.next).call(t,e);return n===Yt?r.onError(n.e):void s(n)}function o(e){var n=Qt(t.next).call(t,e);return n===Yt?r.onError(n.e):void s(n)}function s(t){if(t.done)return r.onNext(t.value),void r.onCompleted();var n=X.call(e,t.value),s=null,u=!1;Vn.isObservable(n)?a.add(n.subscribe(function(t){u=!0,s=t},o,function(){u&&i(s)})):o(new TypeError("type not supported"))}var a=new Ze;return Gt(t)&&(t=t.apply(e,n)),t&&Gt(t.next)?(i(),a):(r.onNext(t),r.onCompleted())})};Vn.start=function(t,e,n){return bo(t,e,n)()};var bo=Vn.toAsync=function(t,e,n){return mn(n)||(n=$n),function(){var r=arguments,i=new Ts;return n.schedule(null,function(){var n;try{n=t.apply(e,r)}catch(o){return void i.onError(o)}i.onNext(n),i.onCompleted()}),i.asObservable()}};Vn.fromCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return nt(t,e,n,i)}},Vn.fromNodeCallback=function(t,e,n){return function(){"undefined"==typeof e&&(e=this);for(var r=arguments.length,i=new Array(r),o=0;r>o;o++)i[o]=arguments[o];return it(t,e,n,i)}},at.prototype.dispose=function(){this.isDisposed||(this._e.removeEventListener(this._n,this._fn,!1),this.isDisposed=!0)},Ut.config.useNativeEvents=!1;var yo=function(t){function e(e,n,r){this._el=e,this._n=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Gt(e)&&(n=Qt(e).apply(null,arguments),n===Yt)?t.onError(n.e):void t.onNext(n)}}return Je(e,t),e.prototype.subscribeCore=function(t){return ut(this._el,this._n,n(t,this._fn))},e}(Wn);Vn.fromEvent=function(t,e,n){return t.addListener?wo(function(n){t.addListener(e,n)},function(n){t.removeListener(e,n)},n):Ut.config.useNativeEvents||"function"!=typeof t.on||"function"!=typeof t.off?new yo(t,e,n).publish().refCount():wo(function(n){t.on(e,n)},function(n){t.off(e,n)},n)};var _o=function(t){function e(e,n,r){this._add=e,this._del=n,this._fn=r,t.call(this)}function n(t,e){return function(){var n=arguments[0];return Gt(e)&&(n=Qt(e).apply(null,arguments),n===Yt)?t.onError(n.e):void t.onNext(n)}}function r(t,e,n){this._del=t,this._fn=e,this._ret=n,this.isDisposed=!1}return Je(e,t),e.prototype.subscribeCore=function(t){var e=n(t,this._fn),i=this._add(e);return new r(this._del,e,i)},r.prototype.dispose=function(){this.isDisposed||(Gt(this._del)&&this._del(this._fn,this._ret),this.isDisposed=!0)},e}(Wn),wo=Vn.fromEventPattern=function(t,e,n){return new _o(t,e,n).publish().refCount()};Vn.startAsync=function(t){var e=Qt(t)();return e===Yt?Cr(e.e):ir(e)};var So=function(t){function e(e,n){this.source=e,this.controller=new $s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,t.call(this)}return Je(e,t),e.prototype._subscribe=function(t){var e=this.source.publish(),n=e.subscribe(t),r=rn,i=this.pauser.startWith(!this.paused).distinctUntilChanged().subscribe(function(t){t?r=e.connect():(r.dispose(),r=rn)});return new fn([n,r,i])},e.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},e.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},e}(Vn);qn.pausable=function(t){return new So(this,t)};var xo=function(e){function n(t,n){this.source=t,this.controller=new $s,this.paused=!0,n&&n.subscribe?this.pauser=this.controller.merge(n):this.pauser=this.controller,e.call(this)}return Je(n,e),n.prototype._subscribe=function(e){function n(){for(;i.length>0;)e.onNext(i.shift())}var r,i=[],o=ct(this.source,this.pauser.startWith(!this.paused).distinctUntilChanged(),function(t,e){return{data:t,shouldFire:e}}).subscribe(function(o){r!==t&&o.shouldFire!==r?(r=o.shouldFire,o.shouldFire&&n()):(r=o.shouldFire,o.shouldFire?e.onNext(o.data):i.push(o.data))},function(t){n(),e.onError(t)},function(){n(),e.onCompleted()});return o},n.prototype.pause=function(){this.paused=!0,this.controller.onNext(!1)},n.prototype.resume=function(){this.paused=!1,this.controller.onNext(!0)},n}(Vn);qn.pausableBuffered=function(t){return new xo(this,t)};var Eo=function(t){function e(e,n,r){t.call(this),this.subject=new Co(n,r),
this.source=e.multicast(this.subject).refCount()}return Je(e,t),e.prototype._subscribe=function(t){return this.source.subscribe(t)},e.prototype.request=function(t){return this.subject.request(null==t?-1:t)},e}(Vn),Co=function(t){function e(e,n){null==e&&(e=!0),t.call(this),this.subject=new $s,this.enableQueue=e,this.queue=e?[]:null,this.requestedCount=0,this.requestedDisposable=null,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=n||xn}return Je(e,t),Xe(e.prototype,jn,{_subscribe:function(t){return this.subject.subscribe(t)},onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(Nn.createOnCompleted()):(this.subject.onCompleted(),this.disposeCurrentRequest())},onError:function(t){this.hasFailed=!0,this.error=t,this.enableQueue&&0!==this.queue.length?this.queue.push(Nn.createOnError(t)):(this.subject.onError(t),this.disposeCurrentRequest())},onNext:function(t){this.requestedCount<=0?this.enableQueue&&this.queue.push(Nn.createOnNext(t)):(0===this.requestedCount--&&this.disposeCurrentRequest(),this.subject.onNext(t))},_processRequest:function(t){if(this.enableQueue)for(;this.queue.length>0&&(t>0||"N"!==this.queue[0].kind);){var e=this.queue.shift();e.accept(this.subject),"N"===e.kind?t--:(this.disposeCurrentRequest(),this.queue=[])}return t},request:function(t){this.disposeCurrentRequest();var e=this;return this.requestedDisposable=this.scheduler.schedule(t,function(t,n){var r=e._processRequest(n),i=e.hasCompleted||e.hasFailed;return!i&&r>0?(e.requestedCount=r,nn(function(){e.requestedCount=0})):void 0}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable&&(this.requestedDisposable.dispose(),this.requestedDisposable=null)}}),e}(Vn);qn.controlled=function(t,e){return t&&mn(t)&&(e=t,t=!0),null==t&&(t=!0),new Eo(this,t,e)};var ko=function(t){function e(e){t.call(this),this.source=e}function n(t,e){return e.source.request(1)}Je(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new ln(this.subscription,$n.schedule(this,n))};var r=function(t){function e(e,n,r){t.call(this),this.observer=e,this.observable=n,this.cancel=r,this.scheduleDisposable=null}function n(t,e){return e.observable.source.request(1)}return Je(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.scheduleDisposable=$n.schedule(this,n)},e.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Bn);return e}(Vn);Eo.prototype.stopAndWait=function(){return new ko(this)};var Ao=function(t){function e(e,n){t.call(this),this.source=e,this.windowSize=n}function n(t,e){return e.source.request(e.windowSize)}Je(e,t),e.prototype._subscribe=function(t){return this.subscription=this.source.subscribe(new r(t,this,this.subscription)),new ln(this.subscription,$n.schedule(this,n))};var r=function(t){function e(e,n,r){this.observer=e,this.observable=n,this.cancel=r,this.received=0,this.scheduleDisposable=null,t.call(this)}function n(t,e){return e.observable.source.request(e.observable.windowSize)}return Je(e,t),e.prototype.completed=function(){this.observer.onCompleted(),this.dispose()},e.prototype.error=function(t){this.observer.onError(t),this.dispose()},e.prototype.next=function(t){this.observer.onNext(t),this.received=++this.received%this.observable.windowSize,0===this.received&&(this.scheduleDisposable=$n.schedule(this,n))},e.prototype.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),this.scheduleDisposable&&(this.scheduleDisposable.dispose(),this.scheduleDisposable=null),t.prototype.dispose.call(this)},e}(Bn);return e}(Vn);Eo.prototype.windowed=function(t){return new Ao(this,t)},qn.pipe=function(t){function e(){n.resume()}var n=this.pausableBuffered();return t.addListener("drain",e),n.subscribe(function(e){!t.write(e)&&n.pause()},function(e){t.emit("error",e)},function(){!t._isStdio&&t.end(),t.removeListener("drain",e)}),n.resume(),t};var $o=function(t){function e(e,n,r){this.source=e,this._fn1=n,this._fn2=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=this.source.multicast(this._fn1());return new ln(this._fn2(e).subscribe(t),e.connect())},e}(Wn);qn.multicast=function(t,e){return Gt(t)?new $o(this,t,e):new Oo(this,t)},qn.publish=function(t){return t&&Gt(t)?this.multicast(function(){return new $s},t):this.multicast(new $s)},qn.share=function(){return this.publish().refCount()},qn.publishLast=function(t){return t&&Gt(t)?this.multicast(function(){return new Ts},t):this.multicast(new Ts)},qn.publishValue=function(t,e){return 2===arguments.length?this.multicast(function(){return new Ns(e)},t):this.multicast(new Ns(t))},qn.shareValue=function(t){return this.publishValue(t).refCount()},qn.replay=function(t,e,n,r){return t&&Gt(t)?this.multicast(function(){return new Os(e,n,r)},t):this.multicast(new Os(e,n,r))},qn.shareReplay=function(t,e,n){return this.replay(null,t,e,n).refCount()};var To=function(t,e){this._s=t,this._o=e};To.prototype.dispose=function(){if(!this._s.isDisposed&&null!==this._o){var t=this._s.observers.indexOf(this._o);this._s.observers.splice(t,1),this._o=null}};var No=function(t){function e(e){this.source=e,this._count=0,this._connectableSubscription=null,t.call(this)}function n(t,e){this._p=t,this._s=e,this.isDisposed=!1}return Je(e,t),e.prototype.subscribeCore=function(t){var e=this.source.subscribe(t);return 1===++this._count&&(this._connectableSubscription=this.source.connect()),new n(this,e)},n.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._s.dispose(),0===--this._p._count&&this._p._connectableSubscription.dispose())},e}(Wn),Oo=Ut.ConnectableObservable=function(t){function e(e,n){this.source=e,this._connection=null,this._source=e.asObservable(),this._subject=n,t.call(this)}function n(t,e){this._p=t,this._s=e}return Je(e,t),n.prototype.dispose=function(){this._s&&(this._s.dispose(),this._s=null,this._p._connection=null)},e.prototype.connect=function(){if(!this._connection){if(this._subject.isStopped)return rn;var t=this._source.subscribe(this._subject);this._connection=new n(this,t)}return this._connection},e.prototype._subscribe=function(t){return this._subject.subscribe(t)},e.prototype.refCount=function(){return new No(this)},e}(Vn);qn.singleInstance=function(){function t(){return r||(r=!0,e=n["finally"](function(){r=!1}).publish().refCount()),e}var e,n=this,r=!1;return new Es(function(e){return t().subscribe(e)})},qn.join=function(t,e,n,r){var i=this;return new Es(function(o){var s=new Ze,a=!1,u=!1,c=0,l=0,f=new Fo,h=new Fo,d=function(t){o.onError(t)};return s.add(i.subscribe(function(t){var n=c++,i=new un;f.set(n,t),s.add(i);var u=Qt(e)(t);return u===Yt?o.onError(u.e):(i.setDisposable(u.take(1).subscribe(Ht,d,function(){f["delete"](n)&&0===f.size&&a&&o.onCompleted(),s.remove(i)})),void h.forEach(function(e){var n=Qt(r)(t,e);return n===Yt?o.onError(n.e):void o.onNext(n)}))},d,function(){a=!0,(u||0===f.size)&&o.onCompleted()})),s.add(t.subscribe(function(t){var e=l++,i=new un;h.set(e,t),s.add(i);var a=Qt(n)(t);return a===Yt?o.onError(a.e):(i.setDisposable(a.take(1).subscribe(Ht,d,function(){h["delete"](e)&&0===h.size&&u&&o.onCompleted(),s.remove(i)})),void f.forEach(function(e){var n=Qt(r)(e,t);return n===Yt?o.onError(n.e):void o.onNext(n)}))},d,function(){u=!0,(a||0===h.size)&&o.onCompleted()})),s},i)},qn.groupJoin=function(t,e,n,r){var i=this;return new Es(function(o){function s(t){}var a=new Ze,u=new hn(a),c=new Fo,l=new Fo,f=0,h=0,s=function(t){return function(e){e.onError(t)}};return a.add(i.subscribe(function(t){var n=new $s,i=f++;c.set(i,n);var h=Qt(r)(t,Ge(n,u));if(h===Yt)return c.forEach(s(h.e)),o.onError(h.e);o.onNext(h),l.forEach(function(t){n.onNext(t)});var d=new un;a.add(d);var p=Qt(e)(t);return p===Yt?(c.forEach(s(p.e)),o.onError(p.e)):void d.setDisposable(p.take(1).subscribe(Ht,function(t){c.forEach(s(t)),o.onError(t)},function(){c["delete"](i)&&n.onCompleted(),a.remove(d)}))},function(t){c.forEach(s(t)),o.onError(t)},function(){o.onCompleted()})),a.add(t.subscribe(function(t){var e=h++;l.set(e,t);var r=new un;a.add(r);var i=Qt(n)(t);return i===Yt?(c.forEach(s(i.e)),o.onError(i.e)):(r.setDisposable(i.take(1).subscribe(Ht,function(t){c.forEach(s(t)),o.onError(t)},function(){l["delete"](e),a.remove(r)})),void c.forEach(function(e){e.onNext(t)}))},function(t){c.forEach(s(t)),o.onError(t)})),u},i)},qn.buffer=function(){return this.window.apply(this,arguments).flatMap(B)},qn.window=function(t,e){return 1===arguments.length&&"function"!=typeof arguments[0]?ft.call(this,t):"function"==typeof t?ht.call(this,t):lt.call(this,t,e)};var Io=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Mo(t))},e}(Wn),Mo=function(t){function e(e){this._o=e,this._p=null,this._hp=!1,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._hp?this._o.onNext([this._p,t]):this._hp=!0,this._p=t},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.pairwise=function(){return new Io(this)},qn.partition=function(t,e){var n=pe(t,e,3);return[this.filter(t,e),this.filter(function(t,e,r){return!n(t,e,r)})]};var Ro=function(t){function e(t,e){this.c=t,this.s=e}return Je(e,t),e.prototype[le]=function(){var t=this;return{next:function(){return t.c()?{done:!1,value:t.s}:{done:!0,value:void 0}}}},e}(Jn);qn.letBind=qn["let"]=function(t){return t(this)},Vn["if"]=function(t,e,n){return ar(function(){return n||(n=lr()),Xt(e)&&(e=ir(e)),Xt(n)&&(n=ir(n)),"function"==typeof n.now&&(n=lr(n)),t()?e:n})},Vn["for"]=Vn.forIn=function(t,e,n){return tr(t,e,n).concat()};var Do=Vn["while"]=Vn.whileDo=function(t,e){return Xt(e)&&(e=ir(e)),dt(t,e).concat()};qn.doWhile=function(t){return Dr([this,Do(t,this)])},Vn["case"]=function(t,e,n){return ar(function(){Xt(n)&&(n=ir(n)),n||(n=lr()),mn(n)&&(n=lr(n));var r=e[t()];return Xt(r)&&(r=ir(r)),r||n})};var Lo=function(t){function e(e,n,r){this.source=e,this._fn=n,this._scheduler=r,t.call(this)}function n(t,e){var n,r=t[0],i=t[1];if(!(r.q.length>0))return void(r.isAcquired=!1);n=r.q.shift();var o=new un;r.d.add(o),o.setDisposable(n.subscribe(new jo(r,i,o))),e([r,i])}return Je(e,t),e.prototype._ensureActive=function(t){var e=!1;t.q.length>0&&(e=!t.isAcquired,t.isAcquired=!0),e&&t.m.setDisposable(this._scheduler.scheduleRecursive([t,this],n))},e.prototype.subscribeCore=function(t){var e=new cn,n=new Ze(e),r={q:[],m:e,d:n,activeCount:0,isAcquired:!1,o:t};return r.q.push(this.source),r.activeCount++,this._ensureActive(r),n},e}(Wn),jo=function(t){function e(e,n,r){this._s=e,this._p=n,this._m1=r,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._s.o.onNext(t);var e=Qt(this._p._fn)(t);return e===Yt?this._s.o.onError(e.e):(this._s.q.push(e),this._s.activeCount++,void this._p._ensureActive(this._s))},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.d.remove(this._m1),this._s.activeCount--,0===this._s.activeCount&&this._s.o.onCompleted()},e}(Bn);qn.expand=function(t,e){return mn(e)||(e=xn),new Lo(this,t,e)};var Po=function(t){function e(e,n){this._sources=e,this._cb=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){if(0===this._sources.length)return t.onCompleted(),rn;for(var e=this._sources.length,n={finished:!1,hasResults:new Array(e),hasCompleted:new Array(e),results:new Array(e)},r=new Ze,i=0,o=this._sources.length;o>i;i++){var s=this._sources[i];Xt(s)&&(s=ir(s)),r.add(s.subscribe(new qo(t,n,i,this._cb,r)))}return r},e}(Wn),qo=function(t){function e(e,n,r,i,o){this._o=e,this._s=n,this._i=r,this._cb=i,this._subs=o,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._s.finished||(this._s.hasResults[this._i]=!0,this._s.results[this._i]=t)},e.prototype.error=function(t){this._s.finished=!0,this._o.onError(t),this._subs.dispose()},e.prototype.completed=function(){if(!this._s.finished){if(!this._s.hasResults[this._i])return this._o.onCompleted();this._s.hasCompleted[this._i]=!0;for(var t=0;t<this._s.results.length;t++)if(!this._s.hasCompleted[t])return;this._s.finished=!0;var e=Qt(this._cb).apply(null,this._s.results);if(e===Yt)return this._o.onError(e.e);this._o.onNext(e),this._o.onCompleted()}},e}(Bn);Vn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];var r=Gt(e[t-1])?e.pop():j;return Array.isArray(e[0])&&(e=e[0]),new Po(e,r)},qn.forkJoin=function(){for(var t=arguments.length,e=new Array(t),n=0;t>n;n++)e[n]=arguments[n];return Array.isArray(e[0])?e[0].unshift(this):e.unshift(this),Vn.forkJoin.apply(null,e)},qn.manySelect=qn.extend=function(t,e){mn(e)||(e=Ut.Scheduler.immediate);var n=this;return ar(function(){var r;return n.map(function(t){var e=new Bo(t);return r&&r.onNext(t),r=e,e}).tap(Ht,function(t){r&&r.onError(t)},function(){r&&r.onCompleted()}).observeOn(e).map(t)},n)};var Bo=function(t){function e(e){t.call(this),this.head=e,this.tail=new Ts}return Je(e,t),Xe(e.prototype,jn,{_subscribe:function(t){var e=new Ze;return e.add(xn.schedule(this,function(n,r){t.onNext(r.head),e.add(r.tail.mergeAll().subscribe(t))})),e},onCompleted:function(){this.onNext(Vn.empty())},onError:function(t){this.onNext(Vn["throw"](t))},onNext:function(t){this.tail.onNext(t),this.tail.onCompleted()}}),e}(Vn),Fo=Ft.Map||function(){function e(){this.size=0,this._values=[],this._keys=[]}return e.prototype["delete"]=function(t){var e=this._keys.indexOf(t);return-1!==e&&(this._values.splice(e,1),this._keys.splice(e,1),this.size--,!0)},e.prototype.get=function(e){var n=this._keys.indexOf(e);return-1===n?t:this._values[n]},e.prototype.set=function(t,e){var n=this._keys.indexOf(t);return-1===n?(this._keys.push(t),this._values.push(e),this.size++):this._values[n]=e,this},e.prototype.forEach=function(t,e){for(var n=0;n<this.size;n++)t.call(e,this._values[n],this._keys[n])},e}();pt.prototype.and=function(t){return new pt(this.patterns.concat(t))},pt.prototype.thenDo=function(t){return new vt(this,t)},vt.prototype.activate=function(t,e,n){for(var r=[],i=mt(e),o=0,s=this.expression.patterns.length;s>o;o++)r.push(bt(t,this.expression.patterns[o],i));var a=new yt(r,gt(this,e),function(){for(var t=0,e=r.length;e>t;t++)r[t].removeActivePlan(a);n(a)});for(o=0,s=r.length;s>o;o++)r[o].addActivePlan(a);return a},yt.prototype.dequeue=function(){this.joinObservers.forEach(function(t){t.queue.shift()})},yt.prototype.match=function(){var t,e,n=!0;for(t=0,e=this.joinObserverArray.length;e>t;t++)if(0===this.joinObserverArray[t].queue.length){n=!1;break}if(n){var r=[],i=!1;for(t=0,e=this.joinObserverArray.length;e>t;t++)r.push(this.joinObserverArray[t].queue[0]),"C"===this.joinObserverArray[t].queue[0].kind&&(i=!0);if(i)this.onCompleted();else{this.dequeue();var o=[];for(t=0,e=r.length;t<r.length;t++)o.push(r[t].value);this.onNext.apply(this,o)}}};var Uo=function(t){function e(e,n){t.call(this),this.source=e,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new un,this.isDisposed=!1}Je(e,t);var n=e.prototype;return n.next=function(t){if(!this.isDisposed){if("E"===t.kind)return this.onError(t.error);this.queue.push(t);for(var e=this.activePlans.slice(0),n=0,r=e.length;r>n;n++)e[n].match()}},n.error=Ht,n.completed=Ht,n.addActivePlan=function(t){this.activePlans.push(t)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(t){this.activePlans.splice(this.activePlans.indexOf(t),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){t.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},e}(Bn);qn.and=function(t){return new pt([this,t])},qn.thenDo=function(t){return new pt([this]).thenDo(t)},Vn.when=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Es(function(e){var n=[],r=new Fo,i=Pn(function(t){e.onNext(t)},function(t){r.forEach(function(e){e.onError(t)}),e.onError(t)},function(t){e.onCompleted()});try{for(var o=0,s=t.length;s>o;o++)n.push(t[o].activate(r,i,function(t){var r=n.indexOf(t);n.splice(r,1),0===n.length&&e.onCompleted()}))}catch(a){return Cr(a).subscribe(e)}var u=new Ze;return r.forEach(function(t){t.subscribe(),u.add(t)}),u})};var Ho=function(t){function e(e,n){this._dt=e,this._s=n,t.call(this)}function n(t,e){e.onNext(0),e.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){return this._s.scheduleFuture(t,this._dt,n)},e}(Wn),zo=Vn.interval=function(t,e){return St(t,t,mn(e)?e:$n)};Vn.timer=function(e,n,r){var i;return mn(r)||(r=$n),null!=n&&"number"==typeof n?i=n:mn(n)&&(r=n),(e instanceof Date||"number"==typeof e)&&i===t?_t(e,r):e instanceof Date&&i!==t?wt(e,n,r):St(e,i,r)},qn.delay=function(){var t=arguments[0];if("number"==typeof t||t instanceof Date){var e=t,n=arguments[1];return mn(n)||(n=$n),e instanceof Date?Et(this,e,n):xt(this,e,n)}if(Vn.isObservable(t)||Gt(t))return Ct(this,t,arguments[1]);throw new Error("Invalid arguments")};var Vo=function(t){function e(e,n,r){mn(r)||(r=$n),this.source=e,this._dt=n,this._s=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn;return new ln(this.source.subscribe(new Wo(t,this._dt,this._s,e)),e)},e}(Wn),Wo=function(t){function e(e,n,r,i){this._o=e,this._d=n,this._scheduler=r,this._c=i,this._v=null,this._hv=!1,this._id=0,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._hv=!0,this._v=t;var e=++this._id,n=new un;this._c.setDisposable(n),n.setDisposable(this._scheduler.scheduleFuture(this,this._d,function(n,r){r._hv&&r._id===e&&r._o.onNext(t),r._hv=!1}))},e.prototype.error=function(t){this._c.dispose(),this._o.onError(t),this._hv=!1,this._id++},e.prototype.completed=function(){this._c.dispose(),this._hv&&this._o.onNext(this._v),this._o.onCompleted(),this._hv=!1,this._id++},e}(Bn);qn.debounce=function(){if(Gt(arguments[0]))return kt(this,arguments[0]);if("number"==typeof arguments[0])return new Vo(this,arguments[0],arguments[1]);throw new Error("Invalid arguments")},qn.windowWithTime=qn.windowTime=function(t,e,n){var r,i=this;return null==e&&(r=t),mn(n)||(n=$n),"number"==typeof e?r=e:mn(e)&&(r=t,n=e),new Es(function(e){function o(){var t=new un,i=!1,s=!1;f.setDisposable(t),c===u?(i=!0,s=!0):u>c?i=!0:s=!0;var d=i?c:u,p=d-h;h=d,i&&(c+=r),s&&(u+=r),t.setDisposable(n.scheduleFuture(null,p,function(){if(s){var t=new $s;l.push(t),e.onNext(Ge(t,a))}i&&l.shift().onCompleted(),o()}))}var s,a,u=r,c=t,l=[],f=new cn,h=0;return s=new Ze(f),a=new hn(s),l.push(new $s),e.onNext(Ge(l[0],a)),o(),s.add(i.subscribe(function(t){for(var e=0,n=l.length;n>e;e++)l[e].onNext(t)},function(t){for(var n=0,r=l.length;r>n;n++)l[n].onError(t);e.onError(t)},function(){for(var t=0,n=l.length;n>t;t++)l[t].onCompleted();e.onCompleted()})),a},i)},qn.windowWithTimeOrCount=qn.windowTimeOrCount=function(t,e,n){var r=this;return mn(n)||(n=$n),new Es(function(i){function o(e){var r=new un;s.setDisposable(r),r.setDisposable(n.scheduleFuture(null,t,function(){if(e===l){c=0;var t=++l;f.onCompleted(),f=new $s,i.onNext(Ge(f,u)),o(t)}}))}var s=new cn,a=new Ze(s),u=new hn(a),c=0,l=0,f=new $s;return i.onNext(Ge(f,u)),o(0),a.add(r.subscribe(function(t){var n=0,r=!1;f.onNext(t),++c===e&&(r=!0,c=0,n=++l,f.onCompleted(),f=new $s,i.onNext(Ge(f,u))),r&&o(n)},function(t){f.onError(t),i.onError(t)},function(){f.onCompleted(),i.onCompleted()})),u},r)},qn.bufferWithTime=qn.bufferTime=function(t,e,n){return this.windowWithTime(t,e,n).flatMap(B)},qn.bufferWithTimeOrCount=qn.bufferTimeOrCount=function(t,e,n){return this.windowWithTimeOrCount(t,e,n).flatMap(B)};var Ko=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Jo(t,this._s))},e}(Wn),Jo=function(t){function e(e,n){this._o=e,this._s=n,this._l=n.now(),t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=this._s.now(),n=e-this._l;this._l=e,this._o.onNext({value:t,interval:n})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.timeInterval=function(t){return mn(t)||(t=$n),new Ko(this,t)};var Xo=function(t){function e(e,n){this.source=e,this._s=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new Go(t,this._s))},e}(Wn),Go=function(t){function e(e,n){this._o=e,this._s=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._o.onNext({value:t,timestamp:this._s.now()})},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.timestamp=function(t){return mn(t)||(t=$n),new Xo(this,t)};var Yo=function(t){function e(e,n){this.source=e,this._sampler=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e={o:t,atEnd:!1,value:null,hasValue:!1,sourceSubscription:new un};return e.sourceSubscription.setDisposable(this.source.subscribe(new Zo(e))),new ln(e.sourceSubscription,this._sampler.subscribe(new Qo(e)))},e}(Wn),Qo=function(t){function e(e){this._s=e,t.call(this)}return Je(e,t),e.prototype._handleMessage=function(){this._s.hasValue&&(this._s.hasValue=!1,this._s.o.onNext(this._s.value)),this._s.atEnd&&this._s.o.onCompleted()},e.prototype.next=function(){this._handleMessage()},e.prototype.error=function(t){this._s.onError(t)},e.prototype.completed=function(){this._handleMessage()},e}(Bn),Zo=function(t){function e(e){this._s=e,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._s.hasValue=!0,this._s.value=t},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.atEnd=!0,this._s.sourceSubscription.dispose()},e}(Bn);qn.sample=function(t,e){return mn(e)||(e=$n),"number"==typeof t?new Yo(this,zo(t,e)):new Yo(this,t)};var ts=Ut.TimeoutError=function(t){this.message=t||"Timeout has occurred",this.name="TimeoutError",Error.call(this)};ts.prototype=Object.create(Error.prototype),qn.timeout=function(){var t=arguments[0];if(t instanceof Date||"number"==typeof t)return $t(this,t,arguments[1],arguments[2]);if(Vn.isObservable(t)||Gt(t))return At(this,t,arguments[1],arguments[2]);throw new Error("Invalid arguments")};var es=function(t){function e(e,n,r,i,o,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=Qt(t.self._itrFn)(t.newState),t.newState===Yt)return t.o.onError(t.newState.e);if(t.hasResult=Qt(t.self._cndFn)(t.newState),t.hasResult===Yt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=Qt(t.self._resFn)(t.newState),t.result===Yt)return t.o.onError(t.result.e);var n=Qt(t.self._timeFn)(t.newState);if(n===Yt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,new Date(this._s.now()),n)},e}(Wn);Vn.generateWithAbsoluteTime=function(t,e,n,r,i,o){return mn(o)||(o=$n),new es(t,e,n,r,i,o)};var ns=function(t){function e(e,n,r,i,o,s){this._state=e,this._cndFn=n,this._itrFn=r,this._resFn=i,this._timeFn=o,this._s=s,t.call(this)}function n(t,e){if(t.hasResult&&t.o.onNext(t.result),t.first)t.first=!1;else if(t.newState=Qt(t.self._itrFn)(t.newState),t.newState===Yt)return t.o.onError(t.newState.e);if(t.hasResult=Qt(t.self._cndFn)(t.newState),t.hasResult===Yt)return t.o.onError(t.hasResult.e);if(t.hasResult){if(t.result=Qt(t.self._resFn)(t.newState),t.result===Yt)return t.o.onError(t.result.e);var n=Qt(t.self._timeFn)(t.newState);if(n===Yt)return t.o.onError(n.e);e(t,n)}else t.o.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){var e={o:t,self:this,newState:this._state,first:!0,hasResult:!1};return this._s.scheduleRecursiveFuture(e,0,n)},e}(Wn);Vn.generateWithRelativeTime=function(t,e,n,r,i,o){return mn(o)||(o=$n),new ns(t,e,n,r,i,o)};var rs=function(t){function e(e,n,r){this.source=e,this._dt=n,this._s=r,t.call(this)}function n(t,e){var n=e[0],r=e[1],i=e[2];i.setDisposable(n.subscribe(r))}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new cn;return e.setDisposable(this._s.scheduleFuture([this.source,t,e],this._dt,n)),e},e}(Wn);qn.delaySubscription=function(t,e){return mn(e)||(e=$n),new rs(this,t,e)};var is=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new os(t,this))},e}(Wn),os=function(t){function e(e,n){this._o=e,this._s=n._s,this._d=n._d,this._q=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0&&t-this._q[0].interval>=this._d;)this._o.onNext(this._q.shift().value);this._o.onCompleted()},e}(Bn);qn.skipLastWithTime=function(t,e){return mn(e)||(e=$n),new is(this,t,e)};var ss=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return this.source.subscribe(new as(t,this._d,this._s))},e}(Wn),as=function(t){function e(e,n,r){this._o=e,this._d=n,this._s=r,this._q=[],t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=this._s.now();for(this._q.push({interval:e,value:t});this._q.length>0&&e-this._q[0].interval>=this._d;)this._q.shift()},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){for(var t=this._s.now();this._q.length>0;){var e=this._q.shift();t-e.interval<=this._d&&this._o.onNext(e.value)}this._o.onCompleted()},e}(Bn);qn.takeLastWithTime=function(t,e){return mn(e)||(e=$n),new ss(this,t,e)},qn.takeLastBufferWithTime=function(t,e){var n=this;return mn(e)||(e=$n),new Es(function(r){var i=[];return n.subscribe(function(n){var r=e.now();for(i.push({interval:r,value:n});i.length>0&&r-i[0].interval>=t;)i.shift()},function(t){r.onError(t)},function(){for(var n=e.now(),o=[];i.length>0;){var s=i.shift();n-s.interval<=t&&o.push(s.value)}r.onNext(o),r.onCompleted()})},n)};var us=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,t.call(this)}function n(t,e){e.onCompleted()}return Je(e,t),e.prototype.subscribeCore=function(t){return new ln(this._s.scheduleFuture(t,this._d,n),this.source.subscribe(t))},e}(Wn);qn.takeWithTime=function(t,e){return mn(e)||(e=$n),new us(this,t,e)};var cs=function(t){function e(e,n,r){this.source=e,this._d=n,this._s=r,this._open=!1,t.call(this)}function n(t,e){e._open=!0}return Je(e,t),e.prototype.subscribeCore=function(t){return new ln(this._s.scheduleFuture(this,this._d,n),this.source.subscribe(new ls(t,this)))},e}(Wn),ls=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.skipWithTime=function(t,e){return mn(e)||(e=$n),new cs(this,t,e)};var fs=function(t){function e(e,n,r){this.source=e,this._st=n,this._s=r,t.call(this)}function n(t,e){e._open=!0}return Je(e,t),e.prototype.subscribeCore=function(t){return this._open=!1,new ln(this._s.scheduleFuture(this,this._st,n),this.source.subscribe(new hs(t,this)))},e}(Wn),hs=function(t){function e(e,n){this._o=e,this._p=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){this._p._open&&this._o.onNext(t)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._o.onCompleted()},e}(Bn);qn.skipUntilWithTime=function(t,e){return mn(e)||(e=$n),new fs(this,t,e)},qn.takeUntilWithTime=function(t,e){mn(e)||(e=$n);var n=this;return new Es(function(r){return new ln(e.scheduleFuture(r,t,function(t,e){e.onCompleted()}),n.subscribe(r))},n)},qn.throttle=function(t,e){mn(e)||(e=$n);var n=+t||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Es(function(t){var i=0;return r.subscribe(function(r){var o=e.now();(0===i||o-i>=n)&&(i=o,t.onNext(r))},function(e){t.onError(e)},function(){t.onCompleted()})},r)};var ds=function(t){function e(e,n){this._o=e,this._xform=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){var e=Qt(this._xform["@@transducer/step"]).call(this._xform,this._o,t);e===Yt&&this._o.onError(e.e)},e.prototype.error=function(t){this._o.onError(t)},e.prototype.completed=function(){this._xform["@@transducer/result"](this._o)},e}(Bn);qn.transduce=function(t){var e=this;return new Es(function(n){var r=t(Tt(n));return e.subscribe(new ds(n,r))},e)};var ps=function(t){function e(e){this.source=e,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){var e=new un,n=new Ze,r={hasCurrent:!1,isStopped:!1,o:t,g:n};return n.add(e),e.setDisposable(this.source.subscribe(new vs(r))),n},e}(Wn),vs=function(t){function e(e){this._s=e,t.call(this)}function n(e,n){this._s=e,this._i=n,t.call(this)}return Je(e,t),e.prototype.next=function(t){if(!this._s.hasCurrent){this._s.hasCurrent=!0,Xt(t)&&(t=ir(t));var e=new un;this._s.g.add(e),e.setDisposable(t.subscribe(new n(this._s,e)))}},e.prototype.error=function(t){this._s.o.onError(t)},e.prototype.completed=function(){this._s.isStopped=!0,!this._s.hasCurrent&&1===this._s.g.length&&this._s.o.onCompleted()},Je(n,t),n.prototype.next=function(t){this._s.o.onNext(t)},n.prototype.error=function(t){this._s.o.onError(t)},n.prototype.completed=function(){this._s.g.remove(this._i),this._s.hasCurrent=!1,this._s.isStopped&&1===this._s.g.length&&this._s.o.onCompleted()},e}(Bn);qn.switchFirst=function(){return new ps(this)},qn.flatMapFirst=qn.exhaustMap=function(t,e,n){return new Kn(this,t,e,n).switchFirst()},qn.flatMapWithMaxConcurrent=qn.flatMapMaxConcurrent=function(t,e,n,r){return new Kn(this,e,n,r).merge(t)};var ms=Ut.VirtualTimeScheduler=function(t){function e(e,n){this.clock=e,this.comparer=n,this.isEnabled=!1,this.queue=new Ye(1024),t.call(this)}Je(e,t);var n=e.prototype;return n.now=function(){return this.toAbsoluteTime(this.clock)},n.schedule=function(t,e){return this.scheduleAbsolute(t,this.clock,e)},n.scheduleFuture=function(t,e,n){var r=e instanceof Date?this.toRelativeTime(e-this.now()):this.toRelativeTime(e);return this.scheduleRelative(t,r,n)},n.add=ce,n.toAbsoluteTime=ce,n.toRelativeTime=ce,n.schedulePeriodic=function(t,e,n){var r=new yn(this,t,e,n);return r.start()},n.scheduleRelative=function(t,e,n){var r=this.add(this.clock,e);return this.scheduleAbsolute(t,r,n)},n.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var t=this.getNext();null!==t?(this.comparer(t.dueTime,this.clock)>0&&(this.clock=t.dueTime),t.invoke()):this.isEnabled=!1}while(this.isEnabled)}},n.stop=function(){this.isEnabled=!1},n.advanceTo=function(t){var e=this.comparer(this.clock,t);if(this.comparer(this.clock,t)>0)throw new se;if(0!==e&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,t)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=t}},n.advanceBy=function(t){var e=this.add(this.clock,t),n=this.comparer(this.clock,e);if(n>0)throw new se;0!==n&&this.advanceTo(e)},n.sleep=function(t){var e=this.add(this.clock,t);if(this.comparer(this.clock,e)>=0)throw new se;this.clock=e},n.getNext=function(){for(;this.queue.length>0;){var t=this.queue.peek();if(!t.isCancelled())return t;this.queue.dequeue()}return null},n.scheduleAbsolute=function(t,e,n){
function r(t,e){return i.queue.remove(o),n(t,e)}var i=this,o=new dn(this,t,r,e,this.comparer);return this.queue.enqueue(o),o.disposable},e}(pn);Ut.HistoricalScheduler=function(t){function e(e,n){var r=null==e?0:e,i=n||Kt;t.call(this,r,i)}Je(e,t);var n=e.prototype;return n.add=function(t,e){return t+e},n.toAbsoluteTime=function(t){return new Date(t).getTime()},n.toRelativeTime=function(t){return t},e}(Ut.VirtualTimeScheduler),Nt.prototype.equals=function(t){return t===this||null!=t&&("N"===t.kind&&this.predicate(t.value))},Ot.prototype.equals=function(t){return t===this||null!=t&&("E"===t.kind&&this.predicate(t.error))};var gs=Ut.ReactiveTest={created:100,subscribed:200,disposed:1e3,onNext:function(t,e){return"function"==typeof e?new bs(t,new Nt(e)):new bs(t,Nn.createOnNext(e))},onError:function(t,e){return"function"==typeof e?new bs(t,new Ot(e)):new bs(t,Nn.createOnError(e))},onCompleted:function(t){return new bs(t,Nn.createOnCompleted())},subscribe:function(t,e){return new ys(t,e)}},bs=Ut.Recorded=function(t,e,n){this.time=t,this.value=e,this.comparer=n||Wt};bs.prototype.equals=function(t){return this.time===t.time&&this.comparer(this.value,t.value)},bs.prototype.toString=function(){return this.value.toString()+"@"+this.time};var ys=Ut.Subscription=function(t,e){this.subscribe=t,this.unsubscribe=e||Number.MAX_VALUE};ys.prototype.equals=function(t){return this.subscribe===t.subscribe&&this.unsubscribe===t.unsubscribe},ys.prototype.toString=function(){return"("+this.subscribe+", "+(this.unsubscribe===Number.MAX_VALUE?"Infinite":this.unsubscribe)+")"};var _s=Ut.MockDisposable=function(t){this.scheduler=t,this.disposes=[],this.disposes.push(this.scheduler.clock)};_s.prototype.dispose=function(){this.disposes.push(this.scheduler.clock)};var ws=function(t){function e(e){t.call(this),this.scheduler=e,this.messages=[]}Je(e,t);var n=e.prototype;return n.onNext=function(t){this.messages.push(new bs(this.scheduler.clock,Nn.createOnNext(t)))},n.onError=function(t){this.messages.push(new bs(this.scheduler.clock,Nn.createOnError(t)))},n.onCompleted=function(){this.messages.push(new bs(this.scheduler.clock,Nn.createOnCompleted()))},e}(jn);It.prototype.then=function(e,n){var r=this;this.subscriptions.push(new ys(this.scheduler.clock));var i,o=this.subscriptions.length-1,s=Ut.Observer.create(function(n){var a=e(n);if(a&&"function"==typeof a.then)i=a;else{var u=r.scheduler.clock;i=new It(r.scheduler,[Ut.ReactiveTest.onNext(u,t),Ut.ReactiveTest.onCompleted(u)])}var c=r.observers.indexOf(s);r.observers.splice(c,1),r.subscriptions[o]=new ys(r.subscriptions[o].subscribe,r.scheduler.clock)},function(t){n(t);var e=r.observers.indexOf(s);r.observers.splice(e,1),r.subscriptions[o]=new ys(r.subscriptions[o].subscribe,r.scheduler.clock)});return this.observers.push(s),i||new It(this.scheduler,this.messages)};var Ss=function(t){function e(e,n){t.call(this);var r,i,o=this;this.scheduler=e,this.messages=n,this.subscriptions=[],this.observers=[];for(var s=0,a=this.messages.length;a>s;s++)r=this.messages[s],i=r.value,function(t){e.scheduleAbsolute(null,r.time,function(){for(var e=o.observers.slice(0),n=0,r=e.length;r>n;n++)t.accept(e[n]);return rn})}(i)}return Je(e,t),e.prototype._subscribe=function(t){var e=this;this.observers.push(t),this.subscriptions.push(new ys(this.scheduler.clock));var n=this.subscriptions.length-1;return nn(function(){var r=e.observers.indexOf(t);e.observers.splice(r,1),e.subscriptions[n]=new ys(e.subscriptions[n].subscribe,e.scheduler.clock)})},e}(Vn),xs=function(t){function e(e,n){t.call(this),this.scheduler=e,this.messages=n,this.subscriptions=[]}return Je(e,t),e.prototype._subscribe=function(t){var e,n,r=this;this.subscriptions.push(new ys(this.scheduler.clock));for(var i=this.subscriptions.length-1,o=new Ze,s=0,a=this.messages.length;a>s;s++)e=this.messages[s],n=e.value,function(n){o.add(r.scheduler.scheduleRelative(null,e.time,function(){return n.accept(t),rn}))}(n);return nn(function(){r.subscriptions[i]=new ys(r.subscriptions[i].subscribe,r.scheduler.clock),o.dispose()})},e}(Vn);Ut.TestScheduler=function(t){function e(t,e){return t>e?1:e>t?-1:0}function n(){t.call(this,0,e)}return Je(n,t),n.prototype.scheduleAbsolute=function(e,n,r){return n<=this.clock&&(n=this.clock+1),t.prototype.scheduleAbsolute.call(this,e,n,r)},n.prototype.add=function(t,e){return t+e},n.prototype.toAbsoluteTime=function(t){return new Date(t).getTime()},n.prototype.toRelativeTime=function(t){return t},n.prototype.startScheduler=function(t,e){e||(e={}),null==e.created&&(e.created=gs.created),null==e.subscribed&&(e.subscribed=gs.subscribed),null==e.disposed&&(e.disposed=gs.disposed);var n,r,i=this.createObserver();return this.scheduleAbsolute(null,e.created,function(){return n=t(),rn}),this.scheduleAbsolute(null,e.subscribed,function(){return r=n.subscribe(i),rn}),this.scheduleAbsolute(null,e.disposed,function(){return r.dispose(),rn}),this.start(),i},n.prototype.createHotObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new Ss(this,t)},n.prototype.createColdObservable=function(){var t,e=arguments.length;if(Array.isArray(arguments[0]))t=arguments[0];else{t=new Array(e);for(var n=0;e>n;n++)t[n]=arguments[n]}return new xs(this,t)},n.prototype.createResolvedPromise=function(t,e){return new It(this,[Ut.ReactiveTest.onNext(t,e),Ut.ReactiveTest.onCompleted(t)])},n.prototype.createRejectedPromise=function(t,e){return new It(this,[Ut.ReactiveTest.onError(t,e)])},n.prototype.createObserver=function(){return new ws(this)},n}(ms);var Es=Ut.AnonymousObservable=function(t){function e(t){return t&&Gt(t.dispose)?t:Gt(t)?nn(t):rn}function n(t,n){var r=n[0],o=n[1],s=Qt(o.__subscribe).call(o,r);s!==Yt||r.fail(Yt.e)||i(Yt.e),r.setDisposable(e(s))}function r(e,n){this.source=n,this.__subscribe=e,t.call(this)}return Je(r,t),r.prototype._subscribe=function(t){var e=new Cs(t),r=[e,this];return xn.scheduleRequired()?xn.schedule(r,n):n(null,r),e},r}(Vn),Cs=function(t){function e(e){t.call(this),this.observer=e,this.m=new un}Je(e,t);var n=e.prototype;return n.next=function(t){var e=Qt(this.observer.onNext).call(this.observer,t);e===Yt&&(this.dispose(),i(e.e))},n.error=function(t){var e=Qt(this.observer.onError).call(this.observer,t);this.dispose(),e===Yt&&i(e.e)},n.completed=function(){var t=Qt(this.observer.onCompleted).call(this.observer);this.dispose(),t===Yt&&i(t.e)},n.setDisposable=function(t){this.m.setDisposable(t)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){t.prototype.dispose.call(this),this.m.dispose()},e}(Bn),ks=function(t){function e(e,n){this._m=e,this._u=n,t.call(this)}return Je(e,t),e.prototype.subscribeCore=function(t){return new ln(this._m.getDisposable(),this._u.subscribe(t))},e}(Wn),As=function(t){function e(e,n,r){t.call(this),this.key=e,this.underlyingObservable=r?new ks(r,n):n}return Je(e,t),e.prototype._subscribe=function(t){return this.underlyingObservable.subscribe(t)},e}(Vn),$s=Ut.Subject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return Je(e,t),Xe(e.prototype,jn.prototype,{_subscribe:function(t){return sn(this),this.isStopped?this.hasError?(t.onError(this.error),rn):(t.onCompleted(),rn):(this.observers.push(t),new To(this,t))},hasObservers:function(){return sn(this),this.observers.length>0},onCompleted:function(){if(sn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=n(this.observers),r=e.length;r>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(sn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;for(var e=0,r=n(this.observers),i=r.length;i>e;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(sn(this),!this.isStopped)for(var e=0,r=n(this.observers),i=r.length;i>e;e++)r[e].onNext(t)},dispose:function(){this.isDisposed=!0,this.observers=null}}),e.create=function(t,e){return new Is(t,e)},e}(Vn),Ts=Ut.AsyncSubject=function(t){function e(){t.call(this),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return Je(e,t),Xe(e.prototype,jn.prototype,{_subscribe:function(t){return sn(this),this.isStopped?(this.hasError?t.onError(this.error):this.hasValue?(t.onNext(this.value),t.onCompleted()):t.onCompleted(),rn):(this.observers.push(t),new To(this,t))},hasObservers:function(){return sn(this),this.observers.length>0},onCompleted:function(){var t,e;if(sn(this),!this.isStopped){this.isStopped=!0;var r=n(this.observers),e=r.length;if(this.hasValue)for(t=0;e>t;t++){var i=r[t];i.onNext(this.value),i.onCompleted()}else for(t=0;e>t;t++)r[t].onCompleted();this.observers.length=0}},onError:function(t){if(sn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=n(this.observers),i=r.length;i>e;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){sn(this),this.isStopped||(this.value=t,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.error=null,this.value=null}}),e}(Vn),Ns=Ut.BehaviorSubject=function(t){function e(e){t.call(this),this.value=e,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return Je(e,t),Xe(e.prototype,jn.prototype,{_subscribe:function(t){return sn(this),this.isStopped?(this.hasError?t.onError(this.error):t.onCompleted(),rn):(this.observers.push(t),t.onNext(this.value),new To(this,t))},getValue:function(){return sn(this),this.hasError&&i(this.error),this.value},hasObservers:function(){return sn(this),this.observers.length>0},onCompleted:function(){if(sn(this),!this.isStopped){this.isStopped=!0;for(var t=0,e=n(this.observers),r=e.length;r>t;t++)e[t].onCompleted();this.observers.length=0}},onError:function(t){if(sn(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=t;for(var e=0,r=n(this.observers),i=r.length;i>e;e++)r[e].onError(t);this.observers.length=0}},onNext:function(t){if(sn(this),!this.isStopped){this.value=t;for(var e=0,r=n(this.observers),i=r.length;i>e;e++)r[e].onNext(t)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.error=null}}),e}(Vn),Os=Ut.ReplaySubject=function(t){function e(t,e){return nn(function(){e.dispose(),!t.isDisposed&&t.observers.splice(t.observers.indexOf(e),1)})}function r(e,n,r){this.bufferSize=null==e?i:e,this.windowSize=null==n?i:n,this.scheduler=r||xn,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,t.call(this)}var i=Math.pow(2,53)-1;return Je(r,t),Xe(r.prototype,jn.prototype,{_subscribe:function(t){sn(this);var n=new Hn(this.scheduler,t),r=e(this,n);this._trim(this.scheduler.now()),this.observers.push(n);for(var i=0,o=this.q.length;o>i;i++)n.onNext(this.q[i].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r},hasObservers:function(){return sn(this),this.observers.length>0},_trim:function(t){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&t-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(t){if(sn(this),!this.isStopped){var e=this.scheduler.now();this.q.push({interval:e,value:t}),this._trim(e);for(var r=0,i=n(this.observers),o=i.length;o>r;r++){var s=i[r];s.onNext(t),s.ensureActive()}}},onError:function(t){if(sn(this),!this.isStopped){this.isStopped=!0,this.error=t,this.hasError=!0;var e=this.scheduler.now();this._trim(e);for(var r=0,i=n(this.observers),o=i.length;o>r;r++){var s=i[r];s.onError(t),s.ensureActive()}this.observers.length=0}},onCompleted:function(){if(sn(this),!this.isStopped){this.isStopped=!0;var t=this.scheduler.now();this._trim(t);for(var e=0,r=n(this.observers),i=r.length;i>e;e++){var o=r[e];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(Vn),Is=Ut.AnonymousSubject=function(t){function e(e,n){this.observer=e,this.observable=n,t.call(this)}return Je(e,t),Xe(e.prototype,jn.prototype,{_subscribe:function(t){return this.observable.subscribe(t)},onCompleted:function(){this.observer.onCompleted()},onError:function(t){this.observer.onError(t)},onNext:function(t){this.observer.onNext(t)}}),e}(Vn);Ut.Pauser=function(t){function e(){t.call(this)}return Je(e,t),e.prototype.pause=function(){this.onNext(!1)},e.prototype.resume=function(){this.onNext(!0)},e}($s),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Ft.Rx=Ut,define(function(){return Ut})):Rt&&Dt?qt?(Dt.exports=Ut).Rx=Ut:Rt.Rx=Ut:Ft.Rx=Ut;var Ms=c()}.call(this),function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};e[s][0].call(l.exports,function(t){var n=e[s][1][t];return i(n?n:t)},l,l.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e,n){"use strict";var r=t("lodash"),i={dataKeyToInput:function(t,e){return"function"==typeof e?e(t,this.context):r.get(t,e,null)},dataKeyArrayToInput:function(t,e){for(var n=e.length,r=0;r<n;++r){var i=e[r],o=this.dataKeyToInput(t,i);if(null!==o&&void 0!==o)return o}return null},evaluateDataKey:function(t,e){return Array.isArray(e)?this.dataKeyArrayToInput(t,e):this.dataKeyToInput(t,e)},evaluateValue:function(t,e){var n=typeof t;return"function"===n?t(e):"object"===n?this.run(t,e):t},content:function(t,e){var n=this,i=t.content,o=!1,s=Object.keys(i),a=s.reduce(function(i,s){var a=t.content[s],u=n.evaluateValue(a,e);return null!==u&&(t.ignoreDeep?i[s]=u:r.set(i,s,u),o=!0),i},{});return o?a:null},arrayContent:function(t,e){var n=this,r=t.arrayContent,i=r.reduce(function(t,r){var i=n.evaluateValue(r,e);return null!==i&&(Array.isArray(i)?Array.prototype.push.apply(t,i):t.push(i)),t},[]);return i.length?i:null},assign:function(t,e){var n=t.assign,i=this,o=n.reduce(function(t,n){var r=i.evaluateValue(n,e);return null!==r&&"object"==typeof r&&t.push(r),t},[{}]);if(1===o.length)return null;var s=r.assign.apply(null,o);return s},firstOf:function(t,e){for(var n=t.firstOf,r=0;r<n.length;++r){var i=n[r],o=this.evaluateValue(i,e);if(null!==o)return o}return null},constant:function(t,e){return t.constant},value:function(t,e){var n=t.value;return this.evaluateValue(n,e)},runForArray:function(t,e){var n=!1,r=this.actionKeys.reduce(function(e,r){return t[r]&&(e[r]=t[r],n=!0),e},{});if(!n)return e;var i=this,o=e.reduce(function(t,e){var n=i.run(r,e);return null!==n&&t.push(n),t},[]);return o.length>0?o:null},evaluateExistsWhen:function(t,e){var n=t.existsWhen;return!n||(Array.isArray(n)?n.every(function(t){return t(e)}):n(e))},evaluateExistsUnless:function(t,e){var n=t.existsUnless;return!!n&&(Array.isArray(n)?n.every(function(t){return t(e)}):n(e))},run:function(t,e){if(!this.evaluateExistsWhen(t,e))return null;if(this.evaluateExistsUnless(t,e))return null;if(null!==e&&void 0!==e&&t.dataKey&&(e=this.evaluateDataKey(e,t.dataKey)),null!==e&&t.dataTransform&&(e=t.dataTransform(e,this.context)),Array.isArray(e)){if(!t.single){var n=this.runForArray(t,e);return null===n&&null!==t["default"]&&void 0!==t["default"]&&(n=t["default"]),n}e=e[0]}var r=e;if(null!==e)for(var i=0;i<this.actionKeys.length;++i){var o=this.actionKeys[i];if(t.hasOwnProperty(o)){r=this[o](t,e);break}}return null===r&&null!==t["default"]&&void 0!==t["default"]&&(r=t["default"]),null!==r&&t.multiple&&(r=[r]),r},actionKeys:["content","value","assign","firstOf","constant","arrayContent"],context:{}};window.jsonapter={},window.jsonapter.instance=function(t,e){var n=Object.create(i);return t&&r.assign(n,t),e&&(n.actionKeys=n.actionKeys.concat(e)),n}},{lodash:2}],2:[function(t,e,n){(function(t){(function(){function r(t,e){if(t!==e){var n=null===t,r=t===C,i=t===t,o=null===e,s=e===C,a=e===e;if(t>e&&!o||!i||n&&!s&&a||r&&a)return 1;if(t<e&&!n||!a||o&&!r&&i||s&&i)return-1}return 0}function i(t,e,n){for(var r=t.length,i=n?r:-1;n?i--:++i<r;)if(e(t[i],i,t))return i;return-1}function o(t,e,n){if(e!==e)return m(t,n);for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function s(t){return"function"==typeof t||!1}function a(t){return null==t?"":t+""}function u(t,e){for(var n=-1,r=t.length;++n<r&&e.indexOf(t.charAt(n))>-1;);return n}function c(t,e){for(var n=t.length;n--&&e.indexOf(t.charAt(n))>-1;);return n}function l(t,e){return r(t.criteria,e.criteria)||t.index-e.index}function f(t,e,n){for(var i=-1,o=t.criteria,s=e.criteria,a=o.length,u=n.length;++i<a;){var c=r(o[i],s[i]);if(c){if(i>=u)return c;var l=n[i];return c*("asc"===l||l===!0?1:-1)}}return t.index-e.index}function h(t){return zt[t]}function d(t){return Vt[t]}function p(t,e,n){return e?t=Jt[t]:n&&(t=Xt[t]),"\\"+t}function v(t){return"\\"+Xt[t]}function m(t,e,n){for(var r=t.length,i=e+(n?0:-1);n?i--:++i<r;){var o=t[i];if(o!==o)return i}return-1}function g(t){return!!t&&"object"==typeof t}function b(t){return t<=160&&t>=9&&t<=13||32==t||160==t||5760==t||6158==t||t>=8192&&(t<=8202||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function y(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;)t[n]===e&&(t[n]=z,o[++i]=n);return o}function _(t,e){for(var n,r=-1,i=t.length,o=-1,s=[];++r<i;){var a=t[r],u=e?e(a,r,t):a;r&&n===u||(n=u,s[++o]=a)}return s}function w(t){for(var e=-1,n=t.length;++e<n&&b(t.charCodeAt(e)););return e}function S(t){for(var e=t.length;e--&&b(t.charCodeAt(e)););return e}function x(t){return Wt[t]}function E(t){function e(t){if(g(t)&&!Ta(t)&&!(t instanceof Y)){if(t instanceof b)return t;if(es.call(t,"__chain__")&&es.call(t,"__wrapped__"))return dr(t)}return new b(t)}function n(){}function b(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Y(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$s,this.__views__=[]}function et(){var t=new Y(this.__wrapped__);return t.__actions__=te(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=te(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=te(this.__views__),t}function rt(){if(this.__filtered__){var t=new Y(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function zt(){var t=this.__wrapped__.value(),e=this.__dir__,n=Ta(t),r=e<0,i=n?t.length:0,o=Wn(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=r?a:s-1,l=this.__iteratees__,f=l.length,h=0,d=xs(u,this.__takeCount__);if(!n||i<B||i==u&&d==u)return nn(r&&n?t.reverse():t,this.__actions__);var p=[];t:for(;u--&&h<d;){c+=e;for(var v=-1,m=t[c];++v<f;){var g=l[v],b=g.iteratee,y=g.type,_=b(m);if(y==U)m=_;else if(!_){if(y==F)continue t;break t}}p[h++]=m}return p}function Vt(){this.__data__={}}function Wt(t){return this.has(t)&&delete this.__data__[t]}function Kt(t){return"__proto__"==t?C:this.__data__[t]}function Jt(t){return"__proto__"!=t&&es.call(this.__data__,t)}function Xt(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this}function Gt(t){var e=t?t.length:0;for(this.data={hash:gs(null),set:new fs};e--;)this.push(t[e])}function Yt(t,e){var n=t.data,r="string"==typeof e||Ri(e)?n.set.has(e):n.hash[e];return r?0:-1}function Qt(t){var e=this.data;"string"==typeof t||Ri(t)?e.set.add(t):e.hash[t]=!0}function Zt(t,e){for(var n=-1,r=t.length,i=-1,o=e.length,s=Fo(r+o);++n<r;)s[n]=t[n];for(;++i<o;)s[n++]=e[i];return s}function te(t,e){var n=-1,r=t.length;for(e||(e=Fo(r));++n<r;)e[n]=t[n];return e}function ee(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function ie(t,e){for(var n=t.length;n--&&e(t[n],n,t)!==!1;);return t}function oe(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function se(t,e,n,r){for(var i=-1,o=t.length,s=r,a=s;++i<o;){var u=t[i],c=+e(u);n(c,s)&&(s=c,a=u)}return a}function ae(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[++i]=s)}return o}function ue(t,e){for(var n=-1,r=t.length,i=Fo(r);++n<r;)i[n]=e(t[n],n,t);return i}function ce(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function le(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function fe(t,e,n,r){var i=t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function he(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function de(t,e){for(var n=t.length,r=0;n--;)r+=+e(t[n])||0;return r}function pe(t,e){return t===C?e:t}function ve(t,e,n,r){return t!==C&&es.call(r,n)?t:e}function me(t,e,n){for(var r=-1,i=Ba(e),o=i.length;++r<o;){var s=i[r],a=t[s],u=n(a,e[s],s,t,e);(u===u?u===a:a!==a)&&(a!==C||s in t)||(t[s]=u)}return t}function ge(t,e){return null==e?t:ye(e,Ba(e),t)}function be(t,e){for(var n=-1,r=null==t,i=!r&&Yn(t),o=i?t.length:0,s=e.length,a=Fo(s);++n<s;){var u=e[n];i?a[n]=Qn(u,o)?t[u]:C:a[n]=r?C:t[u]}return a}function ye(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}function _e(t,e,n){var r=typeof t;return"function"==r?e===C?t:sn(t,e,n):null==t?$o:"object"==r?qe(t):e===C?Ro(t):Be(t,e)}function we(t,e,n,r,i,o,s){var a;if(n&&(a=i?n(t,r,i):n(t)),a!==C)return a;if(!Ri(t))return t;var u=Ta(t);if(u){if(a=Kn(t),!e)return te(t,a)}else{var c=rs.call(t),l=c==G;if(c!=Z&&c!=V&&(!l||i))return Ht[c]?Xn(t,c,e):i?t:{};if(a=Jn(l?{}:t),!e)return ge(a,t)}o||(o=[]),s||(s=[]);for(var f=o.length;f--;)if(o[f]==t)return s[f];return o.push(t),s.push(a),(u?ee:Oe)(t,function(r,i){a[i]=we(r,e,n,i,t,o,s)}),a}function Se(t,e,n){if("function"!=typeof t)throw new Go(H);return hs(function(){t.apply(C,n)},e)}function xe(t,e){var n=t?t.length:0,r=[];if(!n)return r;var i=-1,s=Hn(),a=s==o,u=a&&e.length>=B?vn(e):null,c=e.length;u&&(s=Yt,a=!1,e=u);t:for(;++i<n;){var l=t[i];if(a&&l===l){for(var f=c;f--;)if(e[f]===l)continue t;r.push(l)}else s(e,l,0)<0&&r.push(l)}return r}function Ee(t,e){var n=!0;return Ls(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ce(t,e,n,r){var i=r,o=i;return Ls(t,function(t,s,a){var u=+e(t,s,a);(n(u,i)||u===r&&u===o)&&(i=u,o=t)}),o}function ke(t,e,n,r){var i=t.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===C||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)t[n++]=e;return t}function Ae(t,e){var n=[];return Ls(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function $e(t,e,n,r){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=r?n:t,!1}),i}function Te(t,e,n,r){r||(r=[]);for(var i=-1,o=t.length;++i<o;){var s=t[i];g(s)&&Yn(s)&&(n||Ta(s)||Ci(s))?e?Te(s,e,n,r):ce(r,s):n||(r[r.length]=s)}return r}function Ne(t,e){return Ps(t,e,to)}function Oe(t,e){return Ps(t,e,Ba)}function Ie(t,e){return qs(t,e,Ba)}function Me(t,e){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var s=e[n];Mi(t[s])&&(o[++i]=s)}return o}function Re(t,e,n){if(null!=t){n!==C&&n in fr(t)&&(e=[n]);for(var r=0,i=e.length;null!=t&&r<i;)t=t[e[r++]];return r&&r==i?t:C}}function De(t,e,n,r,i,o){return t===e||(null==t||null==e||!Ri(t)&&!g(e)?t!==t&&e!==e:Le(t,e,De,n,r,i,o))}function Le(t,e,n,r,i,o,s){var a=Ta(t),u=Ta(e),c=W,l=W;a||(c=rs.call(t),c==V?c=Z:c!=Z&&(a=Hi(t))),u||(l=rs.call(e),l==V?l=Z:l!=Z&&(u=Hi(e)));var f=c==Z,h=l==Z,d=c==l;if(d&&!a&&!f)return qn(t,e,c);if(!i){var p=f&&es.call(t,"__wrapped__"),v=h&&es.call(e,"__wrapped__");if(p||v)return n(p?t.value():t,v?e.value():e,r,i,o,s)}if(!d)return!1;o||(o=[]),s||(s=[]);for(var m=o.length;m--;)if(o[m]==t)return s[m]==e;o.push(t),s.push(e);var g=(a?Pn:Bn)(t,e,n,r,i,o,s);return o.pop(),s.pop(),g}function je(t,e,n){var r=e.length,i=r,o=!n;if(null==t)return!i;for(t=fr(t);r--;){var s=e[r];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<i;){s=e[r];var a=s[0],u=t[a],c=s[1];if(o&&s[2]){if(u===C&&!(a in t))return!1}else{var l=n?n(u,c,a):C;if(!(l===C?De(c,u,n,!0):l))return!1}}return!0}function Pe(t,e){var n=-1,r=Yn(t)?Fo(t.length):[];return Ls(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function qe(t){var e=zn(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&(t[n]===r&&(r!==C||n in fr(t)))}}return function(t){return je(t,e)}}function Be(t,e){var n=Ta(t),r=tr(t)&&rr(e),i=t+"";return t=hr(t),function(o){if(null==o)return!1;var s=i;if(o=fr(o),(n||!r)&&!(s in o)){if(o=1==t.length?o:Re(o,Je(t,0,-1)),null==o)return!1;s=kr(t),o=fr(o)}return o[s]===e?e!==C||s in o:De(e,o[s],C,!0)}}function Fe(t,e,n,r,i){if(!Ri(t))return t;var o=Yn(e)&&(Ta(e)||Hi(e)),s=o?C:Ba(e);return ee(s||e,function(a,u){if(s&&(u=a,a=e[u]),g(a))r||(r=[]),i||(i=[]),Ue(t,e,u,Fe,n,r,i);else{var c=t[u],l=n?n(c,a,u,t,e):C,f=l===C;f&&(l=a),l===C&&(!o||u in t)||!f&&(l===l?l===c:c!==c)||(t[u]=l)}}),t}function Ue(t,e,n,r,i,o,s){for(var a=o.length,u=e[n];a--;)if(o[a]==u)return void(t[n]=s[a]);var c=t[n],l=i?i(c,u,n,t,e):C,f=l===C;f&&(l=u,Yn(u)&&(Ta(u)||Hi(u))?l=Ta(c)?c:Yn(c)?te(c):[]:Bi(u)||Ci(u)?l=Ci(c)?Ji(c):Bi(c)?c:{}:f=!1),o.push(u),s.push(l),f?t[n]=r(l,u,i,o,s):(l===l?l!==c:c===c)&&(t[n]=l)}function He(t){return function(e){return null==e?C:e[t]}}function ze(t){var e=t+"";return t=hr(t),function(n){return Re(n,t,e)}}function Ve(t,e){for(var n=t?e.length:0;n--;){var r=e[n];if(r!=i&&Qn(r)){var i=r;ds.call(t,r,1)}}return t}function We(t,e){return t+bs(ks()*(e-t+1))}function Ke(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function Je(t,e,n){var r=-1,i=t.length;e=null==e?0:+e||0,e<0&&(e=-e>i?0:i+e),n=n===C||n>i?i:+n||0,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Fo(i);++r<i;)o[r]=t[r+e];return o}function Xe(t,e){var n;return Ls(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function Ge(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function Ye(t,e,n){var r=Fn(),i=-1;e=ue(e,function(t){return r(t)});var o=Pe(t,function(t){var n=ue(e,function(e){return e(t)});return{criteria:n,index:++i,value:t}});return Ge(o,function(t,e){return f(t,e,n)})}function Qe(t,e){var n=0;return Ls(t,function(t,r,i){n+=+e(t,r,i)||0}),n}function Ze(t,e){var n=-1,r=Hn(),i=t.length,s=r==o,a=s&&i>=B,u=a?vn():null,c=[];u?(r=Yt,s=!1):(a=!1,u=e?[]:c);t:for(;++n<i;){var l=t[n],f=e?e(l,n,t):l;if(s&&l===l){for(var h=u.length;h--;)if(u[h]===f)continue t;e&&u.push(f),c.push(l)}else r(u,f,0)<0&&((e||a)&&u.push(f),c.push(l))}return c}function tn(t,e){for(var n=-1,r=e.length,i=Fo(r);++n<r;)i[n]=t[e[n]];return i}function en(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?Je(t,r?0:o,r?o+1:i):Je(t,r?o+1:0,r?i:o)}function nn(t,e){var n=t;n instanceof Y&&(n=n.value());for(var r=-1,i=e.length;++r<i;){var o=e[r];n=o.func.apply(o.thisArg,ce([n],o.args))}return n}function rn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&i<=Os){for(;r<i;){var o=r+i>>>1,s=t[o];(n?s<=e:s<e)&&null!==s?r=o+1:i=o}return i}return on(t,e,$o,n)}function on(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,s=e!==e,a=null===e,u=e===C;i<o;){var c=bs((i+o)/2),l=n(t[c]),f=l!==C,h=l===l;if(s)var d=h||r;else d=a?h&&f&&(r||null!=l):u?h&&(r||f):null!=l&&(r?l<=e:l<e);d?i=c+1:o=c}return xs(o,Ns)}function sn(t,e,n){if("function"!=typeof t)return $o;if(e===C)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,s){return t.call(e,n,r,i,o,s)}}return function(){return t.apply(e,arguments)}}function an(t){var e=new ss(t.byteLength),n=new ps(e);return n.set(new ps(t)),e}function un(t,e,n){for(var r=n.length,i=-1,o=Ss(t.length-r,0),s=-1,a=e.length,u=Fo(a+o);++s<a;)u[s]=e[s];for(;++i<r;)u[n[i]]=t[i];for(;o--;)u[s++]=t[i++];return u}function cn(t,e,n){for(var r=-1,i=n.length,o=-1,s=Ss(t.length-i,0),a=-1,u=e.length,c=Fo(s+u);++o<s;)c[o]=t[o];for(var l=o;++a<u;)c[l+a]=e[a];for(;++r<i;)c[l+n[r]]=t[o++];return c}function ln(t,e){return function(n,r,i){var o=e?e():{};if(r=Fn(r,i,3),Ta(n))for(var s=-1,a=n.length;++s<a;){var u=n[s];t(o,u,r(u,s,n),n)}else Ls(n,function(e,n,i){t(o,e,r(e,n,i),i)});return o}}function fn(t){return gi(function(e,n){var r=-1,i=null==e?0:n.length,o=i>2?n[i-2]:C,s=i>2?n[2]:C,a=i>1?n[i-1]:C;for("function"==typeof o?(o=sn(o,a,5),i-=2):(o="function"==typeof a?a:C,i-=o?1:0),s&&Zn(n[0],n[1],s)&&(o=i<3?C:o,i=1);++r<i;){var u=n[r];u&&t(e,u,o)}return e})}function hn(t,e){return function(n,r){var i=n?Us(n):0;if(!nr(i))return t(n,r);for(var o=e?i:-1,s=fr(n);(e?o--:++o<i)&&r(s[o],o,s)!==!1;);return n}}function dn(t){return function(e,n,r){for(var i=fr(e),o=r(e),s=o.length,a=t?s:-1;t?a--:++a<s;){var u=o[a];if(n(i[u],u,i)===!1)break}return e}}function pn(t,e){function n(){var i=this&&this!==ne&&this instanceof n?r:t;return i.apply(e,arguments)}var r=gn(t);return n}function vn(t){return gs&&fs?new Gt(t):null}function mn(t){return function(e){for(var n=-1,r=Co(lo(e)),i=r.length,o="";++n<i;)o=t(o,r[n],n);return o}}function gn(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Ds(t.prototype),r=t.apply(n,e);return Ri(r)?r:n}}function bn(t){function e(n,r,i){i&&Zn(n,r,i)&&(r=C);var o=jn(n,t,C,C,C,C,C,r);return o.placeholder=e.placeholder,o}return e}function yn(t,e){return gi(function(n){var r=n[0];return null==r?r:(n.push(e),t.apply(C,n))})}function _n(t,e){return function(n,r,i){if(i&&Zn(n,r,i)&&(r=C),r=Fn(r,i,3),1==r.length){n=Ta(n)?n:lr(n);var o=se(n,r,t,e);if(!n.length||o!==e)return o}return Ce(n,r,t,e)}}function wn(t,e){return function(n,r,o){if(r=Fn(r,o,3),Ta(n)){var s=i(n,r,e);return s>-1?n[s]:C}return $e(n,r,t)}}function Sn(t){return function(e,n,r){return e&&e.length?(n=Fn(n,r,3),i(e,n,t)):-1}}function xn(t){return function(e,n,r){return n=Fn(n,r,3),$e(e,n,t,!0)}}function En(t){return function(){for(var e,n=arguments.length,r=t?n:-1,i=0,o=Fo(n);t?r--:++r<n;){var s=o[i++]=arguments[r];if("function"!=typeof s)throw new Go(H);!e&&b.prototype.thru&&"wrapper"==Un(s)&&(e=new b([],(!0)))}for(r=e?-1:n;++r<n;){s=o[r];var a=Un(s),u="wrapper"==a?Fs(s):C;e=u&&er(u[0])&&u[1]==(R|N|I|D)&&!u[4].length&&1==u[9]?e[Un(u[0])].apply(e,u[3]):1==s.length&&er(s)?e[a]():e.thru(s)}return function(){var t=arguments,r=t[0];if(e&&1==t.length&&Ta(r)&&r.length>=B)return e.plant(r).value();for(var i=0,s=n?o[i].apply(this,t):r;++i<n;)s=o[i].call(this,s);return s}}}function Cn(t,e){return function(n,r,i){return"function"==typeof r&&i===C&&Ta(n)?t(n,r):e(n,sn(r,i,3))}}function kn(t){return function(e,n,r){return"function"==typeof n&&r===C||(n=sn(n,r,3)),t(e,n,to)}}function An(t){return function(e,n,r){return"function"==typeof n&&r===C||(n=sn(n,r,3)),t(e,n)}}function $n(t){return function(e,n,r){var i={};return n=Fn(n,r,3),Oe(e,function(e,r,o){var s=n(e,r,o);r=t?s:r,e=t?e:s,i[r]=e}),i}}function Tn(t){return function(e,n,r){return e=a(e),(t?e:"")+Mn(e,n,r)+(t?"":e)}}function Nn(t){var e=gi(function(n,r){var i=y(r,e.placeholder);return jn(n,t,C,r,i)});return e}function On(t,e){return function(n,r,i,o){var s=arguments.length<3;return"function"==typeof r&&o===C&&Ta(n)?t(n,r,i,s):Ke(n,Fn(r,o,4),i,s,e)}}function In(t,e,n,r,i,o,s,a,u,c){function l(){for(var b=arguments.length,_=b,w=Fo(b);_--;)w[_]=arguments[_];if(r&&(w=un(w,r,i)),o&&(w=cn(w,o,s)),p||m){var S=l.placeholder,x=y(w,S);if(b-=x.length,b<c){var E=a?te(a):C,k=Ss(c-b,0),T=p?x:C,N=p?C:x,O=p?w:C,R=p?C:w;e|=p?I:M,e&=~(p?M:I),v||(e&=~(A|$));var D=[t,e,n,O,T,R,N,E,u,k],L=In.apply(C,D);return er(t)&&Hs(L,D),L.placeholder=S,L}}var j=h?n:this,P=d?j[t]:t;return a&&(w=ur(w,a)),f&&u<w.length&&(w.length=u),this&&this!==ne&&this instanceof l&&(P=g||gn(t)),P.apply(j,w)}var f=e&R,h=e&A,d=e&$,p=e&N,v=e&T,m=e&O,g=d?C:gn(t);return l}function Mn(t,e,n){var r=t.length;if(e=+e,r>=e||!_s(e))return"";var i=e-r;return n=null==n?" ":n+"",go(n,ms(i/n.length)).slice(0,i)}function Rn(t,e,n,r){function i(){for(var e=-1,a=arguments.length,u=-1,c=r.length,l=Fo(c+a);++u<c;)l[u]=r[u];for(;a--;)l[u++]=arguments[++e];var f=this&&this!==ne&&this instanceof i?s:t;return f.apply(o?n:this,l)}var o=e&A,s=gn(t);return i;
}function Dn(t){var e=Vo[t];return function(t,n){return n=n===C?0:+n||0,n?(n=cs(10,n),e(t*n)/n):e(t)}}function Ln(t){return function(e,n,r,i){var o=Fn(r);return null==r&&o===_e?rn(e,n,t):on(e,n,o(r,i,1),t)}}function jn(t,e,n,r,i,o,s,a){var u=e&$;if(!u&&"function"!=typeof t)throw new Go(H);var c=r?r.length:0;if(c||(e&=~(I|M),r=i=C),c-=i?i.length:0,e&M){var l=r,f=i;r=i=C}var h=u?C:Fs(t),d=[t,e,n,r,i,l,f,o,s,a];if(h&&(ir(d,h),e=d[1],a=d[9]),d[9]=null==a?u?0:t.length:Ss(a-c,0)||0,e==A)var p=pn(d[0],d[2]);else p=e!=I&&e!=(A|I)||d[4].length?In.apply(C,d):Rn.apply(C,d);var v=h?Bs:Hs;return v(p,d)}function Pn(t,e,n,r,i,o,s){var a=-1,u=t.length,c=e.length;if(u!=c&&!(i&&c>u))return!1;for(;++a<u;){var l=t[a],f=e[a],h=r?r(i?f:l,i?l:f,a):C;if(h!==C){if(h)continue;return!1}if(i){if(!he(e,function(t){return l===t||n(l,t,r,i,o,s)}))return!1}else if(l!==f&&!n(l,f,r,i,o,s))return!1}return!0}function qn(t,e,n){switch(n){case K:case J:return+t==+e;case X:return t.name==e.name&&t.message==e.message;case Q:return t!=+t?e!=+e:t==+e;case tt:case nt:return t==e+""}return!1}function Bn(t,e,n,r,i,o,s){var a=Ba(t),u=a.length,c=Ba(e),l=c.length;if(u!=l&&!i)return!1;for(var f=u;f--;){var h=a[f];if(!(i?h in e:es.call(e,h)))return!1}for(var d=i;++f<u;){h=a[f];var p=t[h],v=e[h],m=r?r(i?v:p,i?p:v,h):C;if(!(m===C?n(p,v,r,i,o,s):m))return!1;d||(d="constructor"==h)}if(!d){var g=t.constructor,b=e.constructor;if(g!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b))return!1}return!0}function Fn(t,n,r){var i=e.callback||ko;return i=i===ko?_e:i,r?i(t,n,r):i}function Un(t){for(var e=t.name,n=Rs[e],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function Hn(t,n,r){var i=e.indexOf||Er;return i=i===Er?o:i,t?i(t,n,r):i}function zn(t){for(var e=eo(t),n=e.length;n--;)e[n][2]=rr(e[n][1]);return e}function Vn(t,e){var n=null==t?C:t[e];return ji(n)?n:C}function Wn(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=xs(e,t+s);break;case"takeRight":t=Ss(t,e-s)}}return{start:t,end:e}}function Kn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&es.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Jn(t){var e=t.constructor;return"function"==typeof e&&e instanceof e||(e=Ko),new e}function Xn(t,e,n){var r=t.constructor;switch(e){case it:return an(t);case K:case J:return new r((+t));case ot:case st:case at:case ut:case ct:case lt:case ft:case ht:case dt:var i=t.buffer;return new r(n?an(i):i,t.byteOffset,t.length);case Q:case nt:return new r(t);case tt:var o=new r(t.source,It.exec(t));o.lastIndex=t.lastIndex}return o}function Gn(t,e,n){null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Re(t,Je(e,0,-1)),e=kr(e));var r=null==t?t:t[e];return null==r?C:r.apply(t,n)}function Yn(t){return null!=t&&nr(Us(t))}function Qn(t,e){return t="number"==typeof t||Dt.test(t)?+t:-1,e=null==e?Is:e,t>-1&&t%1==0&&t<e}function Zn(t,e,n){if(!Ri(n))return!1;var r=typeof e;if("number"==r?Yn(n)&&Qn(e,n.length):"string"==r&&e in n){var i=n[e];return t===t?t===i:i!==i}return!1}function tr(t,e){var n=typeof t;if("string"==n&&Ct.test(t)||"number"==n)return!0;if(Ta(t))return!1;var r=!Et.test(t);return r||null!=e&&t in fr(e)}function er(t){var n=Un(t);if(!(n in Y.prototype))return!1;var r=e[n];if(t===r)return!0;var i=Fs(r);return!!i&&t===i[0]}function nr(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Is}function rr(t){return t===t&&!Ri(t)}function ir(t,e){var n=t[1],r=e[1],i=n|r,o=i<R,s=r==R&&n==N||r==R&&n==D&&t[7].length<=e[8]||r==(R|D)&&n==N;if(!o&&!s)return t;r&A&&(t[2]=e[2],i|=n&A?0:T);var a=e[3];if(a){var u=t[3];t[3]=u?un(u,a,e[4]):te(a),t[4]=u?y(t[3],z):te(e[4])}return a=e[5],a&&(u=t[5],t[5]=u?cn(u,a,e[6]):te(a),t[6]=u?y(t[5],z):te(e[6])),a=e[7],a&&(t[7]=te(a)),r&R&&(t[8]=null==t[8]?e[8]:xs(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function or(t,e){return t===C?e:Na(t,e,or)}function sr(t,e){t=fr(t);for(var n=-1,r=e.length,i={};++n<r;){var o=e[n];o in t&&(i[o]=t[o])}return i}function ar(t,e){var n={};return Ne(t,function(t,r,i){e(t,r,i)&&(n[r]=t)}),n}function ur(t,e){for(var n=t.length,r=xs(e.length,n),i=te(t);r--;){var o=e[r];t[r]=Qn(o,n)?i[o]:C}return t}function cr(t){for(var e=to(t),n=e.length,r=n&&t.length,i=!!r&&nr(r)&&(Ta(t)||Ci(t)),o=-1,s=[];++o<n;){var a=e[o];(i&&Qn(a,r)||es.call(t,a))&&s.push(a)}return s}function lr(t){return null==t?[]:Yn(t)?Ri(t)?t:Ko(t):oo(t)}function fr(t){return Ri(t)?t:Ko(t)}function hr(t){if(Ta(t))return t;var e=[];return a(t).replace(kt,function(t,n,r,i){e.push(r?i.replace(Nt,"$1"):n||t)}),e}function dr(t){return t instanceof Y?t.clone():new b(t.__wrapped__,t.__chain__,te(t.__actions__))}function pr(t,e,n){e=(n?Zn(t,e,n):null==e)?1:Ss(bs(e)||1,1);for(var r=0,i=t?t.length:0,o=-1,s=Fo(ms(i/e));r<i;)s[++o]=Je(t,r,r+=e);return s}function vr(t){for(var e=-1,n=t?t.length:0,r=-1,i=[];++e<n;){var o=t[e];o&&(i[++r]=o)}return i}function mr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Je(t,e<0?0:e)):[]}function gr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Je(t,0,e<0?0:e)):[]}function br(t,e,n){return t&&t.length?en(t,Fn(e,n,3),!0,!0):[]}function yr(t,e,n){return t&&t.length?en(t,Fn(e,n,3),!0):[]}function _r(t,e,n,r){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&Zn(t,e,n)&&(n=0,r=i),ke(t,e,n,r)):[]}function wr(t){return t?t[0]:C}function Sr(t,e,n){var r=t?t.length:0;return n&&Zn(t,e,n)&&(e=!1),r?Te(t,e):[]}function xr(t){var e=t?t.length:0;return e?Te(t,!0):[]}function Er(t,e,n){var r=t?t.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Ss(r+n,0):n;else if(n){var i=rn(t,e);return i<r&&(e===e?e===t[i]:t[i]!==t[i])?i:-1}return o(t,e,n||0)}function Cr(t){return gr(t,1)}function kr(t){var e=t?t.length:0;return e?t[e-1]:C}function Ar(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Ss(r+n,0):xs(n||0,r-1))+1;else if(n){i=rn(t,e,!0)-1;var o=t[i];return(e===e?e===o:o!==o)?i:-1}if(e!==e)return m(t,i,!0);for(;i--;)if(t[i]===e)return i;return-1}function $r(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=Hn(),i=t.length;++n<i;)for(var o=0,s=t[n];(o=r(e,s,o))>-1;)ds.call(e,o,1);return e}function Tr(t,e,n){var r=[];if(!t||!t.length)return r;var i=-1,o=[],s=t.length;for(e=Fn(e,n,3);++i<s;){var a=t[i];e(a,i,t)&&(r.push(a),o.push(i))}return Ve(t,o),r}function Nr(t){return mr(t,1)}function Or(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&Zn(t,e,n)&&(e=0,n=r),Je(t,e,n)):[]}function Ir(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),Je(t,0,e<0?0:e)):[]}function Mr(t,e,n){var r=t?t.length:0;return r?((n?Zn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Je(t,e<0?0:e)):[]}function Rr(t,e,n){return t&&t.length?en(t,Fn(e,n,3),!1,!0):[]}function Dr(t,e,n){return t&&t.length?en(t,Fn(e,n,3)):[]}function Lr(t,e,n,r){var i=t?t.length:0;if(!i)return[];null!=e&&"boolean"!=typeof e&&(r=n,n=Zn(t,e,r)?C:e,e=!1);var s=Fn();return null==n&&s===_e||(n=s(n,r,3)),e&&Hn()==o?_(t,n):Ze(t,n)}function jr(t){if(!t||!t.length)return[];var e=-1,n=0;t=ae(t,function(t){if(Yn(t))return n=Ss(t.length,n),!0});for(var r=Fo(n);++e<n;)r[e]=ue(t,He(e));return r}function Pr(t,e,n){var r=t?t.length:0;if(!r)return[];var i=jr(t);return null==e?i:(e=sn(e,n,4),ue(i,function(t){return le(t,e,C,!0)}))}function qr(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Yn(n))var r=r?ce(xe(r,n),xe(n,r)):n}return r?Ze(r):[]}function Br(t,e){var n=-1,r=t?t.length:0,i={};for(!r||e||Ta(t[0])||(e=[]);++n<r;){var o=t[n];e?i[o]=e[n]:o&&(i[o[0]]=o[1])}return i}function Fr(t){var n=e(t);return n.__chain__=!0,n}function Ur(t,e,n){return e.call(n,t),t}function Hr(t,e,n){return e.call(n,t)}function zr(){return Fr(this)}function Vr(){return new b(this.value(),this.__chain__)}function Wr(t){for(var e,r=this;r instanceof n;){var i=dr(r);e?o.__wrapped__=i:e=i;var o=i;r=r.__wrapped__}return o.__wrapped__=t,e}function Kr(){var t=this.__wrapped__,e=function(t){return n&&n.__dir__<0?t:t.reverse()};if(t instanceof Y){var n=t;return this.__actions__.length&&(n=new Y(this)),n=n.reverse(),n.__actions__.push({func:Hr,args:[e],thisArg:C}),new b(n,this.__chain__)}return this.thru(e)}function Jr(){return this.value()+""}function Xr(){return nn(this.__wrapped__,this.__actions__)}function Gr(t,e,n){var r=Ta(t)?oe:Ee;return n&&Zn(t,e,n)&&(e=C),"function"==typeof e&&n===C||(e=Fn(e,n,3)),r(t,e)}function Yr(t,e,n){var r=Ta(t)?ae:Ae;return e=Fn(e,n,3),r(t,e)}function Qr(t,e){return ia(t,qe(e))}function Zr(t,e,n,r){var i=t?Us(t):0;return nr(i)||(t=oo(t),i=t.length),n="number"!=typeof n||r&&Zn(e,n,r)?0:n<0?Ss(i+n,0):n||0,"string"==typeof t||!Ta(t)&&Ui(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Hn(t,e,n)>-1}function ti(t,e,n){var r=Ta(t)?ue:Pe;return e=Fn(e,n,3),r(t,e)}function ei(t,e){return ti(t,Ro(e))}function ni(t,e,n){var r=Ta(t)?ae:Ae;return e=Fn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})}function ri(t,e,n){if(n?Zn(t,e,n):null==e){t=lr(t);var r=t.length;return r>0?t[We(0,r-1)]:C}var i=-1,o=Ki(t),r=o.length,s=r-1;for(e=xs(e<0?0:+e||0,r);++i<e;){var a=We(i,s),u=o[a];o[a]=o[i],o[i]=u}return o.length=e,o}function ii(t){return ri(t,$s)}function oi(t){var e=t?Us(t):0;return nr(e)?e:Ba(t).length}function si(t,e,n){var r=Ta(t)?he:Xe;return n&&Zn(t,e,n)&&(e=C),"function"==typeof e&&n===C||(e=Fn(e,n,3)),r(t,e)}function ai(t,e,n){if(null==t)return[];n&&Zn(t,e,n)&&(e=C);var r=-1;e=Fn(e,n,3);var i=Pe(t,function(t,n,i){return{criteria:e(t,n,i),index:++r,value:t}});return Ge(i,l)}function ui(t,e,n,r){return null==t?[]:(r&&Zn(e,n,r)&&(n=C),Ta(e)||(e=null==e?[]:[e]),Ta(n)||(n=null==n?[]:[n]),Ye(t,e,n))}function ci(t,e){return Yr(t,qe(e))}function li(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Go(H);var n=t;t=e,e=n}return t=_s(t=+t)?t:0,function(){if(--t<1)return e.apply(this,arguments)}}function fi(t,e,n){return n&&Zn(t,e,n)&&(e=C),e=t&&null==e?t.length:Ss(+e||0,0),jn(t,R,C,C,C,C,e)}function hi(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Go(H);var r=t;t=e,e=r}return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=C),n}}function di(t,e,n){function r(){d&&as(d),c&&as(c),v=0,c=d=p=C}function i(e,n){n&&as(n),c=d=p=C,e&&(v=va(),l=t.apply(h,u),d||c||(u=h=C))}function o(){var t=e-(va()-f);t<=0||t>e?i(p,c):d=hs(o,t)}function s(){i(g,d)}function a(){if(u=arguments,f=va(),h=this,p=g&&(d||!b),m===!1)var n=b&&!d;else{c||b||(v=f);var r=m-(f-v),i=r<=0||r>m;i?(c&&(c=as(c)),v=f,l=t.apply(h,u)):c||(c=hs(s,r))}return i&&d?d=as(d):d||e===m||(d=hs(o,e)),n&&(i=!0,l=t.apply(h,u)),!i||d||c||(u=h=C),l}var u,c,l,f,h,d,p,v=0,m=!1,g=!0;if("function"!=typeof t)throw new Go(H);if(e=e<0?0:+e||0,n===!0){var b=!0;g=!1}else Ri(n)&&(b=!!n.leading,m="maxWait"in n&&Ss(+n.maxWait||0,e),g="trailing"in n?!!n.trailing:g);return a.cancel=r,a}function pi(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new Go(H);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new pi.Cache,n}function vi(t){if("function"!=typeof t)throw new Go(H);return function(){return!t.apply(this,arguments)}}function mi(t){return hi(2,t)}function gi(t,e){if("function"!=typeof t)throw new Go(H);return e=Ss(e===C?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,i=Ss(n.length-e,0),o=Fo(i);++r<i;)o[r]=n[e+r];switch(e){case 0:return t.call(this,o);case 1:return t.call(this,n[0],o);case 2:return t.call(this,n[0],n[1],o)}var s=Fo(e+1);for(r=-1;++r<e;)s[r]=n[r];return s[e]=o,t.apply(this,s)}}function bi(t){if("function"!=typeof t)throw new Go(H);return function(e){return t.apply(this,e)}}function yi(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Go(H);return n===!1?r=!1:Ri(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),di(t,e,{leading:r,maxWait:+e,trailing:i})}function _i(t,e){return e=null==e?$o:e,jn(e,I,C,[t],[])}function wi(t,e,n,r){return e&&"boolean"!=typeof e&&Zn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),"function"==typeof n?we(t,e,sn(n,r,1)):we(t,e)}function Si(t,e,n){return"function"==typeof e?we(t,!0,sn(e,n,1)):we(t,!0)}function xi(t,e){return t>e}function Ei(t,e){return t>=e}function Ci(t){return g(t)&&Yn(t)&&es.call(t,"callee")&&!ls.call(t,"callee")}function ki(t){return t===!0||t===!1||g(t)&&rs.call(t)==K}function Ai(t){return g(t)&&rs.call(t)==J}function $i(t){return!!t&&1===t.nodeType&&g(t)&&!Bi(t)}function Ti(t){return null==t||(Yn(t)&&(Ta(t)||Ui(t)||Ci(t)||g(t)&&Mi(t.splice))?!t.length:!Ba(t).length)}function Ni(t,e,n,r){n="function"==typeof n?sn(n,r,3):C;var i=n?n(t,e):C;return i===C?De(t,e,n):!!i}function Oi(t){return g(t)&&"string"==typeof t.message&&rs.call(t)==X}function Ii(t){return"number"==typeof t&&_s(t)}function Mi(t){return Ri(t)&&rs.call(t)==G}function Ri(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Di(t,e,n,r){return n="function"==typeof n?sn(n,r,3):C,je(t,zn(e),n)}function Li(t){return qi(t)&&t!=+t}function ji(t){return null!=t&&(Mi(t)?os.test(ts.call(t)):g(t)&&Rt.test(t))}function Pi(t){return null===t}function qi(t){return"number"==typeof t||g(t)&&rs.call(t)==Q}function Bi(t){var e;if(!g(t)||rs.call(t)!=Z||Ci(t)||!es.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var n;return Ne(t,function(t,e){n=e}),n===C||es.call(t,n)}function Fi(t){return Ri(t)&&rs.call(t)==tt}function Ui(t){return"string"==typeof t||g(t)&&rs.call(t)==nt}function Hi(t){return g(t)&&nr(t.length)&&!!Ut[rs.call(t)]}function zi(t){return t===C}function Vi(t,e){return t<e}function Wi(t,e){return t<=e}function Ki(t){var e=t?Us(t):0;return nr(e)?e?te(t):[]:oo(t)}function Ji(t){return ye(t,to(t))}function Xi(t,e,n){var r=Ds(t);return n&&Zn(t,e,n)&&(e=C),e?ge(r,e):r}function Gi(t){return Me(t,to(t))}function Yi(t,e,n){var r=null==t?C:Re(t,hr(e),e+"");return r===C?n:r}function Qi(t,e){if(null==t)return!1;var n=es.call(t,e);if(!n&&!tr(e)){if(e=hr(e),t=1==e.length?t:Re(t,Je(e,0,-1)),null==t)return!1;e=kr(e),n=es.call(t,e)}return n||nr(t.length)&&Qn(e,t.length)&&(Ta(t)||Ci(t))}function Zi(t,e,n){n&&Zn(t,e,n)&&(e=C);for(var r=-1,i=Ba(t),o=i.length,s={};++r<o;){var a=i[r],u=t[a];e?es.call(s,u)?s[u].push(a):s[u]=[a]:s[u]=a}return s}function to(t){if(null==t)return[];Ri(t)||(t=Ko(t));var e=t.length;e=e&&nr(e)&&(Ta(t)||Ci(t))&&e||0;for(var n=t.constructor,r=-1,i="function"==typeof n&&n.prototype===t,o=Fo(e),s=e>0;++r<e;)o[r]=r+"";for(var a in t)s&&Qn(a,e)||"constructor"==a&&(i||!es.call(t,a))||o.push(a);return o}function eo(t){t=fr(t);for(var e=-1,n=Ba(t),r=n.length,i=Fo(r);++e<r;){var o=n[e];i[e]=[o,t[o]]}return i}function no(t,e,n){var r=null==t?C:t[e];return r===C&&(null==t||tr(e,t)||(e=hr(e),t=1==e.length?t:Re(t,Je(e,0,-1)),r=null==t?C:t[kr(e)]),r=r===C?n:r),Mi(r)?r.call(t):r}function ro(t,e,n){if(null==t)return t;var r=e+"";e=null!=t[r]||tr(e,t)?[r]:hr(e);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var u=e[i];Ri(a)&&(i==s?a[u]=n:null==a[u]&&(a[u]=Qn(e[i+1])?[]:{})),a=a[u]}return t}function io(t,e,n,r){var i=Ta(t)||Hi(t);if(e=Fn(e,r,4),null==n)if(i||Ri(t)){var o=t.constructor;n=i?Ta(t)?new o:[]:Ds(Mi(o)?o.prototype:C)}else n={};return(i?ee:Oe)(t,function(t,r,i){return e(n,t,r,i)}),n}function oo(t){return tn(t,Ba(t))}function so(t){return tn(t,to(t))}function ao(t,e,n){return e=+e||0,n===C?(n=e,e=0):n=+n||0,t>=xs(e,n)&&t<Ss(e,n)}function uo(t,e,n){n&&Zn(t,e,n)&&(e=n=C);var r=null==t,i=null==e;if(null==n&&(i&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,i=!0)),r&&i&&(e=1,i=!1),t=+t||0,i?(e=t,t=0):e=+e||0,n||t%1||e%1){var o=ks();return xs(t+o*(e-t+us("1e-"+((o+"").length-1))),e)}return We(t,e)}function co(t){return t=a(t),t&&t.charAt(0).toUpperCase()+t.slice(1)}function lo(t){return t=a(t),t&&t.replace(Lt,h).replace(Tt,"")}function fo(t,e,n){t=a(t),e+="";var r=t.length;return n=n===C?r:xs(n<0?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n}function ho(t){return t=a(t),t&&_t.test(t)?t.replace(bt,d):t}function po(t){return t=a(t),t&&$t.test(t)?t.replace(At,p):t||"(?:)"}function vo(t,e,n){t=a(t),e=+e;var r=t.length;if(r>=e||!_s(e))return t;var i=(e-r)/2,o=bs(i),s=ms(i);return n=Mn("",s,n),n.slice(0,o)+t+n}function mo(t,e,n){return(n?Zn(t,e,n):null==e)?e=0:e&&(e=+e),t=_o(t),Cs(t,e||(Mt.test(t)?16:10))}function go(t,e){var n="";if(t=a(t),e=+e,e<1||!t||!_s(e))return n;do e%2&&(n+=t),e=bs(e/2),t+=t;while(e);return n}function bo(t,e,n){return t=a(t),n=null==n?0:xs(n<0?0:+n||0,t.length),t.lastIndexOf(e,n)==n}function yo(t,n,r){var i=e.templateSettings;r&&Zn(t,n,r)&&(n=r=C),t=a(t),n=me(ge({},r||n),i,ve);var o,s,u=me(ge({},n.imports),i.imports,ve),c=Ba(u),l=tn(u,c),f=0,h=n.interpolate||jt,d="__p += '",p=Jo((n.escape||jt).source+"|"+h.source+"|"+(h===xt?Ot:jt).source+"|"+(n.evaluate||jt).source+"|$","g"),m="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ft+"]")+"\n";t.replace(p,function(e,n,r,i,a,u){return r||(r=i),d+=t.slice(f,u).replace(Pt,v),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),d+="';\n";var g=n.variable;g||(d="with (obj) {\n"+d+"\n}\n"),d=(s?d.replace(pt,""):d).replace(vt,"$1").replace(mt,"$1;"),d="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var b=Ya(function(){return zo(c,m+"return "+d).apply(C,l)});if(b.source=d,Oi(b))throw b;return b}function _o(t,e,n){var r=t;return(t=a(t))?(n?Zn(r,e,n):null==e)?t.slice(w(t),S(t)+1):(e+="",t.slice(u(t,e),c(t,e)+1)):t}function wo(t,e,n){var r=t;return t=a(t),t?(n?Zn(r,e,n):null==e)?t.slice(w(t)):t.slice(u(t,e+"")):t}function So(t,e,n){var r=t;return t=a(t),t?(n?Zn(r,e,n):null==e)?t.slice(0,S(t)+1):t.slice(0,c(t,e+"")+1):t}function xo(t,e,n){n&&Zn(t,e,n)&&(e=C);var r=L,i=j;if(null!=e)if(Ri(e)){var o="separator"in e?e.separator:o;r="length"in e?+e.length||0:r,i="omission"in e?a(e.omission):i}else r=+e||0;if(t=a(t),r>=t.length)return t;var s=r-i.length;if(s<1)return i;var u=t.slice(0,s);if(null==o)return u+i;if(Fi(o)){if(t.slice(s).search(o)){var c,l,f=t.slice(0,s);for(o.global||(o=Jo(o.source,(It.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(f);)l=c.index;u=u.slice(0,null==l?s:l)}}else if(t.indexOf(o,s)!=s){var h=u.lastIndexOf(o);h>-1&&(u=u.slice(0,h))}return u+i}function Eo(t){return t=a(t),t&&yt.test(t)?t.replace(gt,x):t}function Co(t,e,n){return n&&Zn(t,e,n)&&(e=C),t=a(t),t.match(e||qt)||[]}function ko(t,e,n){return n&&Zn(t,e,n)&&(e=C),g(t)?To(t):_e(t,e)}function Ao(t){return function(){return t}}function $o(t){return t}function To(t){return qe(we(t,!0))}function No(t,e){return Be(t,we(e,!0))}function Oo(t,e,n){if(null==n){var r=Ri(e),i=r?Ba(e):C,o=i&&i.length?Me(e,i):C;(o?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=Me(e,Ba(e)));var s=!0,a=-1,u=Mi(t),c=o.length;n===!1?s=!1:Ri(n)&&"chain"in n&&(s=n.chain);for(;++a<c;){var l=o[a],f=e[l];t[l]=f,u&&(t.prototype[l]=function(e){return function(){var n=this.__chain__;if(s||n){var r=t(this.__wrapped__),i=r.__actions__=te(this.__actions__);return i.push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,ce([this.value()],arguments))}}(f))}return t}function Io(){return ne._=is,this}function Mo(){}function Ro(t){return tr(t)?He(t):ze(t)}function Do(t){return function(e){return Re(t,hr(e),e+"")}}function Lo(t,e,n){n&&Zn(t,e,n)&&(e=n=C),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;for(var r=-1,i=Ss(ms((e-t)/(n||1)),0),o=Fo(i);++r<i;)o[r]=t,t+=n;return o}function jo(t,e,n){if(t=bs(t),t<1||!_s(t))return[];var r=-1,i=Fo(xs(t,Ts));for(e=sn(e,n,1);++r<t;)r<Ts?i[r]=e(r):e(r);return i}function Po(t){var e=++ns;return a(t)+e}function qo(t,e){return(+t||0)+(+e||0)}function Bo(t,e,n){return n&&Zn(t,e,n)&&(e=C),e=Fn(e,n,3),1==e.length?de(Ta(t)?t:lr(t),e):Qe(t,e)}t=t?re.defaults(ne.Object(),t,re.pick(ne,Bt)):ne;var Fo=t.Array,Uo=t.Date,Ho=t.Error,zo=t.Function,Vo=t.Math,Wo=t.Number,Ko=t.Object,Jo=t.RegExp,Xo=t.String,Go=t.TypeError,Yo=Fo.prototype,Qo=Ko.prototype,Zo=Xo.prototype,ts=zo.prototype.toString,es=Qo.hasOwnProperty,ns=0,rs=Qo.toString,is=ne._,os=Jo("^"+ts.call(es).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ss=t.ArrayBuffer,as=t.clearTimeout,us=t.parseFloat,cs=Vo.pow,ls=Qo.propertyIsEnumerable,fs=Vn(t,"Set"),hs=t.setTimeout,ds=Yo.splice,ps=t.Uint8Array,vs=Vn(t,"WeakMap"),ms=Vo.ceil,gs=Vn(Ko,"create"),bs=Vo.floor,ys=Vn(Fo,"isArray"),_s=t.isFinite,ws=Vn(Ko,"keys"),Ss=Vo.max,xs=Vo.min,Es=Vn(Uo,"now"),Cs=t.parseInt,ks=Vo.random,As=Wo.NEGATIVE_INFINITY,$s=Wo.POSITIVE_INFINITY,Ts=4294967295,Ns=Ts-1,Os=Ts>>>1,Is=9007199254740991,Ms=vs&&new vs,Rs={};e.support={};e.templateSettings={escape:wt,evaluate:St,interpolate:xt,variable:"",imports:{_:e}};var Ds=function(){function t(){}return function(e){if(Ri(e)){t.prototype=e;var n=new t;t.prototype=C}return n||{}}}(),Ls=hn(Oe),js=hn(Ie,!0),Ps=dn(),qs=dn(!0),Bs=Ms?function(t,e){return Ms.set(t,e),t}:$o,Fs=Ms?function(t){return Ms.get(t)}:Mo,Us=He("length"),Hs=function(){var t=0,e=0;return function(n,r){var i=va(),o=q-(i-e);if(e=i,o>0){if(++t>=P)return n}else t=0;return Bs(n,r)}}(),zs=gi(function(t,e){return g(t)&&Yn(t)?xe(t,Te(e,!1,!0)):[]}),Vs=Sn(),Ws=Sn(!0),Ks=gi(function(t){for(var e=t.length,n=e,r=Fo(f),i=Hn(),s=i==o,a=[];n--;){var u=t[n]=Yn(u=t[n])?u:[];r[n]=s&&u.length>=120?vn(n&&u):null}var c=t[0],l=-1,f=c?c.length:0,h=r[0];t:for(;++l<f;)if(u=c[l],(h?Yt(h,u):i(a,u,0))<0){for(var n=e;--n;){var d=r[n];if((d?Yt(d,u):i(t[n],u,0))<0)continue t}h&&h.push(u),a.push(u)}return a}),Js=gi(function(t,e){e=Te(e);var n=be(t,e);return Ve(t,e.sort(r)),n}),Xs=Ln(),Gs=Ln(!0),Ys=gi(function(t){return Ze(Te(t,!1,!0))}),Qs=gi(function(t,e){return Yn(t)?xe(t,e):[]}),Zs=gi(jr),ta=gi(function(t){var e=t.length,n=e>2?t[e-2]:C,r=e>1?t[e-1]:C;return e>2&&"function"==typeof n?e-=2:(n=e>1&&"function"==typeof r?(--e,r):C,r=C),t.length=e,Pr(t,n,r)}),ea=gi(function(t){return t=Te(t),this.thru(function(e){return Zt(Ta(e)?e:[fr(e)],t)})}),na=gi(function(t,e){return be(t,Te(e))}),ra=ln(function(t,e,n){es.call(t,n)?++t[n]:t[n]=1}),ia=wn(Ls),oa=wn(js,!0),sa=Cn(ee,Ls),aa=Cn(ie,js),ua=ln(function(t,e,n){es.call(t,n)?t[n].push(e):t[n]=[e]}),ca=ln(function(t,e,n){t[n]=e}),la=gi(function(t,e,n){var r=-1,i="function"==typeof e,o=tr(e),s=Yn(t)?Fo(t.length):[];return Ls(t,function(t){var a=i?e:o&&null!=t?t[e]:C;s[++r]=a?a.apply(t,n):Gn(t,e,n)}),s}),fa=ln(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ha=On(le,Ls),da=On(fe,js),pa=gi(function(t,e){if(null==t)return[];var n=e[2];return n&&Zn(e[0],e[1],n)&&(e.length=1),Ye(t,Te(e),[])}),va=Es||function(){return(new Uo).getTime()},ma=gi(function(t,e,n){var r=A;if(n.length){var i=y(n,ma.placeholder);r|=I}return jn(t,r,e,n,i)}),ga=gi(function(t,e){e=e.length?Te(e):Gi(t);for(var n=-1,r=e.length;++n<r;){var i=e[n];t[i]=jn(t[i],A,t)}return t}),ba=gi(function(t,e,n){var r=A|$;if(n.length){var i=y(n,ba.placeholder);r|=I}return jn(e,r,t,n,i)}),ya=bn(N),_a=bn(O),wa=gi(function(t,e){return Se(t,1,e)}),Sa=gi(function(t,e,n){return Se(t,e,n)}),xa=En(),Ea=En(!0),Ca=gi(function(t,e){if(e=Te(e),"function"!=typeof t||!oe(e,s))throw new Go(H);var n=e.length;return gi(function(r){for(var i=xs(r.length,n);i--;)r[i]=e[i](r[i]);return t.apply(this,r)})}),ka=Nn(I),Aa=Nn(M),$a=gi(function(t,e){return jn(t,D,C,C,C,Te(e))}),Ta=ys||function(t){return g(t)&&nr(t.length)&&rs.call(t)==W},Na=fn(Fe),Oa=fn(function(t,e,n){return n?me(t,e,n):ge(t,e)}),Ia=yn(Oa,pe),Ma=yn(Na,or),Ra=xn(Oe),Da=xn(Ie),La=kn(Ps),ja=kn(qs),Pa=An(Oe),qa=An(Ie),Ba=ws?function(t){var e=null==t?C:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&Yn(t)?cr(t):Ri(t)?ws(t):[]}:cr,Fa=$n(!0),Ua=$n(),Ha=gi(function(t,e){if(null==t)return{};if("function"!=typeof e[0]){var e=ue(Te(e),Xo);return sr(t,xe(to(t),e))}var n=sn(e[0],e[1],3);return ar(t,function(t,e,r){return!n(t,e,r)})}),za=gi(function(t,e){return null==t?{}:"function"==typeof e[0]?ar(t,sn(e[0],e[1],3)):sr(t,Te(e))}),Va=mn(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Wa=mn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ka=Tn(),Ja=Tn(!0),Xa=mn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ga=mn(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Ya=gi(function(t,e){try{return t.apply(C,e)}catch(n){return Oi(n)?n:new Ho(n)}}),Qa=gi(function(t,e){return function(n){return Gn(n,t,e)}}),Za=gi(function(t,e){return function(n){return Gn(t,n,e)}}),tu=Dn("ceil"),eu=Dn("floor"),nu=_n(xi,As),ru=_n(Vi,$s),iu=Dn("round");return e.prototype=n.prototype,b.prototype=Ds(n.prototype),b.prototype.constructor=b,Y.prototype=Ds(n.prototype),Y.prototype.constructor=Y,Vt.prototype["delete"]=Wt,Vt.prototype.get=Kt,Vt.prototype.has=Jt,Vt.prototype.set=Xt,Gt.prototype.push=Qt,pi.Cache=Vt,e.after=li,e.ary=fi,e.assign=Oa,e.at=na,e.before=hi,e.bind=ma,e.bindAll=ga,e.bindKey=ba,e.callback=ko,e.chain=Fr,e.chunk=pr,e.compact=vr,e.constant=Ao,e.countBy=ra,e.create=Xi,e.curry=ya,e.curryRight=_a,e.debounce=di,e.defaults=Ia,e.defaultsDeep=Ma,e.defer=wa,e.delay=Sa,e.difference=zs,e.drop=mr,e.dropRight=gr,e.dropRightWhile=br,e.dropWhile=yr,e.fill=_r,e.filter=Yr,e.flatten=Sr,e.flattenDeep=xr,e.flow=xa,e.flowRight=Ea,e.forEach=sa,e.forEachRight=aa,e.forIn=La,e.forInRight=ja,e.forOwn=Pa,e.forOwnRight=qa,e.functions=Gi,e.groupBy=ua,e.indexBy=ca,e.initial=Cr,e.intersection=Ks,e.invert=Zi,e.invoke=la,e.keys=Ba,e.keysIn=to,e.map=ti,e.mapKeys=Fa,e.mapValues=Ua,e.matches=To,e.matchesProperty=No,e.memoize=pi,e.merge=Na,e.method=Qa,e.methodOf=Za,e.mixin=Oo,e.modArgs=Ca,e.negate=vi,e.omit=Ha,e.once=mi,e.pairs=eo,e.partial=ka,e.partialRight=Aa,e.partition=fa,e.pick=za,e.pluck=ei,e.property=Ro,e.propertyOf=Do,e.pull=$r,e.pullAt=Js,e.range=Lo,e.rearg=$a,e.reject=ni,e.remove=Tr,e.rest=Nr,e.restParam=gi,e.set=ro,e.shuffle=ii,e.slice=Or,e.sortBy=ai,e.sortByAll=pa,e.sortByOrder=ui,e.spread=bi,e.take=Ir,e.takeRight=Mr,e.takeRightWhile=Rr,e.takeWhile=Dr,e.tap=Ur,e.throttle=yi,e.thru=Hr,e.times=jo,e.toArray=Ki,e.toPlainObject=Ji,e.transform=io,e.union=Ys,e.uniq=Lr,e.unzip=jr,e.unzipWith=Pr,e.values=oo,e.valuesIn=so,e.where=ci,e.without=Qs,e.wrap=_i,e.xor=qr,e.zip=Zs,e.zipObject=Br,e.zipWith=ta,e.backflow=Ea,e.collect=ti,e.compose=Ea,e.each=sa,e.eachRight=aa,e.extend=Oa,e.iteratee=ko,e.methods=Gi,e.object=Br,e.select=Yr,e.tail=Nr,e.unique=Lr,Oo(e,e),e.add=qo,e.attempt=Ya,e.camelCase=Va,e.capitalize=co,e.ceil=tu,e.clone=wi,e.cloneDeep=Si,e.deburr=lo,e.endsWith=fo,e.escape=ho,e.escapeRegExp=po,e.every=Gr,e.find=ia,e.findIndex=Vs,e.findKey=Ra,e.findLast=oa,e.findLastIndex=Ws,e.findLastKey=Da,e.findWhere=Qr,e.first=wr,e.floor=eu,e.get=Yi,e.gt=xi,e.gte=Ei,e.has=Qi,e.identity=$o,e.includes=Zr,e.indexOf=Er,e.inRange=ao,e.isArguments=Ci,e.isArray=Ta,e.isBoolean=ki,e.isDate=Ai,e.isElement=$i,e.isEmpty=Ti,e.isEqual=Ni,e.isError=Oi,e.isFinite=Ii,e.isFunction=Mi,e.isMatch=Di,e.isNaN=Li,e.isNative=ji,e.isNull=Pi,e.isNumber=qi,e.isObject=Ri,e.isPlainObject=Bi,e.isRegExp=Fi,e.isString=Ui,e.isTypedArray=Hi,e.isUndefined=zi,e.kebabCase=Wa,e.last=kr,e.lastIndexOf=Ar,e.lt=Vi,e.lte=Wi,e.max=nu,e.min=ru,e.noConflict=Io,e.noop=Mo,e.now=va,e.pad=vo,e.padLeft=Ka,e.padRight=Ja,e.parseInt=mo,e.random=uo,e.reduce=ha,e.reduceRight=da,e.repeat=go,e.result=no,e.round=iu,e.runInContext=E,e.size=oi,e.snakeCase=Xa,e.some=si,e.sortedIndex=Xs,e.sortedLastIndex=Gs,e.startCase=Ga,e.startsWith=bo,e.sum=Bo,e.template=yo,e.trim=_o,e.trimLeft=wo,e.trimRight=So,e.trunc=xo,e.unescape=Eo,e.uniqueId=Po,e.words=Co,e.all=Gr,e.any=si,e.contains=Zr,e.eq=Ni,e.detect=ia,e.foldl=ha,e.foldr=da,e.head=wr,e.include=Zr,e.inject=ha,Oo(e,function(){var t={};return Oe(e,function(n,r){e.prototype[r]||(t[r]=n)}),t}(),!1),e.sample=ri,e.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return ri(e,t)}):ri(this.value())},e.VERSION=k,ee(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){e[t].placeholder=e}),ee(["drop","take"],function(t,e){Y.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Y(this);n=null==n?1:Ss(bs(n)||0,0);var i=this.clone();return r?i.__takeCount__=xs(i.__takeCount__,n):i.__views__.push({size:n,type:t+(i.__dir__<0?"Right":"")}),i},Y.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),ee(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n!=U;Y.prototype[t]=function(t,e){var i=this.clone();return i.__iteratees__.push({iteratee:Fn(t,e,1),type:n}),i.__filtered__=i.__filtered__||r,i}}),ee(["first","last"],function(t,e){var n="take"+(e?"Right":"");Y.prototype[t]=function(){return this[n](1).value()[0]}}),ee(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Y.prototype[t]=function(){return this.__filtered__?new Y(this):this[n](1)}}),ee(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?qe:Ro;Y.prototype[t]=function(t){return this[n](r(t))}}),Y.prototype.compact=function(){return this.filter($o)},Y.prototype.reject=function(t,e){return t=Fn(t,e,1),this.filter(function(e){return!t(e)})},Y.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=this;return n.__filtered__&&(t>0||e<0)?new Y(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==C&&(e=+e||0,n=e<0?n.dropRight(-e):n.take(e-t)),n)},Y.prototype.takeRightWhile=function(t,e){return this.reverse().takeWhile(t,e).reverse()},Y.prototype.toArray=function(){return this.take($s)},Oe(Y.prototype,function(t,n){var r=/^(?:filter|map|reject)|While$/.test(n),i=/^(?:first|last)$/.test(n),o=e[i?"take"+("last"==n?"Right":""):n];o&&(e.prototype[n]=function(){var e=i?[1]:arguments,n=this.__chain__,s=this.__wrapped__,a=!!this.__actions__.length,u=s instanceof Y,c=e[0],l=u||Ta(s);l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=function(t){return i&&n?o(t,1)[0]:o.apply(C,ce([t],e))},h={func:Hr,args:[f],thisArg:C},d=u&&!a;if(i&&!n)return d?(s=s.clone(),s.__actions__.push(h),t.call(s)):o.call(C,this.value())[0];if(!i&&l){s=d?s:new Y(this);var p=t.apply(s,e);return p.__actions__.push(h),new b(p,n)}return this.thru(f)})}),ee(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(t){var n=(/^(?:replace|split)$/.test(t)?Zo:Yo)[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(t);e.prototype[t]=function(){var t=arguments;return i&&!this.__chain__?n.apply(this.value(),t):this[r](function(e){return n.apply(e,t)})}}),Oe(Y.prototype,function(t,n){var r=e[n];if(r){var i=r.name,o=Rs[i]||(Rs[i]=[]);o.push({name:n,func:r})}}),Rs[In(C,$).name]=[{name:"wrapper",func:C}],Y.prototype.clone=et,Y.prototype.reverse=rt,Y.prototype.value=zt,e.prototype.chain=zr,e.prototype.commit=Vr,e.prototype.concat=ea,e.prototype.plant=Wr,e.prototype.reverse=Kr,e.prototype.toString=Jr,e.prototype.run=e.prototype.toJSON=e.prototype.valueOf=e.prototype.value=Xr,e.prototype.collect=e.prototype.map,e.prototype.head=e.prototype.first,e.prototype.select=e.prototype.filter,e.prototype.tail=e.prototype.rest,e}var C,k="3.10.1",A=1,$=2,T=4,N=8,O=16,I=32,M=64,R=128,D=256,L=30,j="...",P=150,q=16,B=200,F=1,U=2,H="Expected a function",z="__lodash_placeholder__",V="[object Arguments]",W="[object Array]",K="[object Boolean]",J="[object Date]",X="[object Error]",G="[object Function]",Y="[object Map]",Q="[object Number]",Z="[object Object]",tt="[object RegExp]",et="[object Set]",nt="[object String]",rt="[object WeakMap]",it="[object ArrayBuffer]",ot="[object Float32Array]",st="[object Float64Array]",at="[object Int8Array]",ut="[object Int16Array]",ct="[object Int32Array]",lt="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",dt="[object Uint32Array]",pt=/\b__p \+= '';/g,vt=/\b(__p \+=) '' \+/g,mt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,gt=/&(?:amp|lt|gt|quot|#39|#96);/g,bt=/[&<>"'`]/g,yt=RegExp(gt.source),_t=RegExp(bt.source),wt=/<%-([\s\S]+?)%>/g,St=/<%([\s\S]+?)%>/g,xt=/<%=([\s\S]+?)%>/g,Et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Ct=/^\w*$/,kt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,At=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,$t=RegExp(At.source),Tt=/[\u0300-\u036f\ufe20-\ufe23]/g,Nt=/\\(\\)?/g,Ot=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,It=/\w*$/,Mt=/^0[xX]/,Rt=/^\[object .+?Constructor\]$/,Dt=/^\d+$/,Lt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,jt=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,qt=function(){
var t="[A-Z\\xc0-\\xd6\\xd8-\\xde]",e="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(t+"+(?="+t+e+")|"+t+"?"+e+"|"+t+"+|[0-9]+","g")}(),Bt=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ft=-1,Ut={};Ut[ot]=Ut[st]=Ut[at]=Ut[ut]=Ut[ct]=Ut[lt]=Ut[ft]=Ut[ht]=Ut[dt]=!0,Ut[V]=Ut[W]=Ut[it]=Ut[K]=Ut[J]=Ut[X]=Ut[G]=Ut[Y]=Ut[Q]=Ut[Z]=Ut[tt]=Ut[et]=Ut[nt]=Ut[rt]=!1;var Ht={};Ht[V]=Ht[W]=Ht[it]=Ht[K]=Ht[J]=Ht[ot]=Ht[st]=Ht[at]=Ht[ut]=Ht[ct]=Ht[Q]=Ht[Z]=Ht[tt]=Ht[nt]=Ht[lt]=Ht[ft]=Ht[ht]=Ht[dt]=!0,Ht[X]=Ht[G]=Ht[Y]=Ht[et]=Ht[rt]=!1;var zt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Vt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Wt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kt={"function":!0,object:!0},Jt={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gt=Kt[typeof n]&&n&&!n.nodeType&&n,Yt=Kt[typeof e]&&e&&!e.nodeType&&e,Qt=Gt&&Yt&&"object"==typeof t&&t&&t.Object&&t,Zt=Kt[typeof self]&&self&&self.Object&&self,te=Kt[typeof window]&&window&&window.Object&&window,ee=Yt&&Yt.exports===Gt&&Gt,ne=Qt||te!==(this&&this.window)&&te||Zt||this,re=E();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ne._=re,define(function(){return re})):Gt&&Yt?ee?(Yt.exports=re)._=re:Gt._=re:ne._=re}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1]);